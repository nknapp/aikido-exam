import{c as P,F as an,g as E,s as sn,r as ye,t as k,d as rr,a as q,i as j,b as oe,o as nr,e as on,f as Ye,h as ln,j as Ze,k as Pt,l as un,m as ma,n as $a,p as wa}from"./web.BO7jKKnc.js";const _a="modulepreload",Sa=function(e){return"/"+e},gr={},cn=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");a=Promise.all(r.map(l=>{if(l=Sa(l),l in gr)return;gr[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":_a,u||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return a.then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})};var xa={},Oa=Object.defineProperty,ja=(e,t,r)=>t in e?Oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fn=(e,t,r)=>(ja(e,typeof t!="symbol"?t+"":t,r),r),ar=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},f=(e,t,r)=>(ar(e,t,"read from private field"),r?r.call(e):t.get(e)),m=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},w=(e,t,r,n)=>(ar(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),O=(e,t,r)=>(ar(e,t,"access private method"),r),ee="astro-i18n",Ca=`${ee}.config`,vr="github.com/alexandre-fernandez/astro-i18n/issues",Aa=class extends Error{constructor(e){super(e?`${ee}: Unreachable code executed (at "${e}"), please open an issue at "${vr}".`:`${ee}: Unreachable code executed, please open an issue at "${vr}".`)}},Ta=Aa;function _(){throw new Ta}function Pa(e=new Error("Something went wrong.")){throw e}var Lt,hn,Pe=class{constructor(e){m(this,Lt),fn(this,"regexp"),this.regexp=new RegExp(e.source,e.flags)}static fromString(e,t){return new Pe(new RegExp(e,t))}get source(){return this.regexp.source}get flags(){return this.regexp.flags}add(e){return this.regexp=new RegExp(`${this.regexp.source}${e.source}`,this.regexp.flags),this}test(e){return this.regexp.test(e)}exec(e,t){let r=O(this,Lt,hn).call(this,e),n=r.next();for(;!n.done&&t(n.value)!==Pe.BREAK;)n=r.next();return this}match(e){let t=null;return this.exec(e,r=>(t=r,Pe.BREAK)),t}clone(){return new Pe(new RegExp(this.regexp.source,this.regexp.flags))}toMatcher(){return this.match.bind(this)}},dn=Pe;Lt=new WeakSet,hn=function*(e){let t=this.regexp;t.flags.includes("g")||(t=new RegExp(this.regexp.source,`${this.regexp.flags}g`));let r=t.exec(e);for(;r!==null;)r&&(yield{range:[r.index,r.index+r[0].length],match:[...r]}),r=t.exec(e)},fn(dn,"BREAK","break");var b=dn,pn=class{#t;#e;constructor({source:e,flags:t}){this.#t=e,this.#e=t}static fromRegex(e){return new pn(e.regexp)}appendPattern(e){return this.#t=`${this.#t}${e}`,this}matchTrimifiable(){return this.#t=`\\s*${this.#t}\\s*`,this}assertStarting(){return this.#t=`^${this.#t}`,this}assertEnding(){return this.#t=`${this.#t}$`,this}addGroup(){return this.#t=`(${this.#t})`,this}addGlobalFlag(){return this.#e.includes("g")||(this.#e=`${this.#e}g`),this}build(){return new b(new RegExp(this.#t,this.#e))}},te=pn;function Ge(e,t,r){if(!t(e)){let n="";throw e?typeof e=="object"?n=`
${e.constructor.name}
${JSON.stringify(e,null,4)}`:typeof e=="symbol"?n=`Symbol("${e.description}")`:n=typeof e=="string"?`"${e}"`:`${e}`:n=`${e}`,!r&&t.name.startsWith("is")&&(r=t.name.slice(2)),new TypeError(r?`Unexpected type (expecting \`${r}\`), found: ${n}`:`Unexpected type, found: ${n}`)}}function La(e){return typeof e=="number"&&!Number.isNaN(e)}function Ea(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function We(e){return Array.isArray(e)}function Ne(e){return We(e)&&e.every(t=>typeof t=="string")}function x(e){return!!e&&typeof e=="object"}function yr(e){return x(e)?Object.getPrototypeOf(e)===Object.prototype:!1}var Ae,pe,Le,Et=class{static get path(){return O(this,pe,Le).call(this,"path")}static get posix(){return this.path.then(({posix:e})=>e)}static get fs(){return O(this,pe,Le).call(this,"fs")}static get url(){return O(this,pe,Le).call(this,"url")}static get module(){return O(this,pe,Le).call(this,"module")}};Ae=new WeakMap,pe=new WeakSet,Le=async function(e){if(f(this,Ae)[e])return f(this,Ae)[e];let t=await cn(()=>import(`node:${e}`),[]);return f(this,Ae)[e]=t,t},m(Et,pe),m(Et,Ae,{});var L=Et;async function Xe(e){let{sep:t,posix:r}=await L.path;return e.split(t).join(r.sep)}async function Ie(e){let t=await Ra(e),r=e.split(t);return r.pop(),r.join(t)}function ka(e){switch(e){case"":return!0;case"/":return!0;case"\\":return!0;default:return!/[/\\]/.test(e)}}async function Ra(e){let{sep:t}=await L.path,r=e.split("/").length-1,n=e.split("\\").length-1;return r>n?"/":n>r?"\\":t}function H(e,t,r){let{mode:n,mutable:a}={mode:"replace",mutable:!0,...r},s=a?e:structuredClone(e);for(let[i,o]of Object.entries(t)){let l=s[i];if(Object.hasOwn(s,i)){kt(l)&&kt(o)?H(l,o):n==="replace"&&(s[i]=t[i]);continue}s[i]=t[i]}return a?void 0:s}function Me(e,t,r){let n=typeof t=="string"?[t]:t,a=e;for(let[s,i]of n.entries()){if(s===n.length-1){a[i]=r;break}kt(a[i])||(a[i]={}),a=a[i]}}function kt(e){return typeof e!="object"?!1:Object.getPrototypeOf(e)===Object.prototype}var Ia=class extends Error{constructor(e){super(e?`Peer dependency \`${e}\` was not found, if it's not already done try installing it.`:"A dependency was not found.")}},Ma=Ia,Da=class extends Error{constructor(e){super(e?`No file was found for the given path (${e}).`:"No file was found for the given path.")}},gn=Da,Na=class extends Error{constructor(e=[]){super(e.length>0?`Invalid file type, supported formats are: "${e.join('", "')}"`:"Invalid file type, format not supported.")}},vn=Na,Fa=class extends Error{constructor(e){super(e?`Invalid format, could not parse JSON (${e}).`:"Invalid format, could not parse JSON.")}},Ga=Fa;async function Y(e){if(!e)return!1;let{existsSync:t,lstatSync:r}=await L.fs;return t(e)&&r(e).isDirectory()}async function at(e){if(!e)return!1;let{existsSync:t,lstatSync:r}=await L.fs;return t(e)&&!r(e).isDirectory()}async function Wa(e){let{accessSync:t,constants:r}=await L.fs;try{return t(e,r.R_OK),!0}catch{return!1}}async function yn(e,t){let{readdirSync:r}=await L.fs,n=r(e);await t(await Xe(e),n);for(let a of n){let s=`${e}/${a}`;await Y(s)&&await yn(s,t)}}async function za(e){let t=null;t=await cn(()=>import("./main.BZ9ECfrH.js").then(n=>n.m),[]);let r=/\.(js|cjs|mjs|ts)$/;if(!at(e))throw new gn(e);if(!r.test(e))throw new vn(["js","cjs","mjs","ts"]);try{let{outputFiles:n}=await t.build({entryPoints:[e],bundle:!0,external:["esbuild"],format:"cjs",platform:"node",write:!1}),a=new TextDecoder().decode(n[0]?.contents);return a?qa(a,e.replace(r,".cjs")):{}}catch{throw new Ma("esbuild")}}async function ze(e){if(!at(e))throw new gn(e);if(!/\.json$/.test(e))throw new vn(["json"]);let{readFileSync:t}=await L.fs,r=t(e,{encoding:"utf8"});try{return JSON.parse(r)}catch{throw new Ga(e)}}async function qa(e,t){let{Module:r}=await L.module,n=t.split("/").slice(0,-1).join("/"),a={module:new r(t),require(s){return this.module.require(s)}};return a.module.paths=r._nodeModulePaths(n),a.module.filename=t,a.module.exports={},a.require=s=>a.module.require(s),Object.assign(a.require,{resolve:s=>r._resolveFilename(s,a.module)}),new Function("exports","require","module","__filename","__dirname",e)(a.module.exports,a.require,a.module,t,n),a.module.exports}var le="break",Ua=["json","js","cjs","mjs","ts"],Rt="i18n",De="pages",Ba=class extends Error{constructor(){super(`Could not find astro "${De}" directory.`)}},Ha=Ba,Ka=new b(/(\/[^\s/]+)?(\/[^\s/]+)\.astro$/),mt=new b(/^---\n([\S\s]+)\n---\n/),Va=new b(/export\s*(?:const\s+prerender|var\s+prerender|let\s+prerender|prerender)(?:\s*=\s*)?(true|false)?|export\s*?{\s*?prerender\s*?}/),Ja=new b(/export\s+(?:async\s+)?(?:function\s+|const\s+|var\s+|let\s+)getStaticPaths|export\s*{\s*getStaticPaths\s*}/),Ya=class{#t;#e;#r;#o;#l;#s=void 0;#n=void 0;#a=null;#i=null;constructor({name:e,route:t,path:r,translations:n,routes:a}){this.#t=e,this.#e=t,this.#r=r,this.#o=n,this.#l=a}get name(){return this.#t}get route(){return this.#e}get path(){return this.#r}get translations(){return this.#o}get routes(){return this.#l}async getContent(){if(this.#a)return this.#a;let{readFileSync:e}=await L.fs;return this.#a=e(this.#r,{encoding:"utf8"}),this.#i=mt.match(this.#a)?.match[0]||null,this.#a}async getFrontmatter(){return this.#i?this.#i:(this.getContent(),this.#i)}async hasGetStaticPaths(){if(typeof this.#s<"u")return this.#s;let{readFileSync:e}=await L.fs,t=e(this.#r,{encoding:"utf8"}),r=mt.match(t)?.match[0];return this.#s=r?Ja.test(r):!1,this.#s}async prerender(){if(typeof this.#n<"u")return this.#n;let{readFileSync:e}=await L.fs,t=e(this.#r,{encoding:"utf8"}),r=mt.match(t)?.match[0];if(!r)return this.#n=!1,this.#n;let{match:n}=Va.match(r)||{};return n?n[1]?this.#n=n[1]==="true":this.#n=!0:this.#n=null,this.#n}async getProxy(e,t){let r=this.path.lastIndexOf("src/pages");if(r=r<0?null:r+9,!r)return null;let n="";e=e.replace(/\/$/,"")||"/";let a=this.#r.slice(r),s=e.split("/").length-1,i=`${"../".repeat(s)}${a.slice(1)}`;if(n+=`---
import Page from "${i}"
`,await this.hasGetStaticPaths()){let{locale:l,route:u}=t.internals.splitLocaleAndRoute(e);n+=`import { getStaticPaths as proxyGetStaticPaths } from "${i}"
/* @ts-ignore */
export const getStaticPaths = (props) => proxyGetStaticPaths({ ...props, astroI18n: `,n+=`{ locale: "${l}", route: "${u}", primaryLocale: "${t.primaryLocale}", secondaryLocales: ["${t.secondaryLocales.join('", "')}"] } })
`}let o=await this.prerender();return typeof o=="boolean"&&(n+=o?`export const prerender = true
`:`export const prerender = false
`),n+=`const { props } = Astro
---
<Page {...props} />`,n}},br=Ya,Za=class extends Error{constructor(e){super(e?`Invalid pattern (${e.source}) given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).`:"Invalid pattern given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).")}},Xa=Za;function be(e,t=!0){if(t){if(!x(e))return!1;for(let r of Object.values(e))if(!be(r,!1))return!1;return!0}if(typeof e=="string")return!0;if(!x(e))return!1;for(let r of Object.values(e))if(!be(r,!1))return!1;return!0}async function Qa(e,t={}){let{join:r}=await L.path,n=`${e}/${t.srcDir}/${De}`;if(!await Y(n))throw new Ha;let a={},s=(t.secondaryLocales||[]).map(p=>`/${t.srcDir}/${De}/${p}`),i={i18n:Rt,pages:Rt,...t.translationDirectory},o=[t.primaryLocale||"en",...t.secondaryLocales||[]],l=b.fromString(`(\\/[^\\/\\s]+)?(?:\\/_?${i.pages})?\\/_?(${o.join("|")})(\\.[^\\.\\s]+)?\\.json$`),u=b.fromString(`_?${i.pages}`),h=t.showPrimaryLocale?r(n,t.primaryLocale||"en"):n;await yn(h,async(p,g)=>{if(!s.some(v=>p.includes(v)))for(let v of g){let y=`${p}/${v}`;if(await Y(y))continue;let $=y.replace(n,"");if($.endsWith(".astro")){let{match:I,range:fe}=Ka.match($)||{};if(!I||!I[2]||!fe)continue;let F="index",J="/";if(I[1]?I[2]==="/index"?(F=I[1].replace("/",""),J=`${$.slice(0,fe[0])}/${F}`):(F=I[2].replace("/",""),J=`${$.slice(0,fe[0]+I[1].length)}/${F}`):I[2]!=="/index"&&(F=I[2].replace("/",""),J=`/${F}`),F.startsWith("_"))continue;a[J]={...a[J],name:F,route:J,path:y};continue}if(!$.endsWith(".json"))continue;let{match:C,range:N}=l.match($)||{};if(!C||!N)continue;let A=`${$.slice(0,N[0])}${C[1]||"/"}`;u.test(A)&&(A="/");let R=C[2]||_(),re=A.split("/").slice(-1).join("")||"index",V=C[3]?C[3].replace(".",""):null,Ce=await ze(y);Ge(Ce,be,`${R}.PageTranslations`),H(Ce,a[A]?.translations?.[R]||{});let yt={...a[A]?.translations,[R]:Ce},bt=V?{...a[A]?.routes,[R]:{[re]:V}}:{...a[A]?.routes};a[A]={...a[A],name:re,route:A,translations:yt,routes:bt}}});let c=[];for(let p of Object.values(a))!p.path||!p.name||!p.route||c.push({translations:{},routes:{},...p});let d=`${e}/${t.srcDir}/${i.i18n}/${De}`;if(!await Y(d))return c.map(p=>new br(p));for(let p of c){let g=`${d}${p.route}`.replace(/\/$/,"");if(!await Y(g))continue;let v=await mr(g,p.name,l);for(let{translations:y,routes:$}of v)H(p.translations,y),H(p.routes,$);if(g=`${g}/${i.pages}`,!!await Y(g)){v=await mr(g,p.name,l);for(let{translations:y,routes:$}of v)H(p.translations,y),H(p.routes,$)}}return c.map(p=>new br(p))}async function mr(e,t,r){let{readdirSync:n}=await L.fs,a=[];for(let s of n(e,{encoding:"utf8"})){let{match:i}=r.match(`/${s}`)||{};if(!i)continue;let o=i[2]||Pa(new Xa),l=i[3]?i[3].replace(".",""):null,u=await ze(`${e}/${s}`);Ge(u,be,`${o}.PageTranslations`),a.push({translations:{[o]:u},routes:l?{[o]:{[t]:l}}:{}})}return a}var es=class extends Error{constructor(e){super(e?`Unable to find project root. ${e}`:"Unable to find project root.")}},ts=es,rs=b.fromString(`${ee}\\.config\\.(${Ua.join("|")})`),ns=b.fromString("astro\\.config\\.(js|cjs|mjs|ts)"),as=new b(/[/\\]?node_modules/),ss=new b(/.+?node_modules/),is=new b(/(?:package|deno)\.json/),os=new b(/package\.json/),ls=new b(/deno\.jsonc?/),us=new b(/deps\.ts/),$t=".",ie="common",cs=te.fromRegex(rs).assertEnding().build(),bn=te.fromRegex(ns).assertEnding().build();function fs(e){let t={routes:[],extra:[],common:void 0};for(let r of Object.keys(e)){if(r.startsWith("/")){t.routes.push(r);continue}if(r===ie){t.common=ie;continue}t.extra.push(r)}return t}async function hs(e,t={}){let r=`${e}/${t.srcDir}/${t.translationDirectory?.i18n||Rt}`,n={};if(!await Y(r))return n;let{readdirSync:a}=await L.fs,s=[t.primaryLocale||"en",...t.secondaryLocales||[]],i=b.fromString(`(${s.join("|")})\\.json`);for(let o of a(r)){if(o===De)continue;let l=`${r}/${o}`;if(await Y(l))for(let u of a(l)){let{match:h}=i.match(u)||{};if(!h?.[1])continue;let c=h[1],d=await ze(`${l}/${u}`);Ge(d,be,`${c}.GroupTranslations`),Me(n,[o,c],d)}}return n}async function wt(e){return ge(mn(e),cs.regexp)}async function ds(e){let t=await ge(mn(e),bn.regexp);if(!t)return null;let{readdirSync:r}=await L.fs,n=await Ie(t),a=r(n),s=a.find(i=>os.test(i));if(s){let i=await ze(`${n}/${s}`);if(yr(i)&&yr(i.dependencies)&&i.dependencies[ee])return n}return a.find(i=>ls.test(i))||a.find(i=>us.test(i))?n:null}async function ps(e){let{readdirSync:t}=await L.fs;return typeof t(e).find(r=>bn.test(r))=="string"}function mn(e){let{match:t}=ss.match(e)||{};return t?t[0]?.replace(as.regexp,"")||"/":e}async function ge(e,t,r=1,n=!0){let{readdirSync:a}=await L.fs;if(await at(e))return t.test(e)?e:n?ge(await Ie(e),t,1,!1):null;if(!await Wa(e)||ka(e))return null;let s=a(e),i=s.find(l=>t.test(l));if(i)return`${e}/${i}`;if(r>0&&typeof s.find(l=>is.test(l))!="string")return ge(await Ie(e),t,1,!1);let o=s.filter(l=>{switch(l){case"node_modules":return!1;case"src":return!1;case"public":return!1;case"dist":return!1;case"build":return!1;default:return!l.startsWith(".")}});for(let l of o){let u=`${e}/${l}`;if(await at(e))continue;let h=await ge(u,t,-1,!1);if(typeof h=="string")return h}return r>0?ge(await Ie(e),t,1,!1):null}var gs=class extends Error{constructor(){super(`Unable to find ${Ca}.`)}},vs=gs;function ys(e){if(!x(e))return!1;for(let t of Object.values(e)){if(!x(t))return!1;for(let r of Object.values(t))if(typeof r!="string")return!1}return!0}function bs(e){if(!x(e))return!1;for(let t of Object.values(e)){if(!x(t))return!1;for(let r of Object.values(t))if(!be(r))return!1}return!0}function ms(e){if(!We(e))return!1;for(let t of e){if(!x(t))return!1;let r=Object.entries(t);if(r.length<2)return!1;for(let[n,a]of r)switch(n){case"groups":{if(!Ne(a))return!1;break}case"routes":{if(!Ne(a))return!1;break}default:return!1}}return!0}function $s(e){if(!x(e))return!1;for(let[t,r]of Object.entries(e))if(t!=="i18n"&&t!=="pages"||typeof r!="string")return!1;return!0}function ws(e){if(!x(e))return!1;for(let[t,r]of Object.entries(e))switch(t){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!Ne(r))return!1;break}case"fallbackLocale":{if(typeof r!="string")return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}case"run":{if(r!=="server"&&r!=="client+server")return!1;break}case"translations":{if(!bs(r))return!1;break}case"translationLoadingRules":{if(!ms(r))return!1;break}case"translationDirectory":{if(!$s(r))return!1;break}case"routes":{if(!ys(r))return!1;break}case"srcDir":{if(typeof r!="string")return!1;break}default:return!1}return!0}function _s(e){if(!x(e))return!1;for(let[t,r]of Object.entries(e))switch(t){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!Ne(r))return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}default:return!1}return!0}var Ss=class extends Error{constructor(e){super(e?`Your primaryLocale ("${e}") cannot be contained in your secondaryLocales array.`:"Your primaryLocale cannot be contained in your secondaryLocales array.")}},xs=Ss,$n=class{primaryLocale;secondaryLocales;fallbackLocale;showPrimaryLocale;trailingSlash;run;translations;translationLoadingRules;translationDirectory;routes;path;srcDir;constructor({primaryLocale:e,secondaryLocales:t,fallbackLocale:r,showPrimaryLocale:n,trailingSlash:a,run:s,translations:i,translationLoadingRules:o,translationDirectory:l,routes:u,srcDir:h}={},c=""){if(this.primaryLocale=e||"en",this.secondaryLocales=t||[],this.fallbackLocale=r??(e||""),this.showPrimaryLocale=n||!1,this.trailingSlash=a||"never",this.run=s||"client+server",this.translations=i||{},this.translationLoadingRules=o||[],this.translationDirectory=l||{},this.routes=u||{},this.path=c||"",this.srcDir=h||"src",this.secondaryLocales.includes(this.primaryLocale))throw new xs(this.primaryLocale)}get pages(){return Object.keys(this.translations).filter(e=>e.startsWith("/"))}static async fromFilesystem(e=null){let{fileURLToPath:t}=await L.url;if(!e){let n="";typeof process<"u"&&(n=xa.PWD||""),e=await wt(await Xe(n))}if(!e){let n="";typeof process<"u"&&(n=process.cwd()),e=await wt(await Xe(n))}if(!e){let n="";typeof import.meta=="object"&&typeof import.meta.url=="string"?n=t(import.meta.url):typeof __filename=="string"&&(n=__filename),n&&(e=await wt(await Xe(n)))}if(!e)throw new vs;let r=e.endsWith(".json")?await ze(e):(await za(e)).default;return Ge(r,ws,"AstroI18nConfig"),new $n(r,e).loadFilesystemTranslations()}async loadFilesystemTranslations(){if(!this.path)return this;let e=await Ie(this.path);if(!await ps(e)){let n=await ds(this.path);if(!n)throw new ts;e=n}let t=await Qa(e,this);for(let n of t)this.translations[n.route]||(this.translations[n.route]={}),H(this.translations[n.route]||_(),n.translations),this.routes||(this.routes={}),H(this.routes,n.routes);let r=await hs(e,this);return H(this.translations,r),this}toClientSideObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash}}toObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash,run:this.run,translations:this.translations,translationLoadingRules:this.translationLoadingRules,translationDirectory:this.translationDirectory,routes:this.routes}}toString(){return JSON.stringify(this.toObject(),null,"	")}},Ee=$n,wn=(e=>(e.NONE="none",e.NODE="node",e.BROWSER="browser",e))(wn||{}),he=wn,Os=new b(/[$A-Z_a-z]/),sr=te.fromRegex(Os).appendPattern("[\\w$]*").build(),js=new b(/-?\d+(?:\.\d+)?/),Cs=new b(/^\s*$/),$r=new b(/{{(.+)}}/),_n=new b(/{#(.+?)#}/),As=b.fromString(`\\(\\s*(${sr.source})\\s*\\)`),Ts=b.fromString(`>\\s*(${sr.source})\\s*(\\()?`),Ps=new b(/(?:function)?\s*[\w$]*\s*\(([\S\s]*?)\)\s*(?:=>)?\s*{?([\S\s]*)/),Ls=class extends Error{constructor(e=""){if(e){let t=e.slice(0,20);t.length===20&&(e=`${t.slice(0,17)}...`)}super(e?`Cannot parse unknown value (${e}).`:"Cannot parse unknown value")}},Sn=Ls,Es=class extends Error{constructor(e=""){super(e?`Cannot procces untrimmed value ("${e}").`:"Cannot procces untrimmed value")}},xn=Es,On=te.fromRegex(js).assertStarting().build().toMatcher(),jn=te.fromRegex(sr).assertStarting().build().toMatcher();function ks(e){return Cs.test(e)?{range:[0,0],match:[""]}:null}function Cn(e){return e.startsWith("undefined")?{range:[0,9],match:["undefined"]}:null}function An(e){return e.startsWith("null")?{range:[0,4],match:["null"]}:null}function Tn(e){return e.startsWith("true")?{range:[0,4],match:["true"]}:e.startsWith("false")?{range:[0,5],match:["false"]}:null}function Pn(e){let t=e[0];if(t!=='"'&&t!=="'"&&t!=="`")return null;let r=e.slice(1).indexOf(t);return r===-1?null:(r+=2,{range:[0,r],match:[e.slice(0,r)]})}function Rs(e){if(!e.startsWith("{"))return null;let t=0;for(let r=0;r<e.length;r+=1){let n=e[r];if(n==="{"?t+=1:n==="}"&&(t-=1),t===0){let a=r+1;return{range:[0,a],match:[e.slice(0,a)]}}}return null}function Ln(e){if(!e.startsWith("["))return null;let t=0;for(let r=0;r<e.length;r+=1){let n=e[r];if(n==="["?t+=1:n==="]"&&(t-=1),t===0){let a=r+1;return{range:[0,a],match:[e.slice(0,a)]}}}return null}function ue(e,t){let r=0,n=!1,a=null;for(let s=0;s<e.length;s+=1){let i=e[s]||_(),o=i==='"'||i==="'"||i==="`",l=!1,u=!1;if(i==="{"||i==="["?(r+=1,l=!0):i==="}"||i==="]"?(r-=1,u=!0):!n&&o?(r+=1,n=!0,a=i,l=!0):n&&i===a&&(r-=1,n=!1,a=null,u=!0),t(i,s,r,l,u)===le)break}}var Is=te.fromRegex(As).assertStarting().build().toMatcher(),Ms=te.fromRegex(Ts).assertStarting().build().toMatcher();function En(e){e=e.trim();let t=e,{value:r,type:n,end:a}=Ds(e);e=e.slice(a).trim();let s=null,i=Is(e);if(i){let{match:l,range:u}=i;s=l[1]||_(),e=e.slice(u[1]).trim()}let o=[];for(;e.length>0;){e[0]===")"&&(e=e.slice(1));let{match:l,range:u}=Ms(e)||{};if(!l?.[1]||!u)break;if(e=e.slice(u[1]).trim(),!l[2]){o.push({name:l[1],args:[]});continue}let{args:h,end:c}=Ns(e);e=e.slice(c).trim(),o.push({name:l[1],args:h})}return{raw:t,value:r,type:n,alias:s,formatters:o}}function de(e){let t=[];e=e.trim();let{type:r,value:n,alias:a,formatters:s}=En(e);for(let i of s)for(let o of i.args)for(let l of de(o))t.push(l);switch(r){case 4:{t.push(a||n);break}case 6:{let i="",o=!0;ue(e,(l,u,h,c)=>{if(h===0){for(let d of de(i))t.push(d);return le}if(o){if(c&&l==="{"||/\s/.test(l))return null;if(l===":")return o=!1,null}else if(l===","){for(let d of de(i))t.push(d);return i="",o=!0,null}return o||(i+=l),null});break}case 7:{let i="";ue(e,(o,l,u,h)=>{if(u===0){for(let c of de(i))t.push(c);return le}if(h&&o==="[")return null;if(o===","){for(let c of de(i))t.push(c);return i="",null}return i+=o,null});break}}return t}function Ds(e){if(/^\s+\S/.test(e))throw new xn(e);let t=ks(e);if(t)return{value:"undefined",type:0,end:t.range[1]};if(t=Cn(e),t)return{value:t.match[0]||_(),type:0,end:t.range[1]};if(t=An(e),t)return{value:t.match[0]||_(),type:1,end:t.range[1]};if(t=Tn(e),t)return{value:t.match[0]||_(),type:2,end:t.range[1]};if(t=On(e),t)return{value:t.match[0]||_(),type:3,end:t.range[1]};if(t=jn(e),t)return{value:t.match[0]||_(),type:4,end:t.range[1]};if(t=Pn(e),t)return{value:t.match[0]||_(),type:5,end:t.range[1]};if(t=Rs(e),t)return{value:t.match[0]||_(),type:6,end:t.range[1]};if(t=Ln(e),t)return{value:t.match[0]||_(),type:7,end:t.range[1]};throw new Sn(e)}function Ns(e){let t={args:[],end:0},r="",n=!1;return ue(e,(a,s,i)=>(a==="("&&(n=!0),i>0?(r+=a,null):a===","?(t.args.push(r.trim()),r="",null):a===")"?(n&&(r+=a),t.args.push(r.trim()),t.end=s+1,r="",le):(r+=a,null))),t}function Fs(e,t,r,n,a,s){let i;switch(r){case 0:{i=void 0;break}case 1:{i=null;break}case 2:{if(e==="true"){i=!0;break}if(e==="false"){i=!1;break}}case 3:{i=e.includes(".")?Number.parseFloat(e):Number.parseInt(e,10);break}case 4:{if(t){i=a[t];break}i=a[e];break}case 5:{i=e.slice(1,-1);break}case 6:{i=Gs(e,a,s);break}case 7:{i=Ws(e,a,s);break}default:throw new Sn(e)}for(let{name:o,args:l}of n){let u=s[o];if(!u)return;let h=l.map(c=>new me(c,a,s).value);i=u(i,...h)}return i}function Gs(e,t,r){let n={},a="",s="",i=!0;return ue(e,(o,l,u,h)=>{if(u===0)return n[a]=new me(s,t,r).value,le;if(u===1){if(i){if(h||/\s/.test(o))return null;if(o===":")return i=!1,null;a+=o}else if(o===",")return n[a]=new me(s,t,r).value,a="",s="",i=!0,null}return i||(s+=o),null}),n}function Ws(e,t,r){let n=[],a="";return ue(e,(s,i,o,l)=>{if(o===0)return n.push(new me(a,t,r).value),le;if(o===1){if(l)return null;if(s===",")return n.push(new me(a,t,r).value),a="",null}return a+=s,null}),n}var zs=class{raw;value;alias=null;constructor(e,t,r){let{raw:n,value:a,type:s,alias:i,formatters:o}=En(e);this.raw=n,this.alias=i,this.value=Fs(a,i,s,o,t,r)}},me=zs,qs=class extends Error{constructor(e){super(e?`Variant priority must be of type number (found: (${e})).`:"Variant priority must be of type number.")}},Us=qs,Bs=class extends Error{constructor(e){super(e?`Invalid variant property key (${e}), it must be a valid variable name.`:"Invalid variant property value, it must be a valid variable name.")}},Hs=Bs,wr="undefined, null, number, string, boolean and flat arrays of these types.",Ks=class extends Error{constructor(e){super(e?`Invalid variant property value (${e}), accepted types are: ${wr}.`:`Invalid variant property value, accepted types are: ${wr}.`)}},ut=Ks;function It(e){if(/^\s/.test(e))throw new xn(e);let t=Cn(e);if(t)return{value:t.match[0]||_(),type:0,end:t.range[1]};if(t=An(e),t)return{value:t.match[0]||_(),type:1,end:t.range[1]};if(t=Tn(e),t)return{value:t.match[0]||_(),type:2,end:t.range[1]};if(t=On(e),t)return{value:t.match[0]||_(),type:3,end:t.range[1]};if(t=Pn(e),t)return{value:t.match[0]||_(),type:5,end:t.range[1]};if(t=Ln(e),t)return{value:t.match[0]||_(),type:7,end:t.range[1]};throw new ut(e)}function kn(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="number"||typeof e=="string"}function Vs(e){return Array.isArray(e)?e.every(t=>kn(t)):!1}function st(e,t){let r;switch(t){case 0:{r=void 0;break}case 1:{r=null;break}case 2:{if(e==="true"){r=!0;break}if(e==="false"){r=!1;break}}case 3:{r=e.includes(".")?Number.parseFloat(e):Number.parseInt(e,10);break}case 5:{r=e.slice(1,-1);break}case 7:{r=Js(e);break}default:throw new ut(e)}return r}function Js(e){let t=[],r="";return ue(e,(n,a,s,i)=>{if(s===0){let{value:o,type:l}=It(r.trim()),u=st(o,l);if(!kn(u))throw new ut(r);return t.push(u),le}if(s===1){if(i)return null;if(n===","){let{value:o,type:l}=It(r.trim());return t.push(st(o,l)),r="",null}}return r+=n,null}),t}var Ys="$priority",Rn=class{raw;priority;properties;value;constructor({raw:e,priority:t,properties:r,value:n}={}){this.raw=e||"",this.priority=t||0,this.properties=r||[],this.value=n||""}static fromString(e,t){let r=new Rn;r.value=t;let n=e.trim();r.raw=n;let a="",s="",i=!0;return ue(n,(o,l,u)=>{let h=l===n.length-1;if(i)return/\s/.test(o)?null:o===":"?(i=!1,null):(a+=o,null);if(u>0)return s+=o,null;if(h&&(s+=o),o===","||h){let c=jn(a.trim())?.match[0];if(!c)throw new Hs(a);let{value:d,type:p}=It(s.trim());if(c===Ys){let y=st(d,p);if(typeof y!="number")throw new Us(d);return r.priority=y*.001,null}let g=st(d,p),v=Array.isArray(g)?g:[g];if(!Vs(v))throw new ut(s);return r.properties.push({name:c,values:v}),a="",s="",i=!0,null}return s+=o,null}),r}calculateMatchingScore(e){let t=0;for(let{name:r,values:n}of this.properties){if(!Object.hasOwn(e,r))continue;let a=e[r],s=[];for(let i of n){if(typeof a=="number"&&typeof i=="number"){let o=a-i;if(o===0){s.push(1e3);continue}s.push(Math.abs(1e3/o)-1);continue}a===i&&s.push(1e3)}s.length!==0&&(t+=Math.max(...s))}return t>0?t+this.priority:t}},Mt=Rn,Zs=class extends Error{constructor(){super("Cannot use a variant on a key which value is not a string.")}},Xs=Zs;function In(e,t="",r={}){for(let[n,a]of Object.entries(e)){if(typeof a=="string"){let{match:s,range:i}=$r.match(n)||{};if(!s?.[1]||!i){let l=`${t}${$t}${n}`.replace(/^\./,"");if(r[l]){r[l].default=a;continue}r[l]={default:a,variants:[]};continue}let o=`${t}${$t}${n.slice(0,i[0])+n.slice(i[1])}`.replace(/^\./,"");if(r[o]){r[o].variants.push(Mt.fromString(s[1],a));continue}r[o]={variants:[Mt.fromString(s[1],a)]};continue}if($r.test(n))throw new Xs;In(a,`${t}${$t}${n}`.replace(/^\./,""),r)}return r}function Qs(e,t,r){let n=[];_n.exec(e,({match:s,range:i})=>{if(!s[1])return;let{value:o}=new me(s[1],t,r);n.push({value:ei(o),range:i})});let a=e;for(let s=n.length-1;s>=0;s-=1){let{value:i,range:o}=n[s]||_();a=a.slice(0,o[0])+i+a.slice(o[1])}return a}function ei(e){switch(typeof e){case"undefined":return"";case"string":return e;case"bigint":return e.toString();case"number":return e.toString();case"boolean":return e.toString();case"symbol":return`Symbol(${e.description})`||"Symbol";case"function":return e.name;case"object":return e?Object.hasOwn(e,"toString")&&typeof e.toString=="function"?e.toString():JSON.stringify(e,null,"	"):"";default:return""}}function ti(e){for(let t of Object.values(e))for(let r of Object.values(t))for(let n of Object.values(r))n.variants=n.variants.map(a=>new Mt(a));return e}var ir=new b(/\[(\.{3})?([\w-]+)]/),ri=new b(/(?:https?:\/{2})?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b[\w#%&()+./:=?@~-]*/),Mn=class{#t={};#e;constructor(e={},t={}){this.#e=e,this.#t=t}static fromConfig({translations:e,translationLoadingRules:t}){return new Mn().addTranslations(e).addTranslationLoadingRules(t)}get(e,t,r,n="",a={},s={},i=!1){let o=this.#r(e,t,r,i);!o&&n&&n!==r&&(o=this.#r(e,t,n,i));let l={score:0,value:o?.default||e};for(let u of o?.variants||[]){let h=u.calculateMatchingScore(a);h>l.score&&(l.score=h,l.value=u.value)}return Qs(l.value,a,s)}getRouteGroups(){return Object.keys(this.#e).filter(e=>e.startsWith("/"))}getParamRouteGroups(){return Object.keys(this.#e).filter(e=>e.startsWith("/")&&ir.test(e))}getLocaleTranslationVariables(e){let t={};for(let r of Object.values(this.#e)){if(!r[e])continue;let n=Object.entries(r[e]||_());for(let[a,{default:s,variants:i}]of n){let o={interpolationVars:[],variantVars:[],isVariantRequired:!1},l=[];if(s===void 0?o.isVariantRequired=!0:l.push(s),i.length>0){let g={};for(let{value:v,properties:y}of i){l.push(v);for(let{name:$,values:C}of y)g[$]=[...g[$]||[],...C]}o.variantVars=Object.entries(g).map(([v,y])=>({name:v,values:y}))}for(let g of l)_n.exec(g,({match:v})=>{v[1]&&(o.interpolationVars=[...new Set([...o.interpolationVars,...de(v[1])])])});if(!t[a]){t[a]=o;continue}let{interpolationVars:u,variantVars:h,isVariantRequired:c}=t[a]||{},d=[...new Set([...u||[],...o.interpolationVars])],p=[];for(let g of o.variantVars){let v=h?.find(y=>y.name===g.name);p.push(v?{name:g.name,values:[...new Set([...v?.values||[],...g.values])]}:g)}t[a]={interpolationVars:d,variantVars:p,isVariantRequired:(c||!1)&&o.isVariantRequired}}}return t}addTranslations(e){for(let[t,r]of Object.entries(e)){let n=Object.entries(r);if(n.length===0&&!this.#e[t]){this.#e[t]={};continue}for(let[a,s]of n)Me(this.#e,[t,a],In(s))}return this}addTranslationLoadingRules(e){if(e.length===0)return this;let{routes:t}=fs(this.#e);for(let r of e){let n=[];for(let a of r.groups){let s=b.fromString(a);n.push(...Object.keys(this.#e).filter(i=>s.test(i)))}for(let a of r.routes){let s=b.fromString(a),i=t.filter(o=>s.test(o));for(let o of i){if(!this.#t[o]){this.#t[o]=[...new Set(n)];continue}this.#t[o]=[...new Set([...this.#t[o]||_(),...n])]}}}return this}clear(){this.#t={},this.#e={}}toClientSideObject(e){let t={};if(this.#t[e])for(let r of this.#t[e]||_())t[r]=this.#e[r]||{};return this.#e[e]&&(t[e]=this.#e[e]||{}),this.#e[ie]&&(t[ie]=this.#e[ie]||{}),t}toObject(){return{loadDirectives:this.#t,translations:this.#e}}toString(){return JSON.stringify(this.toObject(),null,"	")}#r(e,t,r,n=!1){let a=null;if(n){let s=this.getRouteGroups();for(let i of s)for(let o of this.#t[i]||[]){let l=this.#e[o]?.[r]?.[e];if(l){a=l;break}}if(!a)for(let i of s)this.#e[i]?.[r]?.[e]&&(a=this.#e[i]?.[r]?.[e]||_())}else{for(let s of this.#t[t]||[]){let i=this.#e[s]?.[r]?.[e];if(i){a=i;break}}!a&&this.#e[t]?.[r]?.[e]&&(a=this.#e[t]?.[r]?.[e]||_())}return!a&&this.#e[ie]?.[r]?.[e]&&(a=this.#e[ie]?.[r]?.[e]||_()),a}},Dt=Mn,ni=class extends Error{constructor(e){super(e?`Invalid date (${e}).`:"Invalid date.")}},ai=ni,si=class extends TypeError{constructor(e,t){e?super(t?`Invalid formatter (${t}) parameter: ${e}`:`Invalid formatter parameter: ${e}`):super(t?`Invalid formatter (${t}) parameter.`:"Invalid formatter parameter.")}},Fe=si,ii=class extends TypeError{constructor(e,t){e?super(t?`Invalid formatter (${t}) value: ${e}`:`Invalid formatter value: ${e}`):super(t?`Invalid formatter (${t}) value.`:"Invalid formatter value.")}},we=ii;function _r(e){if(typeof e!="string")throw new we(`Received value is not a string, found "${e}".`,"upper");return e.toUpperCase()}function Sr(e){if(typeof e!="string")throw new we(`Received value is not a string, found "${e}".`,"lower");return e.toLowerCase()}function oi(e){if(typeof e!="string")throw new we(`Received value is not a string, found "${e}".`,"capitalize");return`${e.slice(0,1).toUpperCase()}${e.slice(1).toLowerCase()}`}function li(e,t){return e??t}function xr(e,t){return e||t}function ui(e,t){return typeof e=="string"?e:t}function ci(e,t=!0){if(typeof e=="symbol")throw new we(`Received value cannot be a symbol, found "${e.toString()}".`,"json");if(typeof t!="boolean")throw new Fe(`format must be a boolean, found "${t}".`,"json");return t?JSON.stringify(e,null,"	"):JSON.stringify(e)}function fi(e,t={},r=$e.locale){if(typeof e=="string"&&(e=Number.parseFloat(e)),!La(e))throw new we(`Received value is not a number, found "${e}".`,"intl_format_number");if(!x(t))throw new Fe(`options must be an object, found "${t}".`,"intl_format_number");if(typeof r!="string")throw new Fe(`locale must be a string, found "${r}".`,"intl_format_number");return new Intl.NumberFormat(r,t).format(e)}function hi(e,t={},r=$e.locale){if(typeof e!="string"&&typeof e!="number"&&!(e instanceof Date))throw new we(`Received value is not a string, number or Date, found "${e}".`,"intl_format_date");if(e=e instanceof Date?e:new Date(e),!Ea(e))throw new ai(e);if(!x(t))throw new Fe(`options must be an object, found "${t}".`,"intl_format_date");if(typeof r!="string")throw new Fe(`locale must be a string, found "${r}".`,"intl_format_date");return new Intl.DateTimeFormat(r,t)}var di=te.fromRegex(Ps).assertStarting().assertEnding().build().toMatcher();function pi(e){let t=di(e.toString());if(!t)return{args:[],body:""};let[,r,n]=t.match;return{args:vi(r||""),body:yi(n||"")}}function gi(e){let t={};for(let[r,n]of Object.entries(e))t[r]=new Function(...n.args,n.body);return t}function vi(e){return e.trim().split(",").map(t=>t.trim())}function yi(e){return e.trim().endsWith("}")?e.slice(0,-1):e}var bi=class{#t={upper:_r,uppercase:_r,lower:Sr,lowercase:Sr,capitalize:oi,json:ci,default_nullish:li,default:xr,default_falsy:xr,default_non_string:ui,intl_format_number:fi,intl_format_date:hi};#e;#r;constructor(e={}){this.#e=e,this.#r={...this.#t,...this.#e}}get default(){return this.#t}get custom(){return this.#e}addFormaters(e){for(let[t,r]of Object.entries(e))this.#r[t]||(this.#r[t]=r,this.#e[t]=r);return this}clear(){this.#e={},this.#r={}}toClientSideObject(){let e={};for(let[t,r]of Object.entries(this.#e))e[t]=pi(r);return e}toObject(){return this.#r}toString(){return JSON.stringify(this.toObject(),null,"	")}},Nt=bi,mi=class extends Error{constructor(e){super(e?`Invalid environment: ${e}`:"Invalid environment.")}},$i=mi,Dn=class{#t;#e;constructor(e={},t=""){this.#e=e,this.#t=t}static fromConfig({routes:e,primaryLocale:t}){return new Dn({},t).addSegments(e)}get(e,t,r){return this.#e[t]?.[e]?.[r]||null}getSegmentLocales(e){let t=[];for(let[r,n]of Object.entries(this.#e))n[e]&&t.push(r);return t}addSegments(e){let t=Object.entries(e);for(let[r,n]of t){let a=t.filter(([s])=>s!==r&&s!==this.#t);for(let[s,i]of Object.entries(n)){Me(this.#e,[this.#t,s,r],i),Me(this.#e,[r,i,this.#t],s);for(let[o,l]of a)l[s]&&Me(this.#e,[r,i,o],l[s])}}return this}clear(){this.#t="",this.#e={}}toClientSideObject(){return{...this.#e}}toObject(){return{primaryLocale:this.#t,segments:this.#e}}toString(){return JSON.stringify(this.toObject(),null,"	")}},Ft=Dn,wi=class extends Error{constructor(){super("Cannot initialize astro-i18n, it already has been initialized.")}},_i=wi,Si=class extends Error{constructor(e){super(e?`Cannot use filesystem: ${e}`:"Cannot use filesystem.")}},xi=Si,Oi=class extends Error{constructor(){super(`Could not find the serialized ${ee} state in the DOM. Check your ${ee} config.`)}},ji=Oi;function Ci(e){if(!x(e))return!1;for(let t of Object.values(e)){if(!x(t))return!1;for(let r of Object.values(t)){if(!x(r))return!1;for(let n of Object.values(r))if(typeof n!="string")return!1}}return!0}function Ai(e){if(!x(e))return!1;for(let t of Object.values(e)){if(!x(t))return!1;let r=Object.entries(t);if(r.length<2)return!1;for(let[n,a]of r)switch(n){case"args":{if(!Ne(a))return!1;break}case"body":{if(typeof a!="string")return!1;break}}}return!0}function Ti(e){if(!x(e))return!1;for(let t of Object.values(e)){if(!x(t))return!1;for(let r of Object.values(t))if(!Pi(r))return!1}return!0}function Pi(e){if(!x(e))return!1;for(let t of Object.values(e)){if(!x(t))return!1;for(let[r,n]of Object.entries(t))switch(r){case"default":{if(typeof n!="string")return!1;break}case"variants":{if(!We(n)||!n.every(a=>Li(a)))return!1;break}default:return!1}}return!0}function Li(e){if(!x(e))return!1;let t=Object.entries(e);if(t.length<4)return!1;for(let[r,n]of t)switch(r){case"raw":{if(typeof n!="string")return!1;break}case"priority":{if(typeof n!="number")return!1;break}case"properties":{if(!We(n)||!n.every(a=>Ei(a)))return!1;break}case"value":{if(typeof n!="string")return!1;break}default:return!1}return!0}function Ei(e){if(!x(e))return!1;let t=Object.entries(e);if(t.length<2)return!1;for(let[r,n]of t)switch(r){case"name":{if(typeof n!="string")return!1;break}case"values":{if(!We(n)||!n.every(a=>typeof a=="boolean"||typeof a=="string"||typeof a=="number"||a==null))return!1;break}default:return!1}return!0}function ki(e){if(!x(e))return!1;let t=Object.entries(e);if(t.length<5)return!1;for(let[r,n]of t)switch(r){case"locale":{if(typeof n!="string")return!1;break}case"route":{if(typeof n!="string")return!1;break}case"config":{if(!_s(n))return!1;break}case"translations":{if(!Ti(n))return!1;break}case"segments":{if(!Ci(n))return!1;break}case"formatters":{if(!Ai(n))return!1;break}default:return!1}return!0}function Or(e){return ri.test(e)}function Ri(e){let t="",r=0;return ir.exec(e,({match:n,range:[a,s]})=>{if(t+=e.slice(r,a),!n[2]){r=s;return}t+=n[1]?"[\\w/-]+":"[\\w-]+",r=s}),t+=e.slice(r),b.fromString(t.replaceAll("/","\\/"))}var Ii=class extends Error{constructor(){super("Cannot perform operation, astro-i18n is not initialized.")}},jr=Ii,Mi=class extends Error{constructor(){super("Could not redirect, is this code running in the server ?")}},Di=Mi,Be,ne,Z,X,T,M,D,z,W,Q,ae,G,ve,Gt,Nn,Wt,Fn,zt,Gn,qt,Wn,Ut,zn,ke,Qe,et,Bt,tt,Ht,Re,rt,nt,Kt,Vt,qn,Jt,Un,Yt=class{constructor(){m(this,Gt),m(this,Wt),m(this,zt),m(this,qt),m(this,Ut),m(this,ke),m(this,et),m(this,tt),m(this,Re),m(this,nt),m(this,Vt),m(this,Jt),m(this,ne,void 0),m(this,Z,""),m(this,X,""),m(this,T,new Ee),m(this,M,new Dt),m(this,D,new Ft),m(this,z,new Nt),m(this,W,!1),m(this,Q,!1),m(this,ae,{}),m(this,G,null),m(this,ve,""),typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"?w(this,ne,he.NODE):typeof window>"u"?w(this,ne,he.NONE):(w(this,ne,he.BROWSER),f(this,T).run==="client+server"&&O(this,Gt,Nn).call(this))}get environment(){return f(this,ne).toString()}get route(){return f(this,Q)?"":f(this,X)}set route(e){Or(e)&&(e=new URL(e).pathname),e=decodeURI(e);let{locale:t,route:r}=O(this,Re,rt).call(this,e);w(this,X,r),w(this,Z,t||O(this,tt,Ht).call(this,O(this,nt,Kt).call(this,r))||this.primaryLocale)}get pages(){return f(this,M).getRouteGroups()}get page(){return O(this,ke,Qe).call(this,this.route)}get locale(){return f(this,Z)}get locales(){return[f(this,T).primaryLocale,...f(this,T).secondaryLocales]}get primaryLocale(){return f(this,T).primaryLocale}get secondaryLocales(){return f(this,T).secondaryLocales}get fallbackLocale(){return f(this,T).fallbackLocale}get isInitialized(){return f(this,W)}get internals(){return{toHtml:O(this,Vt,qn).bind(this),config:f(this,T),segments:f(this,D),translations:f(this,M),splitLocaleAndRoute:O(this,Re,rt).bind(this),toString:O(this,Jt,Un).bind(this),waitInitialization:O(this,Wt,Fn).bind(this),setPrivateProperties:O(this,Ut,zn).bind(this),reinitalize:O(this,zt,Gn).bind(this),getAndClearRedirection:O(this,qt,Wn).bind(this)}}t(e,t={},r={}){if(!f(this,W))throw new jr;let{route:n,locale:a,fallbackLocale:s}=r;if(f(this,Q))return f(this,M).get(e,"",a||this.locale,s||this.fallbackLocale,t,f(this,z).toObject(),!0);let i=n?O(this,ke,Qe).call(this,n):O(this,ke,Qe).call(this,this.route);return f(this,M).get(e,i||"",a||this.locale,s||this.fallbackLocale,t,f(this,z).toObject())}l(e,t={},r={}){if(!f(this,W))throw new jr;let{targetLocale:n,routeLocale:a,showPrimaryLocale:s,query:i}=r,o=O(this,nt,Kt).call(this,decodeURI(e)),l=this.locales.includes(o[0]||"")&&o.shift()||"",u=a||l||O(this,tt,Ht).call(this,o)||this.primaryLocale,h=n||this.locale,c=o.map(v=>f(this,D).get(v,u,h)||v).join("/"),d=Object.entries(t);if(d.length>0)for(let[v,y]of d)c=c.replace(`[${v}]`,String(y).replace("/",""));if((s===void 0?f(this,T).showPrimaryLocale||h!==this.primaryLocale:s)&&(c=c?`${h}/${c}`:h),f(this,T).trailingSlash==="always"&&(c+="/"),c=c.startsWith("/")?c:`/${c}`,!i)return c;let p={};for(let[v,y]of Object.entries(i))p[v]=String(y);let g=new URLSearchParams(p).toString();return g?`${c}?${g}`:c}addTranslations(e){return f(this,M).addTranslations(e),O(this,et,Bt).call(this),this}addFormatters(e){return f(this,z).addFormaters(e),this}addTranslationLoadingRules(e){return f(this,M).addTranslationLoadingRules(e),this}addRoutes(e){return f(this,D).addSegments(e),O(this,et,Bt).call(this),this}extractRouteLocale(e){return O(this,Re,rt).call(this,e).locale}redirect(e,t=301){if(this.environment===he.BROWSER)throw new Di;if(typeof e=="string"){let r=Or(e)?new URL(e):new URL(`${f(this,ve)}/${e.replace(/^\//,"")}`);w(this,G,Response.redirect(r,t));return}w(this,G,Response.redirect(e,t))}async initialize(e=void 0,t={}){if(f(this,W))throw new _i;switch(f(this,ne)){case he.NODE:{w(this,T,typeof e=="object"?await new Ee(e).loadFilesystemTranslations():await Ee.fromFilesystem(e));break}case he.NONE:{if(typeof e=="string")throw new xi("Cannot load config from filesystem in a non-node environment.");w(this,T,new Ee(e||{}));break}default:throw new $i("Cannot initialize in a browser environment.")}w(this,M,Dt.fromConfig(f(this,T))),w(this,D,Ft.fromConfig(f(this,T))),w(this,z,new Nt(t)),w(this,W,!0)}},Bn=Yt;Be=new WeakMap,ne=new WeakMap,Z=new WeakMap,X=new WeakMap,T=new WeakMap,M=new WeakMap,D=new WeakMap,z=new WeakMap,W=new WeakMap,Q=new WeakMap,ae=new WeakMap,G=new WeakMap,ve=new WeakMap,Gt=new WeakSet,Nn=function(){let e=document.querySelector(`#${f(Yt,Be)}`);if(!e||!e.textContent)throw new ji;let t=JSON.parse(e.textContent);Ge(t,ki),w(this,Z,t.locale),w(this,X,t.route),w(this,T,new Ee(t.config)),w(this,M,new Dt(ti(t.translations))),w(this,D,new Ft(t.segments,t.config.primaryLocale)),w(this,z,new Nt(gi(t.formatters))),w(this,W,!0),e.remove()},Wt=new WeakSet,Fn=async function(){let e=t=>{f(this,W)?t():setTimeout(()=>e(t),25)};return new Promise(e)},zt=new WeakSet,Gn=async function(e=void 0,t={}){w(this,W,!1),f(this,M).clear(),f(this,D).clear(),f(this,z).clear(),await this.initialize(e,t)},qt=new WeakSet,Wn=function(){let e=f(this,G);return w(this,G,null),e},Ut=new WeakSet,zn=function(e={}){let{route:t,locale:r,isGetStaticPaths:n,origin:a}={route:f(this,X),locale:f(this,Z),isGetStaticPaths:f(this,Q),origin:f(this,ve),...e};w(this,X,t),w(this,Z,r),w(this,Q,n),w(this,ve,a)},ke=new WeakSet,Qe=function(e){if(f(this,Q))return null;if(f(this,ae)[e])return f(this,ae)[e]||_();let t=this.l(e,void 0,{targetLocale:this.primaryLocale});if(this.pages.includes(t))return t;let r=null;for(let n of this.pages)if(ir.test(n)&&Ri(n).test(e)){r=n;break}return!r||!this.pages.includes(r)?null:(f(this,ae)[e]=r,r)},et=new WeakSet,Bt=function(){w(this,ae,{})},tt=new WeakSet,Ht=function(e){let t={};for(let n of e)for(let a of f(this,D).getSegmentLocales(n))t[a]||(t[a]=0),t[a]+=1;let r={locale:"",score:0,isExAequo:!0};for(let[n,a]of Object.entries(t)){if(a>r.score){r.locale=n,r.score=a,r.isExAequo=!1;continue}a===r.score&&(r.isExAequo=!0)}return r.isExAequo?null:r.locale||null},Re=new WeakSet,rt=function(e){e.startsWith("/")||(e=`/${e}`);let t=b.fromString(`\\/(${this.locales.join("|")})(?:\\/.*)?$`),{match:r}=t.match(e)||{},n=r?.[1]||null;return{locale:n,route:n?e.replace(`/${n}`,"").replace(/\/$/,"")||"/":e.replace(/\/$/,"")||"/"}},nt=new WeakSet,Kt=function(e){return e.replace(/^\//,"").replace(/\/$/,"").split("/")},Vt=new WeakSet,qn=function(){let e={locale:f(this,Z),route:f(this,X),config:f(this,T).toClientSideObject(),translations:f(this,M).toClientSideObject(this.route),segments:f(this,D).toClientSideObject(),formatters:f(this,z).toClientSideObject()};return`<script id="${f(Yt,Be)}" type="application/json">${JSON.stringify(e)}<\/script>`},Jt=new WeakSet,Un=function(){let e={};for(let[t,r]of Object.entries(f(this,z).toObject()))e[t]=r.name;return JSON.stringify({environment:this.environment,route:this.route,locale:this.locale,locales:this.locales,primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,isInitialized:this.isInitialized,"#redirection":f(this,G)instanceof Response?{url:f(this,G).url,status:f(this,G).status}:f(this,G),"#origin":f(this,ve),"#isGetStaticPaths":f(this,Q),"#routePageCache":f(this,ae),"#config":f(this,T).toObject(),"#translations":f(this,M).toObject(),"#segments":f(this,D).toObject(),"#formatters":e},null,"	")},m(Bn,Be,`__${ee}__`);var Ni=Bn,$e=new Ni,Fi=$e.t.bind($e);$e.l.bind($e);function U(e,t){return Fi(e,t)}const Gi=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"],Wi="single-direction";function _t(e){return P(an,{get each(){return Object.entries(e.object)},children:(t,r)=>r()>0?[e.separator,e.children(t[0],t[1])]:e.children(t[0],t[1])})}function zi(e){const t={};for(const r of e)qi(t,r);return t}function qi(e,t){const r=St(e,t.execution,xt),n=St(r,t.attack,xt),a=St(n,t.defence,xt);a[t.direction]=t.metadata}function St(e,t,r){const n=e[t];if(n!=null)return n;const a=r();return e[t]=a,a}function xt(){return{}}var Ui=k('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3M8 5h8v3H8zm8 12v2H8v-4h8zm2-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4z"></path><circle cx=18 cy=11.5 r=1>');const Bi=(e={})=>(()=>{var t=E(Ui);return sn(t,e,!0,!0),ye(),t})();var Hi=k('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M17.65 6.35A7.96 7.96 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z">');const Ki=(e={})=>(()=>{var t=E(Hi);return sn(t,e,!0,!0),ye(),t})();var Vi=k('<div><div class="flex justify-end"><button class="flex items-center bg-secondary-light p-2 text-sm print:hidden hover:bg-secondary"><!$><!/> <!$><!/></button></div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),Ji=k('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),Yi=k('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),Zi=k("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),Xi=k('<span class="text-sm text-secondary">( <!$><!/> )'),Cr=k("<span>");const Qi=e=>(()=>{var t=E(Vi),r=t.firstChild,n=r.firstChild,a=n.firstChild,[s,i]=q(a.nextSibling),o=s.nextSibling,l=o.nextSibling,[u,h]=q(l.nextSibling),c=r.nextSibling,[d,p]=q(c.nextSibling),g=d.nextSibling;return n.$$click=()=>window.print(),j(n,P(Bi,{class:"me-1 "}),s,i),j(n,()=>U("examChooser.print"),u,h),j(t,P(_t,{get object(){return zi(e.techniques)},children:(v,y)=>(()=>{var $=E(Ji),C=$.firstChild,N=C.nextSibling;return j(C,v),j(N,P(_t,{object:y,children:(A,R)=>(()=>{var re=E(Yi),V=re.firstChild,Ce=V.nextSibling;return j(V,A),j(Ce,P(_t,{object:R,children:(yt,bt)=>(()=>{var I=E(Zi),fe=I.firstChild,F=fe.nextSibling,J=F.nextSibling,[ya,ba]=q(J.nextSibling);return j(fe,yt),j(I,P(eo,{directions:bt}),ya,ba),I})()})),re})()})),$})()}),d,p),j(g,()=>U("examChooser.created-by",{url:window.location.origin})),ye(),t})(),eo=e=>{const t=Object.keys(e.directions);return t.length===1&&t[0]===Wi?null:(()=>{var r=E(Xi),n=r.firstChild,a=n.nextSibling,[s,i]=q(a.nextSibling);return s.nextSibling,j(r,P(an,{each:t,children:(o,l)=>l()>0?[", ",(()=>{var u=E(Cr);return j(u,o),u})()]:(()=>{var u=E(Cr);return j(u,o),u})()}),s,i),r})()};rr(["click"]);var to=k("<button>");const or=e=>{const[t,r]=oe(!1);nr(()=>{r(!0)});const n=on(()=>["flex items-center gap-2 border border-primary rounded p-4 whitespace-nowrap print:p-1 ",e.value?"bg-primary-light outline-2 outline-primary outline":"print:hidden bg-white",e.class??""].join(" "));return(()=>{var a=E(to);return a.$$click=()=>e.onChange(!e.value),j(a,()=>e.text),Ye(s=>{var i=n(),o=!t(),l=e.value;return i!==s.e&&ln(a,s.e=i),o!==s.t&&Ze(a,"disabled",s.t=o),l!==s.a&&Pt(a,"aria-checked",s.a=l),s},{e:void 0,t:void 0,a:void 0}),ye(),a})()};rr(["click"]);const ro=e=>{function t(r,n){const a=new Set(e.value);n?a.add(r):a.delete(r),e.onChange(a)}return e.options.map(({id:r,label:n,wide:a})=>P(or,{class:a?"col-span-2":"",get value(){return e.value.has(r)},text:n,onChange:s=>t(r,s)}))};function Ot([e,t],{name:r,storage:n,serialize:a=JSON.stringify,deserialize:s=JSON.parse}){const i=n??localStorage,o=i.getItem(r);return setTimeout(()=>{o!=null&&t(s(o))}),nr(()=>{un(()=>{i.setItem(r,a(e()))})}),[e,t]}var no=k('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const jt=e=>(()=>{var t=E(no),r=t.firstChild,n=r.firstChild,a=n.nextSibling,s=r.nextSibling;return j(a,()=>e.headerLabel),j(s,()=>e.children),t})(),ao=e=>P(or,{get text(){return U("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:t=>e.onChange({kneeFriendly:t})}),so="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let io=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=so[r[e]&63];return t};var oo=k('<button class="border border-1 border-primary flex items-center gap-2 p-4 rounded bg-white hover:bg-primary-light transition-colors active:bg-primary disabled:grayscale disabled:opacity-50"><!$><!/><!$><!/>'),lo=k("<div><input type=range min=1 max=100><label>");const uo=e=>{function t(o,l){e.onChange({...e.value,[o]:l})}const r=io(),[n,a]=oe(!1),[s,i]=oe(e.value.includePercent);return un(()=>i(e.value.includePercent)),nr(()=>{a(!0)}),[P(or,{get text(){return U("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>t("randomize",o)}),(()=>{var o=E(oo),l=o.firstChild,[u,h]=q(l.nextSibling),c=u.nextSibling,[d,p]=q(c.nextSibling);return ma(o,"click",e.onForceRefresh,!0),j(o,P(Ki,{}),u,h),j(o,()=>U("examChooser.order.shuffle"),d,p),Ye(()=>Ze(o,"disabled",!e.value.randomize)),ye(),o})(),(()=>{var o=E(lo),l=o.firstChild,u=l.nextSibling;return l.addEventListener("change",h=>t("includePercent",Number(h.target.value))),l.$$input=h=>i(Number(h.target.value)),Pt(l,"id",r),Pt(u,"for",r),j(u,()=>U("examChooser.order.includePercent",{percent:s()})),Ye(h=>{var c={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!n(),"opacity-100":n()},d=`w-2/3 ${n()?"opacity-100":"opacity-0"} accent-primary`,p=!n||!e.value.randomize;return h.e=$a(o,c,h.e),d!==h.t&&ln(l,h.t=d),p!==h.a&&Ze(l,"disabled",h.a=p),h},{e:void 0,t:void 0,a:void 0}),Ye(()=>Ze(l,"value",s())),ye(),o})()]};rr(["click","input"]);function co(e){const t=[];for(const r of e)for(const[n,a]of He(r.techniques))for(const[s,i]of He(a))for(const[o,l]of He(i))for(const[u,h]of He(l))t.push({execution:n,attack:s,defence:o,direction:u,metadata:h});return t}const He=Object.entries,fo={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function ho(e){return t=>!e.kneeFriendly||fo.kneeFriendly.filter(t)}var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ey(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}function po(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var go=po,vo=Math.floor,yo=Math.random;function bo(e,t){return e+vo(yo()*(t-e+1))}var mo=bo,$o=mo;function wo(e,t){var r=-1,n=e.length,a=n-1;for(t=t===void 0?n:t;++r<t;){var s=$o(r,a),i=e[s];e[s]=e[r],e[r]=i}return e.length=t,e}var Kn=wo,_o=go,So=Kn;function xo(e){return So(_o(e))}var Oo=xo;function jo(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Vn=jo,Co=Vn;function Ao(e,t){return Co(t,function(r){return e[r]})}var To=Ao;function Po(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Lo=Po,Eo=typeof Ke=="object"&&Ke&&Ke.Object===Object&&Ke,Jn=Eo,ko=Jn,Ro=typeof self=="object"&&self&&self.Object===Object&&self,Io=ko||Ro||Function("return this")(),K=Io,Mo=K,Do=Mo.Symbol,ct=Do,Ar=ct,Yn=Object.prototype,No=Yn.hasOwnProperty,Fo=Yn.toString,Te=Ar?Ar.toStringTag:void 0;function Go(e){var t=No.call(e,Te),r=e[Te];try{e[Te]=void 0;var n=!0}catch{}var a=Fo.call(e);return n&&(t?e[Te]=r:delete e[Te]),a}var Wo=Go,zo=Object.prototype,qo=zo.toString;function Uo(e){return qo.call(e)}var Bo=Uo,Tr=ct,Ho=Wo,Ko=Bo,Vo="[object Null]",Jo="[object Undefined]",Pr=Tr?Tr.toStringTag:void 0;function Yo(e){return e==null?e===void 0?Jo:Vo:Pr&&Pr in Object(e)?Ho(e):Ko(e)}var qe=Yo;function Zo(e){return e!=null&&typeof e=="object"}var Ue=Zo,Xo=qe,Qo=Ue,el="[object Arguments]";function tl(e){return Qo(e)&&Xo(e)==el}var rl=tl,Lr=rl,nl=Ue,Zn=Object.prototype,al=Zn.hasOwnProperty,sl=Zn.propertyIsEnumerable,il=Lr(function(){return arguments}())?Lr:function(e){return nl(e)&&al.call(e,"callee")&&!sl.call(e,"callee")},Xn=il,ol=Array.isArray,B=ol,it={exports:{}};function ll(){return!1}var ul=ll;it.exports;(function(e,t){var r=K,n=ul,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(it,it.exports);var Qn=it.exports,cl=9007199254740991,fl=/^(?:0|[1-9]\d*)$/;function hl(e,t){var r=typeof e;return t=t??cl,!!t&&(r=="number"||r!="symbol"&&fl.test(e))&&e>-1&&e%1==0&&e<t}var ea=hl,dl=9007199254740991;function pl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dl}var lr=pl,gl=qe,vl=lr,yl=Ue,bl="[object Arguments]",ml="[object Array]",$l="[object Boolean]",wl="[object Date]",_l="[object Error]",Sl="[object Function]",xl="[object Map]",Ol="[object Number]",jl="[object Object]",Cl="[object RegExp]",Al="[object Set]",Tl="[object String]",Pl="[object WeakMap]",Ll="[object ArrayBuffer]",El="[object DataView]",kl="[object Float32Array]",Rl="[object Float64Array]",Il="[object Int8Array]",Ml="[object Int16Array]",Dl="[object Int32Array]",Nl="[object Uint8Array]",Fl="[object Uint8ClampedArray]",Gl="[object Uint16Array]",Wl="[object Uint32Array]",S={};S[kl]=S[Rl]=S[Il]=S[Ml]=S[Dl]=S[Nl]=S[Fl]=S[Gl]=S[Wl]=!0;S[bl]=S[ml]=S[Ll]=S[$l]=S[El]=S[wl]=S[_l]=S[Sl]=S[xl]=S[Ol]=S[jl]=S[Cl]=S[Al]=S[Tl]=S[Pl]=!1;function zl(e){return yl(e)&&vl(e.length)&&!!S[gl(e)]}var ql=zl;function Ul(e){return function(t){return e(t)}}var Bl=Ul,ot={exports:{}};ot.exports;(function(e,t){var r=Jn,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o})(ot,ot.exports);var Hl=ot.exports,Kl=ql,Vl=Bl,Er=Hl,kr=Er&&Er.isTypedArray,Jl=kr?Vl(kr):Kl,ta=Jl,Yl=Lo,Zl=Xn,Xl=B,Ql=Qn,eu=ea,tu=ta,ru=Object.prototype,nu=ru.hasOwnProperty;function au(e,t){var r=Xl(e),n=!r&&Zl(e),a=!r&&!n&&Ql(e),s=!r&&!n&&!a&&tu(e),i=r||n||a||s,o=i?Yl(e.length,String):[],l=o.length;for(var u in e)(t||nu.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eu(u,l)))&&o.push(u);return o}var su=au,iu=Object.prototype;function ou(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iu;return e===r}var lu=ou;function uu(e,t){return function(r){return e(t(r))}}var cu=uu,fu=cu,hu=fu(Object.keys,Object),du=hu,pu=lu,gu=du,vu=Object.prototype,yu=vu.hasOwnProperty;function bu(e){if(!pu(e))return gu(e);var t=[];for(var r in Object(e))yu.call(e,r)&&r!="constructor"&&t.push(r);return t}var mu=bu;function $u(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ur=$u,wu=qe,_u=ur,Su="[object AsyncFunction]",xu="[object Function]",Ou="[object GeneratorFunction]",ju="[object Proxy]";function Cu(e){if(!_u(e))return!1;var t=wu(e);return t==xu||t==Ou||t==Su||t==ju}var ra=Cu,Au=ra,Tu=lr;function Pu(e){return e!=null&&Tu(e.length)&&!Au(e)}var na=Pu,Lu=su,Eu=mu,ku=na;function Ru(e){return ku(e)?Lu(e):Eu(e)}var ft=Ru,Iu=To,Mu=ft;function Du(e){return e==null?[]:Iu(e,Mu(e))}var Nu=Du,Fu=Kn,Gu=Nu;function Wu(e){return Fu(Gu(e))}var zu=Wu,qu=Oo,Uu=zu,Bu=B;function Hu(e){var t=Bu(e)?qu:Uu;return t(e)}var Ku=Hu;const Vu=Hn(Ku);function Ju(e){return Vu(e)}function Yu(e,{includePercent:t=100}={}){const r=Ju(e),n=Math.ceil(t*e.length/100);return r.slice(0,n)}var Zu=K,Xu=Zu["__core-js_shared__"],Qu=Xu,Ct=Qu,Rr=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ec(e){return!!Rr&&Rr in e}var tc=ec,rc=Function.prototype,nc=rc.toString;function ac(e){if(e!=null){try{return nc.call(e)}catch{}try{return e+""}catch{}}return""}var aa=ac,sc=ra,ic=tc,oc=ur,lc=aa,uc=/[\\^$.*+?()[\]{}|]/g,cc=/^\[object .+?Constructor\]$/,fc=Function.prototype,hc=Object.prototype,dc=fc.toString,pc=hc.hasOwnProperty,gc=RegExp("^"+dc.call(pc).replace(uc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vc(e){if(!oc(e)||ic(e))return!1;var t=sc(e)?gc:cc;return t.test(lc(e))}var yc=vc;function bc(e,t){return e?.[t]}var mc=bc,$c=yc,wc=mc;function _c(e,t){var r=wc(e,t);return $c(r)?r:void 0}var ce=_c,Sc=ce,xc=function(){try{var e=Sc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Oc=xc,Ir=Oc;function jc(e,t,r){t=="__proto__"&&Ir?Ir(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Cc=jc;function Ac(e,t,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;){var i=e[a];t(n,i,r(i),e)}return n}var Tc=Ac;function Pc(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(r(s[l],l,s)===!1)break}return t}}var Lc=Pc,Ec=Lc,kc=Ec(),Rc=kc,Ic=Rc,Mc=ft;function Dc(e,t){return e&&Ic(e,t,Mc)}var Nc=Dc,Fc=na;function Gc(e,t){return function(r,n){if(r==null)return r;if(!Fc(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var Wc=Gc,zc=Nc,qc=Wc,Uc=qc(zc),Bc=Uc,Hc=Bc;function Kc(e,t,r,n){return Hc(e,function(a,s,i){t(n,a,r(a),i)}),n}var Vc=Kc;function Jc(){this.__data__=[],this.size=0}var Yc=Jc;function Zc(e,t){return e===t||e!==e&&t!==t}var sa=Zc,Xc=sa;function Qc(e,t){for(var r=e.length;r--;)if(Xc(e[r][0],t))return r;return-1}var ht=Qc,ef=ht,tf=Array.prototype,rf=tf.splice;function nf(e){var t=this.__data__,r=ef(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rf.call(t,r,1),--this.size,!0}var af=nf,sf=ht;function of(e){var t=this.__data__,r=sf(t,e);return r<0?void 0:t[r][1]}var lf=of,uf=ht;function cf(e){return uf(this.__data__,e)>-1}var ff=cf,hf=ht;function df(e,t){var r=this.__data__,n=hf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pf=df,gf=Yc,vf=af,yf=lf,bf=ff,mf=pf;function _e(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_e.prototype.clear=gf;_e.prototype.delete=vf;_e.prototype.get=yf;_e.prototype.has=bf;_e.prototype.set=mf;var dt=_e,$f=dt;function wf(){this.__data__=new $f,this.size=0}var _f=wf;function Sf(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xf=Sf;function Of(e){return this.__data__.get(e)}var jf=Of;function Cf(e){return this.__data__.has(e)}var Af=Cf,Tf=ce,Pf=K,Lf=Tf(Pf,"Map"),cr=Lf,Ef=ce,kf=Ef(Object,"create"),pt=kf,Mr=pt;function Rf(){this.__data__=Mr?Mr(null):{},this.size=0}var If=Rf;function Mf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Df=Mf,Nf=pt,Ff="__lodash_hash_undefined__",Gf=Object.prototype,Wf=Gf.hasOwnProperty;function zf(e){var t=this.__data__;if(Nf){var r=t[e];return r===Ff?void 0:r}return Wf.call(t,e)?t[e]:void 0}var qf=zf,Uf=pt,Bf=Object.prototype,Hf=Bf.hasOwnProperty;function Kf(e){var t=this.__data__;return Uf?t[e]!==void 0:Hf.call(t,e)}var Vf=Kf,Jf=pt,Yf="__lodash_hash_undefined__";function Zf(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Jf&&t===void 0?Yf:t,this}var Xf=Zf,Qf=If,eh=Df,th=qf,rh=Vf,nh=Xf;function Se(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Se.prototype.clear=Qf;Se.prototype.delete=eh;Se.prototype.get=th;Se.prototype.has=rh;Se.prototype.set=nh;var ah=Se,Dr=ah,sh=dt,ih=cr;function oh(){this.size=0,this.__data__={hash:new Dr,map:new(ih||sh),string:new Dr}}var lh=oh;function uh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ch=uh,fh=ch;function hh(e,t){var r=e.__data__;return fh(t)?r[typeof t=="string"?"string":"hash"]:r.map}var gt=hh,dh=gt;function ph(e){var t=dh(this,e).delete(e);return this.size-=t?1:0,t}var gh=ph,vh=gt;function yh(e){return vh(this,e).get(e)}var bh=yh,mh=gt;function $h(e){return mh(this,e).has(e)}var wh=$h,_h=gt;function Sh(e,t){var r=_h(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var xh=Sh,Oh=lh,jh=gh,Ch=bh,Ah=wh,Th=xh;function xe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xe.prototype.clear=Oh;xe.prototype.delete=jh;xe.prototype.get=Ch;xe.prototype.has=Ah;xe.prototype.set=Th;var fr=xe,Ph=dt,Lh=cr,Eh=fr,kh=200;function Rh(e,t){var r=this.__data__;if(r instanceof Ph){var n=r.__data__;if(!Lh||n.length<kh-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Eh(n)}return r.set(e,t),this.size=r.size,this}var Ih=Rh,Mh=dt,Dh=_f,Nh=xf,Fh=jf,Gh=Af,Wh=Ih;function Oe(e){var t=this.__data__=new Mh(e);this.size=t.size}Oe.prototype.clear=Dh;Oe.prototype.delete=Nh;Oe.prototype.get=Fh;Oe.prototype.has=Gh;Oe.prototype.set=Wh;var ia=Oe,zh="__lodash_hash_undefined__";function qh(e){return this.__data__.set(e,zh),this}var Uh=qh;function Bh(e){return this.__data__.has(e)}var Hh=Bh,Kh=fr,Vh=Uh,Jh=Hh;function lt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kh;++t<r;)this.add(e[t])}lt.prototype.add=lt.prototype.push=Vh;lt.prototype.has=Jh;var Yh=lt;function Zh(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xh=Zh;function Qh(e,t){return e.has(t)}var ed=Qh,td=Yh,rd=Xh,nd=ed,ad=1,sd=2;function id(e,t,r,n,a,s){var i=r&ad,o=e.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var u=s.get(e),h=s.get(t);if(u&&h)return u==t&&h==e;var c=-1,d=!0,p=r&sd?new td:void 0;for(s.set(e,t),s.set(t,e);++c<o;){var g=e[c],v=t[c];if(n)var y=i?n(v,g,c,t,e,s):n(g,v,c,e,t,s);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!rd(t,function($,C){if(!nd(p,C)&&(g===$||a(g,$,r,n,s)))return p.push(C)})){d=!1;break}}else if(!(g===v||a(g,v,r,n,s))){d=!1;break}}return s.delete(e),s.delete(t),d}var oa=id,od=K,ld=od.Uint8Array,ud=ld;function cd(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var fd=cd;function hd(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dd=hd,Nr=ct,Fr=ud,pd=sa,gd=oa,vd=fd,yd=dd,bd=1,md=2,$d="[object Boolean]",wd="[object Date]",_d="[object Error]",Sd="[object Map]",xd="[object Number]",Od="[object RegExp]",jd="[object Set]",Cd="[object String]",Ad="[object Symbol]",Td="[object ArrayBuffer]",Pd="[object DataView]",Gr=Nr?Nr.prototype:void 0,At=Gr?Gr.valueOf:void 0;function Ld(e,t,r,n,a,s,i){switch(r){case Pd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Td:return!(e.byteLength!=t.byteLength||!s(new Fr(e),new Fr(t)));case $d:case wd:case xd:return pd(+e,+t);case _d:return e.name==t.name&&e.message==t.message;case Od:case Cd:return e==t+"";case Sd:var o=vd;case jd:var l=n&bd;if(o||(o=yd),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=md,i.set(e,t);var h=gd(o(e),o(t),n,a,s,i);return i.delete(e),h;case Ad:if(At)return At.call(e)==At.call(t)}return!1}var Ed=Ld;function kd(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Rd=kd,Id=Rd,Md=B;function Dd(e,t,r){var n=t(e);return Md(e)?n:Id(n,r(e))}var Nd=Dd;function Fd(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var Gd=Fd;function Wd(){return[]}var zd=Wd,qd=Gd,Ud=zd,Bd=Object.prototype,Hd=Bd.propertyIsEnumerable,Wr=Object.getOwnPropertySymbols,Kd=Wr?function(e){return e==null?[]:(e=Object(e),qd(Wr(e),function(t){return Hd.call(e,t)}))}:Ud,Vd=Kd,Jd=Nd,Yd=Vd,Zd=ft;function Xd(e){return Jd(e,Zd,Yd)}var Qd=Xd,zr=Qd,ep=1,tp=Object.prototype,rp=tp.hasOwnProperty;function np(e,t,r,n,a,s){var i=r&ep,o=zr(e),l=o.length,u=zr(t),h=u.length;if(l!=h&&!i)return!1;for(var c=l;c--;){var d=o[c];if(!(i?d in t:rp.call(t,d)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=i;++c<l;){d=o[c];var $=e[d],C=t[d];if(n)var N=i?n(C,$,d,t,e,s):n($,C,d,e,t,s);if(!(N===void 0?$===C||a($,C,r,n,s):N)){v=!1;break}y||(y=d=="constructor")}if(v&&!y){var A=e.constructor,R=t.constructor;A!=R&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof R=="function"&&R instanceof R)&&(v=!1)}return s.delete(e),s.delete(t),v}var ap=np,sp=ce,ip=K,op=sp(ip,"DataView"),lp=op,up=ce,cp=K,fp=up(cp,"Promise"),hp=fp,dp=ce,pp=K,gp=dp(pp,"Set"),vp=gp,yp=ce,bp=K,mp=yp(bp,"WeakMap"),$p=mp,Zt=lp,Xt=cr,Qt=hp,er=vp,tr=$p,la=qe,je=aa,qr="[object Map]",wp="[object Object]",Ur="[object Promise]",Br="[object Set]",Hr="[object WeakMap]",Kr="[object DataView]",_p=je(Zt),Sp=je(Xt),xp=je(Qt),Op=je(er),jp=je(tr),se=la;(Zt&&se(new Zt(new ArrayBuffer(1)))!=Kr||Xt&&se(new Xt)!=qr||Qt&&se(Qt.resolve())!=Ur||er&&se(new er)!=Br||tr&&se(new tr)!=Hr)&&(se=function(e){var t=la(e),r=t==wp?e.constructor:void 0,n=r?je(r):"";if(n)switch(n){case _p:return Kr;case Sp:return qr;case xp:return Ur;case Op:return Br;case jp:return Hr}return t});var Cp=se,Tt=ia,Ap=oa,Tp=Ed,Pp=ap,Vr=Cp,Jr=B,Yr=Qn,Lp=ta,Ep=1,Zr="[object Arguments]",Xr="[object Array]",Ve="[object Object]",kp=Object.prototype,Qr=kp.hasOwnProperty;function Rp(e,t,r,n,a,s){var i=Jr(e),o=Jr(t),l=i?Xr:Vr(e),u=o?Xr:Vr(t);l=l==Zr?Ve:l,u=u==Zr?Ve:u;var h=l==Ve,c=u==Ve,d=l==u;if(d&&Yr(e)){if(!Yr(t))return!1;i=!0,h=!1}if(d&&!h)return s||(s=new Tt),i||Lp(e)?Ap(e,t,r,n,a,s):Tp(e,t,l,r,n,a,s);if(!(r&Ep)){var p=h&&Qr.call(e,"__wrapped__"),g=c&&Qr.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,y=g?t.value():t;return s||(s=new Tt),a(v,y,r,n,s)}}return d?(s||(s=new Tt),Pp(e,t,r,n,a,s)):!1}var Ip=Rp,Mp=Ip,en=Ue;function ua(e,t,r,n,a){return e===t?!0:e==null||t==null||!en(e)&&!en(t)?e!==e&&t!==t:Mp(e,t,r,n,ua,a)}var ca=ua,Dp=ia,Np=ca,Fp=1,Gp=2;function Wp(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var o=r[a];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<s;){o=r[a];var l=o[0],u=e[l],h=o[1];if(i&&o[2]){if(u===void 0&&!(l in e))return!1}else{var c=new Dp;if(n)var d=n(u,h,l,e,t,c);if(!(d===void 0?Np(h,u,Fp|Gp,n,c):d))return!1}}return!0}var zp=Wp,qp=ur;function Up(e){return e===e&&!qp(e)}var fa=Up,Bp=fa,Hp=ft;function Kp(e){for(var t=Hp(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Bp(a)]}return t}var Vp=Kp;function Jp(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ha=Jp,Yp=zp,Zp=Vp,Xp=ha;function Qp(e){var t=Zp(e);return t.length==1&&t[0][2]?Xp(t[0][0],t[0][1]):function(r){return r===e||Yp(r,e,t)}}var eg=Qp,tg=qe,rg=Ue,ng="[object Symbol]";function ag(e){return typeof e=="symbol"||rg(e)&&tg(e)==ng}var hr=ag,sg=B,ig=hr,og=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lg=/^\w*$/;function ug(e,t){if(sg(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ig(e)?!0:lg.test(e)||!og.test(e)||t!=null&&e in Object(t)}var dr=ug,da=fr,cg="Expected a function";function pr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cg);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(pr.Cache||da),r}pr.Cache=da;var fg=pr,hg=fg,dg=500;function pg(e){var t=hg(e,function(n){return r.size===dg&&r.clear(),n}),r=t.cache;return t}var gg=pg,vg=gg,yg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bg=/\\(\\)?/g,mg=vg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yg,function(r,n,a,s){t.push(a?s.replace(bg,"$1"):n||r)}),t}),$g=mg,tn=ct,wg=Vn,_g=B,Sg=hr,xg=1/0,rn=tn?tn.prototype:void 0,nn=rn?rn.toString:void 0;function pa(e){if(typeof e=="string")return e;if(_g(e))return wg(e,pa)+"";if(Sg(e))return nn?nn.call(e):"";var t=e+"";return t=="0"&&1/e==-xg?"-0":t}var Og=pa,jg=Og;function Cg(e){return e==null?"":jg(e)}var Ag=Cg,Tg=B,Pg=dr,Lg=$g,Eg=Ag;function kg(e,t){return Tg(e)?e:Pg(e,t)?[e]:Lg(Eg(e))}var ga=kg,Rg=hr,Ig=1/0;function Mg(e){if(typeof e=="string"||Rg(e))return e;var t=e+"";return t=="0"&&1/e==-Ig?"-0":t}var vt=Mg,Dg=ga,Ng=vt;function Fg(e,t){t=Dg(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ng(t[r++])];return r&&r==n?e:void 0}var va=Fg,Gg=va;function Wg(e,t,r){var n=e==null?void 0:Gg(e,t);return n===void 0?r:n}var zg=Wg;function qg(e,t){return e!=null&&t in Object(e)}var Ug=qg,Bg=ga,Hg=Xn,Kg=B,Vg=ea,Jg=lr,Yg=vt;function Zg(e,t,r){t=Bg(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=Yg(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Jg(a)&&Vg(i,a)&&(Kg(e)||Hg(e)))}var Xg=Zg,Qg=Ug,ev=Xg;function tv(e,t){return e!=null&&ev(e,t,Qg)}var rv=tv,nv=ca,av=zg,sv=rv,iv=dr,ov=fa,lv=ha,uv=vt,cv=1,fv=2;function hv(e,t){return iv(e)&&ov(t)?lv(uv(e),t):function(r){var n=av(r,e);return n===void 0&&n===t?sv(r,e):nv(t,n,cv|fv)}}var dv=hv;function pv(e){return e}var gv=pv;function vv(e){return function(t){return t?.[e]}}var yv=vv,bv=va;function mv(e){return function(t){return bv(t,e)}}var $v=mv,wv=yv,_v=$v,Sv=dr,xv=vt;function Ov(e){return Sv(e)?wv(xv(e)):_v(e)}var jv=Ov,Cv=eg,Av=dv,Tv=gv,Pv=B,Lv=jv;function Ev(e){return typeof e=="function"?e:e==null?Tv:typeof e=="object"?Pv(e)?Av(e[0],e[1]):Cv(e):Lv(e)}var kv=Ev,Rv=Tc,Iv=Vc,Mv=kv,Dv=B;function Nv(e,t){return function(r,n){var a=Dv(r)?Rv:Iv,s=t?t():{};return a(r,e,Mv(n),s)}}var Fv=Nv,Gv=Cc,Wv=Fv,zv=Object.prototype,qv=zv.hasOwnProperty,Uv=Wv(function(e,t,r){qv.call(e,r)?e[r].push(t):Gv(e,r,[t])}),Bv=Uv;const Hv=Hn(Bv);function Kv(e,{orderExecutions:t=!1}={}){return Je(e,"execution",t?Gi:null,n=>Je(n,"attack",null,a=>Je(a,"defence",null,s=>Je(s,"direction",null,i=>i))))}function Je(e,t,r,n){const a=Vv(e,t);return r!=null?r.flatMap(s=>n(a[s]??[])):Object.values(a).flatMap(n)}function Vv(e,t){return Hv(e,t)}function Jv(e,t){const r=t.selectedExams??new Set,n=t.filters??{},a=t.order?.randomize??!1,s=t.order?.includePercent??100,i=t.order?.orderExecutions??!1;let o=co(e.filter(l=>r.has(l.id)));return o=o.filter(ho(n)),a&&(o=Yu(o,{includePercent:s})),Kv(o,{orderExecutions:i})}var Yv=k("<div><!$><!/><!$><!/><!$><!/><div>"),Zv=k("<div class=my-10>");const ty=e=>{const[t,r]=Ot(oe(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:c=>JSON.stringify(Array.from(c)),deserialize:c=>new Set(JSON.parse(c))}),[n,a]=Ot(oe({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[s,i]=Ot(oe({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,l]=oe(!1);function u(){l(c=>!c)}const h=wa(()=>(o(),Jv(e.dojo.details.exams,{order:{...s(),orderExecutions:!0},selectedExams:t(),filters:n()})));return(()=>{var c=E(Yv),d=c.firstChild,[p,g]=q(d.nextSibling),v=p.nextSibling,[y,$]=q(v.nextSibling),C=y.nextSibling,[N,A]=q(C.nextSibling),R=N.nextSibling;return j(c,P(jt,{get headerLabel(){return U("examChooser.exams.header")},get children(){return P(ro,{get options(){return Xv(e.dojo.details.exams)},get value(){return t()},onChange:r})}}),p,g),j(c,P(jt,{get headerLabel(){return U("examChooser.filters.header")},get children(){return P(ao,{get value(){return n()},onChange:a})}}),y,$),j(c,P(jt,{get headerLabel(){return U("examChooser.order.header")},get children(){return P(uo,{get value(){return s()},onChange:i,onForceRefresh:u})}}),N,A),j(R,(()=>{var re=on(()=>t().size>0);return()=>re()&&(()=>{var V=E(Zv);return j(V,P(Qi,{get techniques(){return h()}})),V})()})()),c})()};function Xv(e){return e.map(t=>({id:t.id,label:U(t.labelKey)}))}export{ty as T,Hn as a,ey as g};
