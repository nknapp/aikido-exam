import{j as w,a as j,q as N,g as v,b as y,i as u,p as d,r as p,t as $,o as I,c as A,d as z,e as E,l as M,s as U,f as q,F as V}from"./web.CTE29jJE.js";const W="/_astro/playArrayBuffer.fixture.D9jk8p3Y.mp3";function Y(){let e=null,t=null;return{promise:new Promise((i,a)=>{e=i,t=a}),resolve:e,reject:t}}function G(e){const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}const J=async(e,t={})=>{const n=K(),{resolve:i,promise:a}=Y(),r=n.createBufferSource(),s=G(e);if(r.buffer=await n.decodeAudioData(s),r.connect(n.destination),!t.abortSignal?.aborted)return t.abortSignal?.addEventListener("abort",()=>r.stop()),r.start(),r.addEventListener("ended",()=>i()),a};let k=null;function K(){return k==null&&(k=new AudioContext),k}var Q=$('<div><ol><li>Press the play button<ul><li>The text "ai hamni katate dori" should be played</li><li>During playback, "playing" should be shownw</li><li>After playback, "playing" should disappear</li></ul></li><li>Press "play" and then "stop"<ul><li>The text "ai hamni katate dori" should be played</li><li>On pressing stop, the playback should be stopped</li></ul></li><li>Press "play" multiple times, before the playback is finished"<ul><li>The text "ai hamni katate dori" should be played</li><li>On pressing "play" again, the previous playback should be stopped</li></ul></li></ol><div class="flex gap-2 items-center py-2"><!$><!/><!$><!/><button class="border-primary border bg-primary-light p-2 rounded"></button><button class="border-primary border bg-primary-light p-2 rounded">Stop</button><div>'),X=$("<p>Error while loading mp3: <!$><!/>"),Z=$("<p>Loading mp3");async function ee(){return await(await fetch(W)).arrayBuffer()}const ue=()=>{let e=new AbortController;const[t,n]=j(0),i=()=>{e.abort(),e=new AbortController},a=async s=>{i(),n(c=>c+1),await J(s,{abortSignal:e.signal}),n(c=>c-1)},[r]=N(ee);return(()=>{var s=v(Q),c=s.firstChild,g=c.nextSibling,f=g.firstChild,[m,o]=y(f.nextSibling),l=m.nextSibling,[b,h]=y(l.nextSibling),_=b.nextSibling,B=_.nextSibling,O=B.nextSibling;return u(g,(()=>{var x=d(()=>!!r.error);return()=>x()&&(()=>{var C=v(X),R=C.firstChild,F=R.nextSibling,[T,D]=y(F.nextSibling);return u(C,()=>r.error,T,D),C})()})(),m,o),u(g,(()=>{var x=d(()=>!!r.loading);return()=>x()&&v(Z)})(),b,h),_.$$click=()=>a(r()),u(_,()=>r.loading?"Loading...":"Play"),B.$$click=()=>i(),u(O,()=>t()>0&&"Playing"),p(),s})()};w(["click"]);function P(...e){return S(e)}function S(e){return Array.isArray(e)?e.map(S).join(" ").trim():typeof e=="object"&&e!=null?S(Object.keys(e).filter(t=>e[t])):typeof e=="boolean"?"":e??""}const be=["primary","secondary"],ge=["normal","small"],te={normal:"p-4",small:"p-2 text-sm"},re={primary:"border-primary text-primary-dark outline-primary hover:bg-primary-lightest",secondary:"border-secondary text-secondary-dark outline-secondary  hover:bg-secondary-lightest"},ne="outline outline-4 -outline-offset-4 active:outline-1 active:outline-offset-0",ae={primary:"text-primary-dark outline-primary bg-primary-lightest hover:bg-primary-light",secondary:"text-secondary-dark outline-secondary bg-secondary-lightest hover:bg-secondary-light"},le={normal:"",small:"scale-80 origin-center"},ie={primary:"fill-current",secondary:"fill-current"},H=e=>{const t=d(()=>e().color??"primary"),n=d(()=>e().size??"normal"),i=d(()=>e().highlighted??!1);return{buttonClasses:d(()=>P("flex items-center gap-2 border rounded whitespace-nowrap truncate print:p-1 transition-all duration-100","active:outline","disabled:grayscale disabled:opacity-50",i()&&ne,i()?ae[t()]:re[t()],te[n()])),iconClasses:d(()=>P(le[n()],ie[t()]))}};function L(){const[e,t]=j(!1);return I(()=>{t(!0)}),e}var oe=$("<button><!$><!/><!$><!/>");const he=e=>{const t=L(),n=d(()=>!t||e.disabled),{buttonClasses:i,iconClasses:a}=H(()=>({...e}));return(()=>{var r=v(oe),s=r.firstChild,[c,g]=y(s.nextSibling),f=c.nextSibling,[m,o]=y(f.nextSibling);return r.$$click=l=>e.onClick?.(l),u(r,(()=>{var l=d(()=>!!e.icon);return()=>l()&&A(e.icon,{get class(){return a()}})})(),c,g),u(r,()=>e.label,m,o),z(l=>{var b=i(),h=n();return b!==l.e&&E(r,l.e=b),h!==l.t&&M(r,"disabled",l.t=h),l},{e:void 0,t:void 0}),p(),r})()};w(["click"]);var se=$("<button><!$><!/><!$><!/>");const ye=e=>{const t=L(),{buttonClasses:n,iconClasses:i}=H(()=>({...e,highlighted:e.value,disabled:e.disabled||!t()}));return(()=>{var a=v(se),r=a.firstChild,[s,c]=y(r.nextSibling),g=s.nextSibling,[f,m]=y(g.nextSibling);return a.$$click=()=>e.onChange(!e.value),u(a,(()=>{var o=d(()=>!!e.icon);return()=>o()&&A(e.icon,{get class(){return i()}})})(),s,c),u(a,()=>e.label??e.text,f,m),z(o=>{var l=n(),b=e.value,h=!t();return l!==o.e&&E(a,o.e=l),b!==o.t&&U(a,"aria-checked",o.t=b),h!==o.a&&M(a,"disabled",o.a=h),o},{e:void 0,t:void 0,a:void 0}),p(),a})()};w(["click"]);var ce=$('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3M8 5h8v3H8zm8 12v2H8v-4h8zm2-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4z"></path><circle cx=18 cy=11.5 r=1>');const me=(e={})=>(()=>{var t=v(ce);return q(t,e,!0,!0),p(),t})();function ve(e){return A(V,{get each(){return Object.entries(e.object)},children:(t,n)=>n()>0?[e.separator,e.children(t[0],t[1])]:e.children(t[0],t[1])})}export{ye as C,ve as F,me as I,ue as M,he as S,be as a,ge as b,P as c};
