const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/main.V-XmHQp_.js","_astro/_commonjsHelpers.BosuxZz1.js"])))=>i.map(i=>d[i]);
import{$ as Z,x as kt,y as Ze,z as _r,a as Ar,v as Nr}from"./web.CyVLF7YK.js";const Wr="modulepreload",Tr=function(e){return"/"+e},Et={},Ft=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=Promise.all(r.map(l=>{if(l=Tr(l),l in Et)return;Et[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const g=i[d];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Wr,u||(p.as="script",p.crossOrigin=""),p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((d,g)=>{p.addEventListener("load",d),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};var Cr={},Ir=Object.defineProperty,Dr=(e,t,r)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qt=(e,t,r)=>(Dr(e,typeof t!="symbol"?t+"":t,r),r),$t=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},h=(e,t,r)=>($t(e,t,"read from private field"),r?r.call(e):t.get(e)),b=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},v=(e,t,r,n)=>($t(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),O=(e,t,r)=>($t(e,t,"access private method"),r),J="astro-i18n",Mr=`${J}.config`,Rt="github.com/alexandre-fernandez/astro-i18n/issues",Ur=class extends Error{constructor(e){super(e?`${J}: Unreachable code executed (at "${e}"), please open an issue at "${Rt}".`:`${J}: Unreachable code executed, please open an issue at "${Rt}".`)}},Fr=Ur;function $(){throw new Fr}function qr(e=new Error("Something went wrong.")){throw e}var Ke,Vt,ge=class{constructor(e){b(this,Ke),qt(this,"regexp"),this.regexp=new RegExp(e.source,e.flags)}static fromString(e,t){return new ge(new RegExp(e,t))}get source(){return this.regexp.source}get flags(){return this.regexp.flags}add(e){return this.regexp=new RegExp(`${this.regexp.source}${e.source}`,this.regexp.flags),this}test(e){return this.regexp.test(e)}exec(e,t){let r=O(this,Ke,Vt).call(this,e),n=r.next();for(;!n.done&&t(n.value)!==ge.BREAK;)n=r.next();return this}match(e){let t=null;return this.exec(e,r=>(t=r,ge.BREAK)),t}clone(){return new ge(new RegExp(this.regexp.source,this.regexp.flags))}toMatcher(){return this.match.bind(this)}},zt=ge;Ke=new WeakSet,Vt=function*(e){let t=this.regexp;t.flags.includes("g")||(t=new RegExp(this.regexp.source,`${this.regexp.flags}g`));let r=t.exec(e);for(;r!==null;)r&&(yield{range:[r.index,r.index+r[0].length],match:[...r]}),r=t.exec(e)},qt(zt,"BREAK","break");var w=zt,Jt=class{#t;#e;constructor({source:e,flags:t}){this.#t=e,this.#e=t}static fromRegex(e){return new Jt(e.regexp)}appendPattern(e){return this.#t=`${this.#t}${e}`,this}matchTrimifiable(){return this.#t=`\\s*${this.#t}\\s*`,this}assertStarting(){return this.#t=`^${this.#t}`,this}assertEnding(){return this.#t=`${this.#t}$`,this}addGroup(){return this.#t=`(${this.#t})`,this}addGlobalFlag(){return this.#e.includes("g")||(this.#e=`${this.#e}g`),this}build(){return new w(new RegExp(this.#t,this.#e))}},B=Jt;function ke(e,t,r){if(!t(e)){let n="";throw e?typeof e=="object"?n=`
${e.constructor.name}
${JSON.stringify(e,null,4)}`:typeof e=="symbol"?n=`Symbol("${e.description}")`:n=typeof e=="string"?`"${e}"`:`${e}`:n=`${e}`,!r&&t.name.startsWith("is")&&(r=t.name.slice(2)),new TypeError(r?`Unexpected type (expecting \`${r}\`), found: ${n}`:`Unexpected type, found: ${n}`)}}function Vr(e){return typeof e=="number"&&!Number.isNaN(e)}function zr(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Ee(e){return Array.isArray(e)}function je(e){return Ee(e)&&e.every(t=>typeof t=="string")}function S(e){return!!e&&typeof e=="object"}function Pt(e){return S(e)?Object.getPrototypeOf(e)===Object.prototype:!1}var pe,ae,me,Xe=class{static get path(){return O(this,ae,me).call(this,"path")}static get posix(){return this.path.then(({posix:e})=>e)}static get fs(){return O(this,ae,me).call(this,"fs")}static get url(){return O(this,ae,me).call(this,"url")}static get module(){return O(this,ae,me).call(this,"module")}};pe=new WeakMap,ae=new WeakSet,me=async function(e){if(h(this,pe)[e])return h(this,pe)[e];let t=await Ft(()=>import(`node:${e}`),[]);return h(this,pe)[e]=t,t},b(Xe,ae),b(Xe,pe,{});var x=Xe;async function Te(e){let{sep:t,posix:r}=await x.path;return e.split(t).join(r.sep)}async function $e(e){let t=await Gr(e),r=e.split(t);return r.pop(),r.join(t)}function Jr(e){switch(e){case"":return!0;case"/":return!0;case"\\":return!0;default:return!/[/\\]/.test(e)}}async function Gr(e){let{sep:t}=await x.path,r=e.split("/").length-1,n=e.split("\\").length-1;return r>n?"/":n>r?"\\":t}function D(e,t,r){let{mode:n,mutable:s}={mode:"replace",mutable:!0,...r},i=s?e:structuredClone(e);for(let[a,o]of Object.entries(t)){let l=i[a];if(Object.hasOwn(i,a)){et(l)&&et(o)?D(l,o):n==="replace"&&(i[a]=t[a]);continue}i[a]=t[a]}return s?void 0:i}function Se(e,t,r){let n=typeof t=="string"?[t]:t,s=e;for(let[i,a]of n.entries()){if(i===n.length-1){s[a]=r;break}et(s[a])||(s[a]={}),s=s[a]}}function et(e){return typeof e!="object"?!1:Object.getPrototypeOf(e)===Object.prototype}var Br=class extends Error{constructor(e){super(e?`Peer dependency \`${e}\` was not found, if it's not already done try installing it.`:"A dependency was not found.")}},Yr=Br,Qr=class extends Error{constructor(e){super(e?`No file was found for the given path (${e}).`:"No file was found for the given path.")}},Gt=Qr,Hr=class extends Error{constructor(e=[]){super(e.length>0?`Invalid file type, supported formats are: "${e.join('", "')}"`:"Invalid file type, format not supported.")}},Bt=Hr,Zr=class extends Error{constructor(e){super(e?`Invalid format, could not parse JSON (${e}).`:"Invalid format, could not parse JSON.")}},Kr=Zr;async function F(e){if(!e)return!1;let{existsSync:t,lstatSync:r}=await x.fs;return t(e)&&r(e).isDirectory()}async function qe(e){if(!e)return!1;let{existsSync:t,lstatSync:r}=await x.fs;return t(e)&&!r(e).isDirectory()}async function Xr(e){let{accessSync:t,constants:r}=await x.fs;try{return t(e,r.R_OK),!0}catch{return!1}}async function Yt(e,t){let{readdirSync:r}=await x.fs,n=r(e);await t(await Te(e),n);for(let s of n){let i=`${e}/${s}`;await F(i)&&await Yt(i,t)}}async function en(e){let t=null;t=await Ft(()=>import("./main.V-XmHQp_.js").then(n=>n.m),__vite__mapDeps([0,1]));let r=/\.(js|cjs|mjs|ts)$/;if(!qe(e))throw new Gt(e);if(!r.test(e))throw new Bt(["js","cjs","mjs","ts"]);try{let{outputFiles:n}=await t.build({entryPoints:[e],bundle:!0,external:["esbuild"],format:"cjs",platform:"node",write:!1}),s=new TextDecoder().decode(n[0]?.contents);return s?tn(s,e.replace(r,".cjs")):{}}catch{throw new Yr("esbuild")}}async function Re(e){if(!qe(e))throw new Gt(e);if(!/\.json$/.test(e))throw new Bt(["json"]);let{readFileSync:t}=await x.fs,r=t(e,{encoding:"utf8"});try{return JSON.parse(r)}catch{throw new Kr(e)}}async function tn(e,t){let{Module:r}=await x.module,n=t.split("/").slice(0,-1).join("/"),s={module:new r(t),require(i){return this.module.require(i)}};return s.module.paths=r._nodeModulePaths(n),s.module.filename=t,s.module.exports={},s.require=i=>s.module.require(i),Object.assign(s.require,{resolve:i=>r._resolveFilename(i,s.module)}),new Function("exports","require","module","__filename","__dirname",e)(s.module.exports,s.require,s.module,t,n),s.module.exports}var K="break",rn=["json","js","cjs","mjs","ts"],tt="i18n",Oe="pages",nn=class extends Error{constructor(){super(`Could not find astro "${Oe}" directory.`)}},sn=nn,an=new w(/(\/[^\s/]+)?(\/[^\s/]+)\.astro$/),Ye=new w(/^---\n([\S\s]+)\n---\n/),on=new w(/export\s*(?:const\s+prerender|var\s+prerender|let\s+prerender|prerender)(?:\s*=\s*)?(true|false)?|export\s*?{\s*?prerender\s*?}/),ln=new w(/export\s+(?:async\s+)?(?:function\s+|const\s+|var\s+|let\s+)getStaticPaths|export\s*{\s*getStaticPaths\s*}/),un=class{#t;#e;#r;#o;#l;#i=void 0;#n=void 0;#s=null;#a=null;constructor({name:e,route:t,path:r,translations:n,routes:s}){this.#t=e,this.#e=t,this.#r=r,this.#o=n,this.#l=s}get name(){return this.#t}get route(){return this.#e}get path(){return this.#r}get translations(){return this.#o}get routes(){return this.#l}async getContent(){if(this.#s)return this.#s;let{readFileSync:e}=await x.fs;return this.#s=e(this.#r,{encoding:"utf8"}),this.#a=Ye.match(this.#s)?.match[0]||null,this.#s}async getFrontmatter(){return this.#a?this.#a:(this.getContent(),this.#a)}async hasGetStaticPaths(){if(typeof this.#i<"u")return this.#i;let{readFileSync:e}=await x.fs,t=e(this.#r,{encoding:"utf8"}),r=Ye.match(t)?.match[0];return this.#i=r?ln.test(r):!1,this.#i}async prerender(){if(typeof this.#n<"u")return this.#n;let{readFileSync:e}=await x.fs,t=e(this.#r,{encoding:"utf8"}),r=Ye.match(t)?.match[0];if(!r)return this.#n=!1,this.#n;let{match:n}=on.match(r)||{};return n?n[1]?this.#n=n[1]==="true":this.#n=!0:this.#n=null,this.#n}async getProxy(e,t){let r=this.path.lastIndexOf("src/pages");if(r=r<0?null:r+9,!r)return null;let n="";e=e.replace(/\/$/,"")||"/";let s=this.#r.slice(r),i=e.split("/").length-1,a=`${"../".repeat(i)}${s.slice(1)}`;if(n+=`---
import Page from "${a}"
`,await this.hasGetStaticPaths()){let{locale:l,route:u}=t.internals.splitLocaleAndRoute(e);n+=`import { getStaticPaths as proxyGetStaticPaths } from "${a}"
/* @ts-ignore */
export const getStaticPaths = (props) => proxyGetStaticPaths({ ...props, astroI18n: `,n+=`{ locale: "${l}", route: "${u}", primaryLocale: "${t.primaryLocale}", secondaryLocales: ["${t.secondaryLocales.join('", "')}"] } })
`}let o=await this.prerender();return typeof o=="boolean"&&(n+=o?`export const prerender = true
`:`export const prerender = false
`),n+=`const { props } = Astro
---
<Page {...props} />`,n}},_t=un,cn=class extends Error{constructor(e){super(e?`Invalid pattern (${e.source}) given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).`:"Invalid pattern given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).")}},fn=cn;function ce(e,t=!0){if(t){if(!S(e))return!1;for(let r of Object.values(e))if(!ce(r,!1))return!1;return!0}if(typeof e=="string")return!0;if(!S(e))return!1;for(let r of Object.values(e))if(!ce(r,!1))return!1;return!0}async function hn(e,t={}){let{join:r}=await x.path,n=`${e}/${t.srcDir}/${Oe}`;if(!await F(n))throw new sn;let s={},i=(t.secondaryLocales||[]).map(d=>`/${t.srcDir}/${Oe}/${d}`),a={i18n:tt,pages:tt,...t.translationDirectory},o=[t.primaryLocale||"en",...t.secondaryLocales||[]],l=w.fromString(`(\\/[^\\/\\s]+)?(?:\\/_?${a.pages})?\\/_?(${o.join("|")})(\\.[^\\.\\s]+)?\\.json$`),u=w.fromString(`_?${a.pages}`),c=t.showPrimaryLocale?r(n,t.primaryLocale||"en"):n;await Yt(c,async(d,g)=>{if(!i.some(m=>d.includes(m)))for(let m of g){let y=`${d}/${m}`;if(await F(y))continue;let j=y.replace(n,"");if(j.endsWith(".astro")){let{match:C,range:Be}=an.match(j)||{};if(!C||!C[2]||!Be)continue;let M="index",te="/";if(C[1]?C[2]==="/index"?(M=C[1].replace("/",""),te=`${j.slice(0,Be[0])}/${M}`):(M=C[2].replace("/",""),te=`${j.slice(0,Be[0]+C[1].length)}/${M}`):C[2]!=="/index"&&(M=C[2].replace("/",""),te=`/${M}`),M.startsWith("_"))continue;s[te]={...s[te],name:M,route:te,path:y};continue}if(!j.endsWith(".json"))continue;let{match:E,range:jt}=l.match(j)||{};if(!E||!jt)continue;let A=`${j.slice(0,jt[0])}${E[1]||"/"}`;u.test(A)&&(A="/");let Pe=E[2]||$(),Lt=A.split("/").slice(-1).join("")||"index",xt=E[3]?E[3].replace(".",""):null,Ge=await Re(y);ke(Ge,ce,`${Pe}.PageTranslations`),D(Ge,s[A]?.translations?.[Pe]||{});let Rr={...s[A]?.translations,[Pe]:Ge},Pr=xt?{...s[A]?.routes,[Pe]:{[Lt]:xt}}:{...s[A]?.routes};s[A]={...s[A],name:Lt,route:A,translations:Rr,routes:Pr}}});let f=[];for(let d of Object.values(s))!d.path||!d.name||!d.route||f.push({translations:{},routes:{},...d});let p=`${e}/${t.srcDir}/${a.i18n}/${Oe}`;if(!await F(p))return f.map(d=>new _t(d));for(let d of f){let g=`${p}${d.route}`.replace(/\/$/,"");if(!await F(g))continue;let m=await At(g,d.name,l);for(let{translations:y,routes:j}of m)D(d.translations,y),D(d.routes,j);if(g=`${g}/${a.pages}`,!!await F(g)){m=await At(g,d.name,l);for(let{translations:y,routes:j}of m)D(d.translations,y),D(d.routes,j)}}return f.map(d=>new _t(d))}async function At(e,t,r){let{readdirSync:n}=await x.fs,s=[];for(let i of n(e,{encoding:"utf8"})){let{match:a}=r.match(`/${i}`)||{};if(!a)continue;let o=a[2]||qr(new fn),l=a[3]?a[3].replace(".",""):null,u=await Re(`${e}/${i}`);ke(u,ce,`${o}.PageTranslations`),s.push({translations:{[o]:u},routes:l?{[o]:{[t]:l}}:{}})}return s}var dn=class extends Error{constructor(e){super(e?`Unable to find project root. ${e}`:"Unable to find project root.")}},pn=dn,gn=w.fromString(`${J}\\.config\\.(${rn.join("|")})`),mn=w.fromString("astro\\.config\\.(js|cjs|mjs|ts)"),wn=new w(/[/\\]?node_modules/),yn=new w(/.+?node_modules/),bn=new w(/(?:package|deno)\.json/),vn=new w(/package\.json/),$n=new w(/deno\.jsonc?/),Sn=new w(/deps\.ts/),Qe=".",H="common",On=B.fromRegex(gn).assertEnding().build(),Qt=B.fromRegex(mn).assertEnding().build();function jn(e){let t={routes:[],extra:[],common:void 0};for(let r of Object.keys(e)){if(r.startsWith("/")){t.routes.push(r);continue}if(r===H){t.common=H;continue}t.extra.push(r)}return t}async function Ln(e,t={}){let r=`${e}/${t.srcDir}/${t.translationDirectory?.i18n||tt}`,n={};if(!await F(r))return n;let{readdirSync:s}=await x.fs,i=[t.primaryLocale||"en",...t.secondaryLocales||[]],a=w.fromString(`(${i.join("|")})\\.json`);for(let o of s(r)){if(o===Oe)continue;let l=`${r}/${o}`;if(await F(l))for(let u of s(l)){let{match:c}=a.match(u)||{};if(!c?.[1])continue;let f=c[1],p=await Re(`${l}/${u}`);ke(p,ce,`${f}.GroupTranslations`),Se(n,[o,f],p)}}return n}async function He(e){return oe(Ht(e),On.regexp)}async function xn(e){let t=await oe(Ht(e),Qt.regexp);if(!t)return null;let{readdirSync:r}=await x.fs,n=await $e(t),s=r(n),i=s.find(a=>vn.test(a));if(i){let a=await Re(`${n}/${i}`);if(Pt(a)&&Pt(a.dependencies)&&a.dependencies[J])return n}return s.find(a=>$n.test(a))||s.find(a=>Sn.test(a))?n:null}async function kn(e){let{readdirSync:t}=await x.fs;return typeof t(e).find(r=>Qt.test(r))=="string"}function Ht(e){let{match:t}=yn.match(e)||{};return t?t[0]?.replace(wn.regexp,"")||"/":e}async function oe(e,t,r=1,n=!0){let{readdirSync:s}=await x.fs;if(await qe(e))return t.test(e)?e:n?oe(await $e(e),t,1,!1):null;if(!await Xr(e)||Jr(e))return null;let i=s(e),a=i.find(l=>t.test(l));if(a)return`${e}/${a}`;if(r>0&&typeof i.find(l=>bn.test(l))!="string")return oe(await $e(e),t,1,!1);let o=i.filter(l=>{switch(l){case"node_modules":return!1;case"src":return!1;case"public":return!1;case"dist":return!1;case"build":return!1;default:return!l.startsWith(".")}});for(let l of o){let u=`${e}/${l}`;if(await qe(e))continue;let c=await oe(u,t,-1,!1);if(typeof c=="string")return c}return r>0?oe(await $e(e),t,1,!1):null}var En=class extends Error{constructor(){super(`Unable to find ${Mr}.`)}},Rn=En;function Pn(e){if(!S(e))return!1;for(let t of Object.values(e)){if(!S(t))return!1;for(let r of Object.values(t))if(typeof r!="string")return!1}return!0}function _n(e){if(!S(e))return!1;for(let t of Object.values(e)){if(!S(t))return!1;for(let r of Object.values(t))if(!ce(r))return!1}return!0}function An(e){if(!Ee(e))return!1;for(let t of e){if(!S(t))return!1;let r=Object.entries(t);if(r.length<2)return!1;for(let[n,s]of r)switch(n){case"groups":{if(!je(s))return!1;break}case"routes":{if(!je(s))return!1;break}default:return!1}}return!0}function Nn(e){if(!S(e))return!1;for(let[t,r]of Object.entries(e))if(t!=="i18n"&&t!=="pages"||typeof r!="string")return!1;return!0}function Wn(e){if(!S(e))return!1;for(let[t,r]of Object.entries(e))switch(t){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!je(r))return!1;break}case"fallbackLocale":{if(typeof r!="string")return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}case"run":{if(r!=="server"&&r!=="client+server")return!1;break}case"translations":{if(!_n(r))return!1;break}case"translationLoadingRules":{if(!An(r))return!1;break}case"translationDirectory":{if(!Nn(r))return!1;break}case"routes":{if(!Pn(r))return!1;break}case"srcDir":{if(typeof r!="string")return!1;break}default:return!1}return!0}function Tn(e){if(!S(e))return!1;for(let[t,r]of Object.entries(e))switch(t){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!je(r))return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}default:return!1}return!0}var Cn=class extends Error{constructor(e){super(e?`Your primaryLocale ("${e}") cannot be contained in your secondaryLocales array.`:"Your primaryLocale cannot be contained in your secondaryLocales array.")}},In=Cn,Zt=class{primaryLocale;secondaryLocales;fallbackLocale;showPrimaryLocale;trailingSlash;run;translations;translationLoadingRules;translationDirectory;routes;path;srcDir;constructor({primaryLocale:e,secondaryLocales:t,fallbackLocale:r,showPrimaryLocale:n,trailingSlash:s,run:i,translations:a,translationLoadingRules:o,translationDirectory:l,routes:u,srcDir:c}={},f=""){if(this.primaryLocale=e||"en",this.secondaryLocales=t||[],this.fallbackLocale=r??(e||""),this.showPrimaryLocale=n||!1,this.trailingSlash=s||"never",this.run=i||"client+server",this.translations=a||{},this.translationLoadingRules=o||[],this.translationDirectory=l||{},this.routes=u||{},this.path=f||"",this.srcDir=c||"src",this.secondaryLocales.includes(this.primaryLocale))throw new In(this.primaryLocale)}get pages(){return Object.keys(this.translations).filter(e=>e.startsWith("/"))}static async fromFilesystem(e=null){let{fileURLToPath:t}=await x.url;if(!e){let n="";typeof process<"u"&&(n=Cr.PWD||""),e=await He(await Te(n))}if(!e){let n="";typeof process<"u"&&(n=process.cwd()),e=await He(await Te(n))}if(!e){let n="";typeof import.meta=="object"&&typeof import.meta.url=="string"?n=t(import.meta.url):typeof __filename=="string"&&(n=__filename),n&&(e=await He(await Te(n)))}if(!e)throw new Rn;let r=e.endsWith(".json")?await Re(e):(await en(e)).default;return ke(r,Wn,"AstroI18nConfig"),new Zt(r,e).loadFilesystemTranslations()}async loadFilesystemTranslations(){if(!this.path)return this;let e=await $e(this.path);if(!await kn(e)){let n=await xn(this.path);if(!n)throw new pn;e=n}let t=await hn(e,this);for(let n of t)this.translations[n.route]||(this.translations[n.route]={}),D(this.translations[n.route]||$(),n.translations),this.routes||(this.routes={}),D(this.routes,n.routes);let r=await Ln(e,this);return D(this.translations,r),this}toClientSideObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash}}toObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash,run:this.run,translations:this.translations,translationLoadingRules:this.translationLoadingRules,translationDirectory:this.translationDirectory,routes:this.routes}}toString(){return JSON.stringify(this.toObject(),null,"	")}},we=Zt,Kt=(e=>(e.NONE="none",e.NODE="node",e.BROWSER="browser",e))(Kt||{}),re=Kt,Dn=new w(/[$A-Z_a-z]/),St=B.fromRegex(Dn).appendPattern("[\\w$]*").build(),Mn=new w(/-?\d+(?:\.\d+)?/),Un=new w(/^\s*$/),Nt=new w(/{{(.+)}}/),Xt=new w(/{#(.+?)#}/),Fn=w.fromString(`\\(\\s*(${St.source})\\s*\\)`),qn=w.fromString(`>\\s*(${St.source})\\s*(\\()?`),Vn=new w(/(?:function)?\s*[\w$]*\s*\(([\S\s]*?)\)\s*(?:=>)?\s*{?([\S\s]*)/),zn=class extends Error{constructor(e=""){if(e){let t=e.slice(0,20);t.length===20&&(e=`${t.slice(0,17)}...`)}super(e?`Cannot parse unknown value (${e}).`:"Cannot parse unknown value")}},er=zn,Jn=class extends Error{constructor(e=""){super(e?`Cannot procces untrimmed value ("${e}").`:"Cannot procces untrimmed value")}},tr=Jn,rr=B.fromRegex(Mn).assertStarting().build().toMatcher(),nr=B.fromRegex(St).assertStarting().build().toMatcher();function Gn(e){return Un.test(e)?{range:[0,0],match:[""]}:null}function sr(e){return e.startsWith("undefined")?{range:[0,9],match:["undefined"]}:null}function ir(e){return e.startsWith("null")?{range:[0,4],match:["null"]}:null}function ar(e){return e.startsWith("true")?{range:[0,4],match:["true"]}:e.startsWith("false")?{range:[0,5],match:["false"]}:null}function or(e){let t=e[0];if(t!=='"'&&t!=="'"&&t!=="`")return null;let r=e.slice(1).indexOf(t);return r===-1?null:(r+=2,{range:[0,r],match:[e.slice(0,r)]})}function Bn(e){if(!e.startsWith("{"))return null;let t=0;for(let r=0;r<e.length;r+=1){let n=e[r];if(n==="{"?t+=1:n==="}"&&(t-=1),t===0){let s=r+1;return{range:[0,s],match:[e.slice(0,s)]}}}return null}function lr(e){if(!e.startsWith("["))return null;let t=0;for(let r=0;r<e.length;r+=1){let n=e[r];if(n==="["?t+=1:n==="]"&&(t-=1),t===0){let s=r+1;return{range:[0,s],match:[e.slice(0,s)]}}}return null}function X(e,t){let r=0,n=!1,s=null;for(let i=0;i<e.length;i+=1){let a=e[i]||$(),o=a==='"'||a==="'"||a==="`",l=!1,u=!1;if(a==="{"||a==="["?(r+=1,l=!0):a==="}"||a==="]"?(r-=1,u=!0):!n&&o?(r+=1,n=!0,s=a,l=!0):n&&a===s&&(r-=1,n=!1,s=null,u=!0),t(a,i,r,l,u)===K)break}}var Yn=B.fromRegex(Fn).assertStarting().build().toMatcher(),Qn=B.fromRegex(qn).assertStarting().build().toMatcher();function ur(e){e=e.trim();let t=e,{value:r,type:n,end:s}=Hn(e);e=e.slice(s).trim();let i=null,a=Yn(e);if(a){let{match:l,range:u}=a;i=l[1]||$(),e=e.slice(u[1]).trim()}let o=[];for(;e.length>0;){e[0]===")"&&(e=e.slice(1));let{match:l,range:u}=Qn(e)||{};if(!l?.[1]||!u)break;if(e=e.slice(u[1]).trim(),!l[2]){o.push({name:l[1],args:[]});continue}let{args:c,end:f}=Zn(e);e=e.slice(f).trim(),o.push({name:l[1],args:c})}return{raw:t,value:r,type:n,alias:i,formatters:o}}function ne(e){let t=[];e=e.trim();let{type:r,value:n,alias:s,formatters:i}=ur(e);for(let a of i)for(let o of a.args)for(let l of ne(o))t.push(l);switch(r){case 4:{t.push(s||n);break}case 6:{let a="",o=!0;X(e,(l,u,c,f)=>{if(c===0){for(let p of ne(a))t.push(p);return K}if(o){if(f&&l==="{"||/\s/.test(l))return null;if(l===":")return o=!1,null}else if(l===","){for(let p of ne(a))t.push(p);return a="",o=!0,null}return o||(a+=l),null});break}case 7:{let a="";X(e,(o,l,u,c)=>{if(u===0){for(let f of ne(a))t.push(f);return K}if(c&&o==="[")return null;if(o===","){for(let f of ne(a))t.push(f);return a="",null}return a+=o,null});break}}return t}function Hn(e){if(/^\s+\S/.test(e))throw new tr(e);let t=Gn(e);if(t)return{value:"undefined",type:0,end:t.range[1]};if(t=sr(e),t)return{value:t.match[0]||$(),type:0,end:t.range[1]};if(t=ir(e),t)return{value:t.match[0]||$(),type:1,end:t.range[1]};if(t=ar(e),t)return{value:t.match[0]||$(),type:2,end:t.range[1]};if(t=rr(e),t)return{value:t.match[0]||$(),type:3,end:t.range[1]};if(t=nr(e),t)return{value:t.match[0]||$(),type:4,end:t.range[1]};if(t=or(e),t)return{value:t.match[0]||$(),type:5,end:t.range[1]};if(t=Bn(e),t)return{value:t.match[0]||$(),type:6,end:t.range[1]};if(t=lr(e),t)return{value:t.match[0]||$(),type:7,end:t.range[1]};throw new er(e)}function Zn(e){let t={args:[],end:0},r="",n=!1;return X(e,(s,i,a)=>(s==="("&&(n=!0),a>0?(r+=s,null):s===","?(t.args.push(r.trim()),r="",null):s===")"?(n&&(r+=s),t.args.push(r.trim()),t.end=i+1,r="",K):(r+=s,null))),t}function Kn(e,t,r,n,s,i){let a;switch(r){case 0:{a=void 0;break}case 1:{a=null;break}case 2:{if(e==="true"){a=!0;break}if(e==="false"){a=!1;break}}case 3:{a=e.includes(".")?Number.parseFloat(e):Number.parseInt(e,10);break}case 4:{if(t){a=s[t];break}a=s[e];break}case 5:{a=e.slice(1,-1);break}case 6:{a=Xn(e,s,i);break}case 7:{a=es(e,s,i);break}default:throw new er(e)}for(let{name:o,args:l}of n){let u=i[o];if(!u)return;let c=l.map(f=>new fe(f,s,i).value);a=u(a,...c)}return a}function Xn(e,t,r){let n={},s="",i="",a=!0;return X(e,(o,l,u,c)=>{if(u===0)return n[s]=new fe(i,t,r).value,K;if(u===1){if(a){if(c||/\s/.test(o))return null;if(o===":")return a=!1,null;s+=o}else if(o===",")return n[s]=new fe(i,t,r).value,s="",i="",a=!0,null}return a||(i+=o),null}),n}function es(e,t,r){let n=[],s="";return X(e,(i,a,o,l)=>{if(o===0)return n.push(new fe(s,t,r).value),K;if(o===1){if(l)return null;if(i===",")return n.push(new fe(s,t,r).value),s="",null}return s+=i,null}),n}var ts=class{raw;value;alias=null;constructor(e,t,r){let{raw:n,value:s,type:i,alias:a,formatters:o}=ur(e);this.raw=n,this.alias=a,this.value=Kn(s,a,i,o,t,r)}},fe=ts,rs=class extends Error{constructor(e){super(e?`Variant priority must be of type number (found: (${e})).`:"Variant priority must be of type number.")}},ns=rs,ss=class extends Error{constructor(e){super(e?`Invalid variant property key (${e}), it must be a valid variable name.`:"Invalid variant property value, it must be a valid variable name.")}},is=ss,Wt="undefined, null, number, string, boolean and flat arrays of these types.",as=class extends Error{constructor(e){super(e?`Invalid variant property value (${e}), accepted types are: ${Wt}.`:`Invalid variant property value, accepted types are: ${Wt}.`)}},Je=as;function rt(e){if(/^\s/.test(e))throw new tr(e);let t=sr(e);if(t)return{value:t.match[0]||$(),type:0,end:t.range[1]};if(t=ir(e),t)return{value:t.match[0]||$(),type:1,end:t.range[1]};if(t=ar(e),t)return{value:t.match[0]||$(),type:2,end:t.range[1]};if(t=rr(e),t)return{value:t.match[0]||$(),type:3,end:t.range[1]};if(t=or(e),t)return{value:t.match[0]||$(),type:5,end:t.range[1]};if(t=lr(e),t)return{value:t.match[0]||$(),type:7,end:t.range[1]};throw new Je(e)}function cr(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="number"||typeof e=="string"}function os(e){return Array.isArray(e)?e.every(t=>cr(t)):!1}function Ve(e,t){let r;switch(t){case 0:{r=void 0;break}case 1:{r=null;break}case 2:{if(e==="true"){r=!0;break}if(e==="false"){r=!1;break}}case 3:{r=e.includes(".")?Number.parseFloat(e):Number.parseInt(e,10);break}case 5:{r=e.slice(1,-1);break}case 7:{r=ls(e);break}default:throw new Je(e)}return r}function ls(e){let t=[],r="";return X(e,(n,s,i,a)=>{if(i===0){let{value:o,type:l}=rt(r.trim()),u=Ve(o,l);if(!cr(u))throw new Je(r);return t.push(u),K}if(i===1){if(a)return null;if(n===","){let{value:o,type:l}=rt(r.trim());return t.push(Ve(o,l)),r="",null}}return r+=n,null}),t}var us="$priority",fr=class{raw;priority;properties;value;constructor({raw:e,priority:t,properties:r,value:n}={}){this.raw=e||"",this.priority=t||0,this.properties=r||[],this.value=n||""}static fromString(e,t){let r=new fr;r.value=t;let n=e.trim();r.raw=n;let s="",i="",a=!0;return X(n,(o,l,u)=>{let c=l===n.length-1;if(a)return/\s/.test(o)?null:o===":"?(a=!1,null):(s+=o,null);if(u>0)return i+=o,null;if(c&&(i+=o),o===","||c){let f=nr(s.trim())?.match[0];if(!f)throw new is(s);let{value:p,type:d}=rt(i.trim());if(f===us){let y=Ve(p,d);if(typeof y!="number")throw new ns(p);return r.priority=y*.001,null}let g=Ve(p,d),m=Array.isArray(g)?g:[g];if(!os(m))throw new Je(i);return r.properties.push({name:f,values:m}),s="",i="",a=!0,null}return i+=o,null}),r}calculateMatchingScore(e){let t=0;for(let{name:r,values:n}of this.properties){if(!Object.hasOwn(e,r))continue;let s=e[r],i=[];for(let a of n){if(typeof s=="number"&&typeof a=="number"){let o=s-a;if(o===0){i.push(1e3);continue}i.push(Math.abs(1e3/o)-1);continue}s===a&&i.push(1e3)}i.length!==0&&(t+=Math.max(...i))}return t>0?t+this.priority:t}},nt=fr,cs=class extends Error{constructor(){super("Cannot use a variant on a key which value is not a string.")}},fs=cs;function hr(e,t="",r={}){for(let[n,s]of Object.entries(e)){if(typeof s=="string"){let{match:i,range:a}=Nt.match(n)||{};if(!i?.[1]||!a){let l=`${t}${Qe}${n}`.replace(/^\./,"");if(r[l]){r[l].default=s;continue}r[l]={default:s,variants:[]};continue}let o=`${t}${Qe}${n.slice(0,a[0])+n.slice(a[1])}`.replace(/^\./,"");if(r[o]){r[o].variants.push(nt.fromString(i[1],s));continue}r[o]={variants:[nt.fromString(i[1],s)]};continue}if(Nt.test(n))throw new fs;hr(s,`${t}${Qe}${n}`.replace(/^\./,""),r)}return r}function hs(e,t,r){let n=[];Xt.exec(e,({match:i,range:a})=>{if(!i[1])return;let{value:o}=new fe(i[1],t,r);n.push({value:ds(o),range:a})});let s=e;for(let i=n.length-1;i>=0;i-=1){let{value:a,range:o}=n[i]||$();s=s.slice(0,o[0])+a+s.slice(o[1])}return s}function ds(e){switch(typeof e){case"undefined":return"";case"string":return e;case"bigint":return e.toString();case"number":return e.toString();case"boolean":return e.toString();case"symbol":return`Symbol(${e.description})`||"Symbol";case"function":return e.name;case"object":return e?Object.hasOwn(e,"toString")&&typeof e.toString=="function"?e.toString():JSON.stringify(e,null,"	"):"";default:return""}}function ps(e){for(let t of Object.values(e))for(let r of Object.values(t))for(let n of Object.values(r))n.variants=n.variants.map(s=>new nt(s));return e}var Ot=new w(/\[(\.{3})?([\w-]+)]/),gs=new w(/(?:https?:\/{2})?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b[\w#%&()+./:=?@~-]*/),dr=class{#t={};#e;constructor(e={},t={}){this.#e=e,this.#t=t}static fromConfig({translations:e,translationLoadingRules:t}){return new dr().addTranslations(e).addTranslationLoadingRules(t)}get(e,t,r,n="",s={},i={},a=!1){let o=this.#r(e,t,r,a);!o&&n&&n!==r&&(o=this.#r(e,t,n,a));let l={score:0,value:o?.default||e};for(let u of o?.variants||[]){let c=u.calculateMatchingScore(s);c>l.score&&(l.score=c,l.value=u.value)}return hs(l.value,s,i)}getRouteGroups(){return Object.keys(this.#e).filter(e=>e.startsWith("/"))}getParamRouteGroups(){return Object.keys(this.#e).filter(e=>e.startsWith("/")&&Ot.test(e))}getLocaleTranslationVariables(e){let t={};for(let r of Object.values(this.#e)){if(!r[e])continue;let n=Object.entries(r[e]||$());for(let[s,{default:i,variants:a}]of n){let o={interpolationVars:[],variantVars:[],isVariantRequired:!1},l=[];if(i===void 0?o.isVariantRequired=!0:l.push(i),a.length>0){let g={};for(let{value:m,properties:y}of a){l.push(m);for(let{name:j,values:E}of y)g[j]=[...g[j]||[],...E]}o.variantVars=Object.entries(g).map(([m,y])=>({name:m,values:y}))}for(let g of l)Xt.exec(g,({match:m})=>{m[1]&&(o.interpolationVars=[...new Set([...o.interpolationVars,...ne(m[1])])])});if(!t[s]){t[s]=o;continue}let{interpolationVars:u,variantVars:c,isVariantRequired:f}=t[s]||{},p=[...new Set([...u||[],...o.interpolationVars])],d=[];for(let g of o.variantVars){let m=c?.find(y=>y.name===g.name);d.push(m?{name:g.name,values:[...new Set([...m?.values||[],...g.values])]}:g)}t[s]={interpolationVars:p,variantVars:d,isVariantRequired:(f||!1)&&o.isVariantRequired}}}return t}addTranslations(e){for(let[t,r]of Object.entries(e)){let n=Object.entries(r);if(n.length===0&&!this.#e[t]){this.#e[t]={};continue}for(let[s,i]of n)Se(this.#e,[t,s],hr(i))}return this}addTranslationLoadingRules(e){if(e.length===0)return this;let{routes:t}=jn(this.#e);for(let r of e){let n=[];for(let s of r.groups){let i=w.fromString(s);n.push(...Object.keys(this.#e).filter(a=>i.test(a)))}for(let s of r.routes){let i=w.fromString(s),a=t.filter(o=>i.test(o));for(let o of a){if(!this.#t[o]){this.#t[o]=[...new Set(n)];continue}this.#t[o]=[...new Set([...this.#t[o]||$(),...n])]}}}return this}clear(){this.#t={},this.#e={}}toClientSideObject(e){let t={};if(this.#t[e])for(let r of this.#t[e]||$())t[r]=this.#e[r]||{};return this.#e[e]&&(t[e]=this.#e[e]||{}),this.#e[H]&&(t[H]=this.#e[H]||{}),t}toObject(){return{loadDirectives:this.#t,translations:this.#e}}toString(){return JSON.stringify(this.toObject(),null,"	")}#r(e,t,r,n=!1){let s=null;if(n){let i=this.getRouteGroups();for(let a of i)for(let o of this.#t[a]||[]){let l=this.#e[o]?.[r]?.[e];if(l){s=l;break}}if(!s)for(let a of i)this.#e[a]?.[r]?.[e]&&(s=this.#e[a]?.[r]?.[e]||$())}else{for(let i of this.#t[t]||[]){let a=this.#e[i]?.[r]?.[e];if(a){s=a;break}}!s&&this.#e[t]?.[r]?.[e]&&(s=this.#e[t]?.[r]?.[e]||$())}return!s&&this.#e[H]?.[r]?.[e]&&(s=this.#e[H]?.[r]?.[e]||$()),s}},st=dr,ms=class extends Error{constructor(e){super(e?`Invalid date (${e}).`:"Invalid date.")}},ws=ms,ys=class extends TypeError{constructor(e,t){e?super(t?`Invalid formatter (${t}) parameter: ${e}`:`Invalid formatter parameter: ${e}`):super(t?`Invalid formatter (${t}) parameter.`:"Invalid formatter parameter.")}},Le=ys,bs=class extends TypeError{constructor(e,t){e?super(t?`Invalid formatter (${t}) value: ${e}`:`Invalid formatter value: ${e}`):super(t?`Invalid formatter (${t}) value.`:"Invalid formatter value.")}},de=bs;function Tt(e){if(typeof e!="string")throw new de(`Received value is not a string, found "${e}".`,"upper");return e.toUpperCase()}function Ct(e){if(typeof e!="string")throw new de(`Received value is not a string, found "${e}".`,"lower");return e.toLowerCase()}function vs(e){if(typeof e!="string")throw new de(`Received value is not a string, found "${e}".`,"capitalize");return`${e.slice(0,1).toUpperCase()}${e.slice(1).toLowerCase()}`}function $s(e,t){return e??t}function It(e,t){return e||t}function Ss(e,t){return typeof e=="string"?e:t}function Os(e,t=!0){if(typeof e=="symbol")throw new de(`Received value cannot be a symbol, found "${e.toString()}".`,"json");if(typeof t!="boolean")throw new Le(`format must be a boolean, found "${t}".`,"json");return t?JSON.stringify(e,null,"	"):JSON.stringify(e)}function js(e,t={},r=he.locale){if(typeof e=="string"&&(e=Number.parseFloat(e)),!Vr(e))throw new de(`Received value is not a number, found "${e}".`,"intl_format_number");if(!S(t))throw new Le(`options must be an object, found "${t}".`,"intl_format_number");if(typeof r!="string")throw new Le(`locale must be a string, found "${r}".`,"intl_format_number");return new Intl.NumberFormat(r,t).format(e)}function Ls(e,t={},r=he.locale){if(typeof e!="string"&&typeof e!="number"&&!(e instanceof Date))throw new de(`Received value is not a string, number or Date, found "${e}".`,"intl_format_date");if(e=e instanceof Date?e:new Date(e),!zr(e))throw new ws(e);if(!S(t))throw new Le(`options must be an object, found "${t}".`,"intl_format_date");if(typeof r!="string")throw new Le(`locale must be a string, found "${r}".`,"intl_format_date");return new Intl.DateTimeFormat(r,t)}var xs=B.fromRegex(Vn).assertStarting().assertEnding().build().toMatcher();function ks(e){let t=xs(e.toString());if(!t)return{args:[],body:""};let[,r,n]=t.match;return{args:Rs(r||""),body:Ps(n||"")}}function Es(e){let t={};for(let[r,n]of Object.entries(e))t[r]=new Function(...n.args,n.body);return t}function Rs(e){return e.trim().split(",").map(t=>t.trim())}function Ps(e){return e.trim().endsWith("}")?e.slice(0,-1):e}var _s=class{#t={upper:Tt,uppercase:Tt,lower:Ct,lowercase:Ct,capitalize:vs,json:Os,default_nullish:$s,default:It,default_falsy:It,default_non_string:Ss,intl_format_number:js,intl_format_date:Ls};#e;#r;constructor(e={}){this.#e=e,this.#r={...this.#t,...this.#e}}get default(){return this.#t}get custom(){return this.#e}addFormaters(e){for(let[t,r]of Object.entries(e))this.#r[t]||(this.#r[t]=r,this.#e[t]=r);return this}clear(){this.#e={},this.#r={}}toClientSideObject(){let e={};for(let[t,r]of Object.entries(this.#e))e[t]=ks(r);return e}toObject(){return this.#r}toString(){return JSON.stringify(this.toObject(),null,"	")}},it=_s,As=class extends Error{constructor(e){super(e?`Invalid environment: ${e}`:"Invalid environment.")}},Ns=As,pr=class{#t;#e;constructor(e={},t=""){this.#e=e,this.#t=t}static fromConfig({routes:e,primaryLocale:t}){return new pr({},t).addSegments(e)}get(e,t,r){return this.#e[t]?.[e]?.[r]||null}getSegmentLocales(e){let t=[];for(let[r,n]of Object.entries(this.#e))n[e]&&t.push(r);return t}addSegments(e){let t=Object.entries(e);for(let[r,n]of t){let s=t.filter(([i])=>i!==r&&i!==this.#t);for(let[i,a]of Object.entries(n)){Se(this.#e,[this.#t,i,r],a),Se(this.#e,[r,a,this.#t],i);for(let[o,l]of s)l[i]&&Se(this.#e,[r,a,o],l[i])}}return this}clear(){this.#t="",this.#e={}}toClientSideObject(){return{...this.#e}}toObject(){return{primaryLocale:this.#t,segments:this.#e}}toString(){return JSON.stringify(this.toObject(),null,"	")}},at=pr,Ws=class extends Error{constructor(){super("Cannot initialize astro-i18n, it already has been initialized.")}},Ts=Ws,Cs=class extends Error{constructor(e){super(e?`Cannot use filesystem: ${e}`:"Cannot use filesystem.")}},Is=Cs,Ds=class extends Error{constructor(){super(`Could not find the serialized ${J} state in the DOM. Check your ${J} config.`)}},Ms=Ds;function Us(e){if(!S(e))return!1;for(let t of Object.values(e)){if(!S(t))return!1;for(let r of Object.values(t)){if(!S(r))return!1;for(let n of Object.values(r))if(typeof n!="string")return!1}}return!0}function Fs(e){if(!S(e))return!1;for(let t of Object.values(e)){if(!S(t))return!1;let r=Object.entries(t);if(r.length<2)return!1;for(let[n,s]of r)switch(n){case"args":{if(!je(s))return!1;break}case"body":{if(typeof s!="string")return!1;break}}}return!0}function qs(e){if(!S(e))return!1;for(let t of Object.values(e)){if(!S(t))return!1;for(let r of Object.values(t))if(!Vs(r))return!1}return!0}function Vs(e){if(!S(e))return!1;for(let t of Object.values(e)){if(!S(t))return!1;for(let[r,n]of Object.entries(t))switch(r){case"default":{if(typeof n!="string")return!1;break}case"variants":{if(!Ee(n)||!n.every(s=>zs(s)))return!1;break}default:return!1}}return!0}function zs(e){if(!S(e))return!1;let t=Object.entries(e);if(t.length<4)return!1;for(let[r,n]of t)switch(r){case"raw":{if(typeof n!="string")return!1;break}case"priority":{if(typeof n!="number")return!1;break}case"properties":{if(!Ee(n)||!n.every(s=>Js(s)))return!1;break}case"value":{if(typeof n!="string")return!1;break}default:return!1}return!0}function Js(e){if(!S(e))return!1;let t=Object.entries(e);if(t.length<2)return!1;for(let[r,n]of t)switch(r){case"name":{if(typeof n!="string")return!1;break}case"values":{if(!Ee(n)||!n.every(s=>typeof s=="boolean"||typeof s=="string"||typeof s=="number"||s==null))return!1;break}default:return!1}return!0}function Gs(e){if(!S(e))return!1;let t=Object.entries(e);if(t.length<5)return!1;for(let[r,n]of t)switch(r){case"locale":{if(typeof n!="string")return!1;break}case"route":{if(typeof n!="string")return!1;break}case"config":{if(!Tn(n))return!1;break}case"translations":{if(!qs(n))return!1;break}case"segments":{if(!Us(n))return!1;break}case"formatters":{if(!Fs(n))return!1;break}default:return!1}return!0}function Dt(e){return gs.test(e)}function Bs(e){let t="",r=0;return Ot.exec(e,({match:n,range:[s,i]})=>{if(t+=e.slice(r,s),!n[2]){r=i;return}t+=n[1]?"[\\w/-]+":"[\\w-]+",r=i}),t+=e.slice(r),w.fromString(t.replaceAll("/","\\/"))}var Ys=class extends Error{constructor(){super("Cannot perform operation, astro-i18n is not initialized.")}},Mt=Ys,Qs=class extends Error{constructor(){super("Could not redirect, is this code running in the server ?")}},Hs=Qs,_e,Y,q,V,L,k,_,T,W,z,Q,N,le,ot,gr,lt,mr,ut,wr,ct,yr,ft,br,ye,Ce,Ie,ht,De,dt,be,Me,Ue,pt,gt,vr,mt,$r,wt=class{constructor(){b(this,ot),b(this,lt),b(this,ut),b(this,ct),b(this,ft),b(this,ye),b(this,Ie),b(this,De),b(this,be),b(this,Ue),b(this,gt),b(this,mt),b(this,Y,void 0),b(this,q,""),b(this,V,""),b(this,L,new we),b(this,k,new st),b(this,_,new at),b(this,T,new it),b(this,W,!1),b(this,z,!1),b(this,Q,{}),b(this,N,null),b(this,le,""),typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"?v(this,Y,re.NODE):typeof window>"u"?v(this,Y,re.NONE):(v(this,Y,re.BROWSER),h(this,L).run==="client+server"&&O(this,ot,gr).call(this))}get environment(){return h(this,Y).toString()}get route(){return h(this,z)?"":h(this,V)}set route(e){Dt(e)&&(e=new URL(e).pathname),e=decodeURI(e);let{locale:t,route:r}=O(this,be,Me).call(this,e);v(this,V,r),v(this,q,t||O(this,De,dt).call(this,O(this,Ue,pt).call(this,r))||this.primaryLocale)}get pages(){return h(this,k).getRouteGroups()}get page(){return O(this,ye,Ce).call(this,this.route)}get locale(){return h(this,q)}get locales(){return[h(this,L).primaryLocale,...h(this,L).secondaryLocales]}get primaryLocale(){return h(this,L).primaryLocale}get secondaryLocales(){return h(this,L).secondaryLocales}get fallbackLocale(){return h(this,L).fallbackLocale}get isInitialized(){return h(this,W)}get internals(){return{toHtml:O(this,gt,vr).bind(this),config:h(this,L),segments:h(this,_),translations:h(this,k),splitLocaleAndRoute:O(this,be,Me).bind(this),toString:O(this,mt,$r).bind(this),waitInitialization:O(this,lt,mr).bind(this),setPrivateProperties:O(this,ft,br).bind(this),reinitalize:O(this,ut,wr).bind(this),getAndClearRedirection:O(this,ct,yr).bind(this)}}t(e,t={},r={}){if(!h(this,W))throw new Mt;let{route:n,locale:s,fallbackLocale:i}=r;if(h(this,z))return h(this,k).get(e,"",s||this.locale,i||this.fallbackLocale,t,h(this,T).toObject(),!0);let a=n?O(this,ye,Ce).call(this,n):O(this,ye,Ce).call(this,this.route);return h(this,k).get(e,a||"",s||this.locale,i||this.fallbackLocale,t,h(this,T).toObject())}l(e,t={},r={}){if(!h(this,W))throw new Mt;let{targetLocale:n,routeLocale:s,showPrimaryLocale:i,query:a}=r,o=O(this,Ue,pt).call(this,decodeURI(e)),l=this.locales.includes(o[0]||"")&&o.shift()||"",u=s||l||O(this,De,dt).call(this,o)||this.primaryLocale,c=n||this.locale,f=o.map(m=>h(this,_).get(m,u,c)||m).join("/"),p=Object.entries(t);if(p.length>0)for(let[m,y]of p)f=f.replace(`[${m}]`,String(y).replace("/",""));if((i===void 0?h(this,L).showPrimaryLocale||c!==this.primaryLocale:i)&&(f=f?`${c}/${f}`:c),h(this,L).trailingSlash==="always"&&(f+="/"),f=f.startsWith("/")?f:`/${f}`,!a)return f;let d={};for(let[m,y]of Object.entries(a))d[m]=String(y);let g=new URLSearchParams(d).toString();return g?`${f}?${g}`:f}addTranslations(e){return h(this,k).addTranslations(e),O(this,Ie,ht).call(this),this}addFormatters(e){return h(this,T).addFormaters(e),this}addTranslationLoadingRules(e){return h(this,k).addTranslationLoadingRules(e),this}addRoutes(e){return h(this,_).addSegments(e),O(this,Ie,ht).call(this),this}extractRouteLocale(e){return O(this,be,Me).call(this,e).locale}redirect(e,t=301){if(this.environment===re.BROWSER)throw new Hs;if(typeof e=="string"){let r=Dt(e)?new URL(e):new URL(`${h(this,le)}/${e.replace(/^\//,"")}`);v(this,N,Response.redirect(r,t));return}v(this,N,Response.redirect(e,t))}async initialize(e=void 0,t={}){if(h(this,W))throw new Ts;switch(h(this,Y)){case re.NODE:{v(this,L,typeof e=="object"?await new we(e).loadFilesystemTranslations():await we.fromFilesystem(e));break}case re.NONE:{if(typeof e=="string")throw new Is("Cannot load config from filesystem in a non-node environment.");v(this,L,new we(e||{}));break}default:throw new Ns("Cannot initialize in a browser environment.")}v(this,k,st.fromConfig(h(this,L))),v(this,_,at.fromConfig(h(this,L))),v(this,T,new it(t)),v(this,W,!0)}},Sr=wt;_e=new WeakMap,Y=new WeakMap,q=new WeakMap,V=new WeakMap,L=new WeakMap,k=new WeakMap,_=new WeakMap,T=new WeakMap,W=new WeakMap,z=new WeakMap,Q=new WeakMap,N=new WeakMap,le=new WeakMap,ot=new WeakSet,gr=function(){let e=document.querySelector(`#${h(wt,_e)}`);if(!e||!e.textContent)throw new Ms;let t=JSON.parse(e.textContent);ke(t,Gs),v(this,q,t.locale),v(this,V,t.route),v(this,L,new we(t.config)),v(this,k,new st(ps(t.translations))),v(this,_,new at(t.segments,t.config.primaryLocale)),v(this,T,new it(Es(t.formatters))),v(this,W,!0),e.remove()},lt=new WeakSet,mr=async function(){let e=t=>{h(this,W)?t():setTimeout(()=>e(t),25)};return new Promise(e)},ut=new WeakSet,wr=async function(e=void 0,t={}){v(this,W,!1),h(this,k).clear(),h(this,_).clear(),h(this,T).clear(),await this.initialize(e,t)},ct=new WeakSet,yr=function(){let e=h(this,N);return v(this,N,null),e},ft=new WeakSet,br=function(e={}){let{route:t,locale:r,isGetStaticPaths:n,origin:s}={route:h(this,V),locale:h(this,q),isGetStaticPaths:h(this,z),origin:h(this,le),...e};v(this,V,t),v(this,q,r),v(this,z,n),v(this,le,s)},ye=new WeakSet,Ce=function(e){if(h(this,z))return null;if(h(this,Q)[e])return h(this,Q)[e]||$();let t=this.l(e,void 0,{targetLocale:this.primaryLocale});if(this.pages.includes(t))return t;let r=null;for(let n of this.pages)if(Ot.test(n)&&Bs(n).test(e)){r=n;break}return!r||!this.pages.includes(r)?null:(h(this,Q)[e]=r,r)},Ie=new WeakSet,ht=function(){v(this,Q,{})},De=new WeakSet,dt=function(e){let t={};for(let n of e)for(let s of h(this,_).getSegmentLocales(n))t[s]||(t[s]=0),t[s]+=1;let r={locale:"",score:0,isExAequo:!0};for(let[n,s]of Object.entries(t)){if(s>r.score){r.locale=n,r.score=s,r.isExAequo=!1;continue}s===r.score&&(r.isExAequo=!0)}return r.isExAequo?null:r.locale||null},be=new WeakSet,Me=function(e){e.startsWith("/")||(e=`/${e}`);let t=w.fromString(`\\/(${this.locales.join("|")})(?:\\/.*)?$`),{match:r}=t.match(e)||{},n=r?.[1]||null;return{locale:n,route:n?e.replace(`/${n}`,"").replace(/\/$/,"")||"/":e.replace(/\/$/,"")||"/"}},Ue=new WeakSet,pt=function(e){return e.replace(/^\//,"").replace(/\/$/,"").split("/")},gt=new WeakSet,vr=function(){let e={locale:h(this,q),route:h(this,V),config:h(this,L).toClientSideObject(),translations:h(this,k).toClientSideObject(this.route),segments:h(this,_).toClientSideObject(),formatters:h(this,T).toClientSideObject()};return`<script id="${h(wt,_e)}" type="application/json">${JSON.stringify(e)}<\/script>`},mt=new WeakSet,$r=function(){let e={};for(let[t,r]of Object.entries(h(this,T).toObject()))e[t]=r.name;return JSON.stringify({environment:this.environment,route:this.route,locale:this.locale,locales:this.locales,primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,isInitialized:this.isInitialized,"#redirection":h(this,N)instanceof Response?{url:h(this,N).url,status:h(this,N).status}:h(this,N),"#origin":h(this,le),"#isGetStaticPaths":h(this,z),"#routePageCache":h(this,Q),"#config":h(this,L).toObject(),"#translations":h(this,k).toObject(),"#segments":h(this,_).toObject(),"#formatters":e},null,"	")},b(Sr,_e,`__${J}__`);var Zs=Sr,he=new Zs,Ks=he.t.bind(he),mi=he.l.bind(he);function wi(e,t){return Ks(e,t)}const yi="single-direction";let P=[],U=0;const Ae=4;let Fe=0,Or=e=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(n){return r.lc=t.push(n),()=>{for(let i=U+Ae;i<P.length;)P[i]===n?P.splice(i,Ae):i+=Ae;let s=t.indexOf(n);~s&&(t.splice(s,1),--r.lc||r.off())}},notify(n,s){Fe++;let i=!P.length;for(let a of t)P.push(a,r.value,n,s);if(i){for(U=0;U<P.length;U+=Ae)P[U](P[U+1],P[U+2],P[U+3]);P.length=0}},off(){},set(n){let s=r.value;s!==n&&(r.value=n,r.notify(s))},subscribe(n){let s=r.listen(n);return n(r.value),s},value:e};return r};const Xs=5,Ne=6,We=10;let ei=(e,t,r,n)=>(e.events=e.events||{},e.events[r+We]||(e.events[r+We]=n(s=>{e.events[r].reduceRight((i,a)=>(a(i),i),{shared:{},...s})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let s=e.events[r],i=s.indexOf(t);s.splice(i,1),s.length||(delete e.events[r],e.events[r+We](),delete e.events[r+We])}),ti=1e3,jr=(e,t)=>ei(e,n=>{let s=t(n);s&&e.events[Ne].push(s)},Xs,n=>{let s=e.listen;e.listen=(...a)=>(!e.lc&&!e.active&&(e.active=!0,n()),s(...a));let i=e.off;return e.events[Ne]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let a of e.events[Ne])a();e.events[Ne]=[]}},ti)},()=>{e.listen=s,e.off=i}}),ri=(e,t,r)=>{Array.isArray(e)||(e=[e]);let n,s,i=()=>{if(s===Fe)return;s=Fe;let c=e.map(f=>f.get());if(!n||c.some((f,p)=>f!==n[p])){n=c;let f=t(...c);f&&f.then&&f.t?f.then(p=>{n===c&&a.set(p)}):(a.set(f),s=Fe)}},a=Or(void 0),o=a.get;a.get=()=>(i(),o());let l,u=r?()=>{clearTimeout(l),l=setTimeout(i)}:i;return jr(a,()=>{let c=e.map(f=>f.listen(u));return i(),()=>{for(let f of c)f()}}),a},ni=(e,t)=>ri(e,t),Ut=e=>e,se={},yt={addEventListener(){},removeEventListener(){}};function si(){try{return typeof localStorage<"u"}catch{return!1}}si()&&(se=localStorage);let ii={addEventListener(e,t,r){window.addEventListener("storage",t),window.addEventListener("pageshow",r)},removeEventListener(e,t,r){window.removeEventListener("storage",t),window.removeEventListener("pageshow",r)}};typeof window<"u"&&(yt=ii);function ai(e,t=void 0,r={}){let n=r.encode||Ut,s=r.decode||Ut,i=Or(t),a=i.set;i.set=u=>{typeof u>"u"?delete se[e]:se[e]=n(u),a(u)};function o(u){u.key===e?u.newValue===null?a(void 0):a(s(u.newValue)):se[e]||a(void 0)}function l(){i.set(se[e]?s(se[e]):t)}return jr(i,()=>{if(l(),r.listen!==!1)return yt.addEventListener(e,o,l),()=>{yt.removeEventListener(e,o,l)}}),i}const oi=ai("youtubeEnabled","false"),bi=ni(oi,e=>e==="true"),bt=Symbol("store-raw"),ue=Symbol("store-node"),I=Symbol("store-has"),Lr=Symbol("store-self");function xr(e){let t=e[Z];if(!t&&(Object.defineProperty(e,Z,{value:t=new Proxy(e,ci)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let s=0,i=r.length;s<i;s++){const a=r[s];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function G(e){let t;return e!=null&&typeof e=="object"&&(e[Z]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ee(e,t=new Set){let r,n,s,i;if(r=e!=null&&e[bt])return r;if(!G(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)s=e[a],(n=ee(s,t))!==s&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,u=a.length;l<u;l++)i=a[l],!o[i].get&&(s=e[i],(n=ee(s,t))!==s&&(e[i]=n))}return e}function ze(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function xe(e,t,r){if(e[t])return e[t];const[n,s]=Ar(r,{equals:!1,internal:!0});return n.$=s,e[t]=n}function li(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===Z||t===ue||(delete r.value,delete r.writable,r.get=()=>e[Z][t]),r}function kr(e){Ze()&&xe(ze(e,ue),Lr)()}function ui(e){return kr(e),Reflect.ownKeys(e)}const ci={get(e,t,r){if(t===bt)return e;if(t===Z)return r;if(t===kt)return kr(e),r;const n=ze(e,ue),s=n[t];let i=s?s():e[t];if(t===ue||t===I||t==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(e,t);Ze()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(i=xe(n,t,i)())}return G(i)?xr(i):i},has(e,t){return t===bt||t===Z||t===kt||t===ue||t===I||t==="__proto__"?!0:(Ze()&&xe(ze(e,I),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ui,getOwnPropertyDescriptor:li};function R(e,t,r,n=!1){if(!n&&e[t]===r)return;const s=e[t],i=e.length;r===void 0?(delete e[t],e[I]&&e[I][t]&&s!==void 0&&e[I][t].$()):(e[t]=r,e[I]&&e[I][t]&&s===void 0&&e[I][t].$());let a=ze(e,ue),o;if((o=xe(a,t,s))&&o.$(()=>r),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(o=a[l])&&o.$();(o=xe(a,"length",i))&&o.$(e.length)}(o=a[Lr])&&o.$()}function Er(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const s=r[n];R(e,s,t[s])}}function fi(e,t){if(typeof t=="function"&&(t=t(e)),t=ee(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const s=t[r];e[r]!==s&&R(e,r,s)}R(e,"length",n)}else Er(e,t)}function ve(e,t,r=[]){let n,s=e;if(t.length>1){n=t.shift();const a=typeof n,o=Array.isArray(e);if(Array.isArray(n)){for(let l=0;l<n.length;l++)ve(e,[n[l]].concat(t),r);return}else if(o&&a==="function"){for(let l=0;l<e.length;l++)n(e[l],l)&&ve(e,[l].concat(t),r);return}else if(o&&a==="object"){const{from:l=0,to:u=e.length-1,by:c=1}=n;for(let f=l;f<=u;f+=c)ve(e,[f].concat(t),r);return}else if(t.length>1){ve(e[n],t,[n].concat(r));return}s=e[n],r=[n].concat(r)}let i=t[0];typeof i=="function"&&(i=i(s,r),i===s)||n===void 0&&i==null||(i=ee(i),n===void 0||G(s)&&G(i)&&!Array.isArray(i)?Er(s,i):R(e,n,i))}function hi(...[e,t]){const r=ee(e||{}),n=Array.isArray(r),s=xr(r);function i(...a){_r(()=>{n&&a.length===1?fi(r,a[0]):ve(r,a)})}return[s,i]}const vt=Symbol("store-root");function ie(e,t,r,n,s){const i=t[r];if(e===i)return;const a=Array.isArray(e);if(r!==vt&&(!G(e)||!G(i)||a!==Array.isArray(i)||s&&e[s]!==i[s])){R(t,r,e);return}if(a){if(e.length&&i.length&&(!n||s&&e[0]&&e[0][s]!=null)){let u,c,f,p,d,g,m,y;for(f=0,p=Math.min(i.length,e.length);f<p&&(i[f]===e[f]||s&&i[f]&&e[f]&&i[f][s]===e[f][s]);f++)ie(e[f],i,f,n,s);const j=new Array(e.length),E=new Map;for(p=i.length-1,d=e.length-1;p>=f&&d>=f&&(i[p]===e[d]||s&&i[f]&&e[f]&&i[p][s]===e[d][s]);p--,d--)j[d]=i[p];if(f>d||f>p){for(c=f;c<=d;c++)R(i,c,e[c]);for(;c<e.length;c++)R(i,c,j[c]),ie(e[c],i,c,n,s);i.length>e.length&&R(i,"length",e.length);return}for(m=new Array(d+1),c=d;c>=f;c--)g=e[c],y=s&&g?g[s]:g,u=E.get(y),m[c]=u===void 0?-1:u,E.set(y,c);for(u=f;u<=p;u++)g=i[u],y=s&&g?g[s]:g,c=E.get(y),c!==void 0&&c!==-1&&(j[c]=i[u],c=m[c],E.set(y,c));for(c=f;c<e.length;c++)c in j?(R(i,c,j[c]),ie(e[c],i,c,n,s)):R(i,c,e[c])}else for(let u=0,c=e.length;u<c;u++)ie(e[u],i,u,n,s);i.length>e.length&&R(i,"length",e.length);return}const o=Object.keys(e);for(let u=0,c=o.length;u<c;u++)ie(e[o[u]],i,o[u],n,s);const l=Object.keys(i);for(let u=0,c=l.length;u<c;u++)e[l[u]]===void 0&&R(i,l[u],void 0)}function di(e,t={}){const{merge:r,key:n="id"}=t,s=ee(e);return i=>{if(!G(i)||!G(s))return s;const a=ie(s,{[vt]:i},vt,r,n);return a===void 0?i:a}}function vi(e){let t=e.get(),[r,n]=pi(t),s=e.subscribe(n);return Nr(()=>s()),r}function pi(e){let[t,r]=hi({value:e});return[()=>t.value,n=>{let s=ee(t.value);return typeof n=="function"&&(n=n(s)),r("value",di(n)),t.value}]}function $i(e){const t=`currentTechniques:${e}`;return{async save(r){localStorage.setItem(t,JSON.stringify(r))},async load(){const r=localStorage.getItem(t);return r==null?[]:Promise.resolve(JSON.parse(r))}}}export{yi as S,Ft as _,$i as a,mi as c,vi as p,wi as t,bi as y};
