import{g as m,p as dr,r as pe,t as S,f as J,b as T,i as h,e as v,M as Ee,z as Xr,F as Zr,A as Vr,n as hr,a as gr,d as Qr,c as j,s as Ie,h as Me,B as et,j as rt,k as je,C as tt}from"./web.fMbjEJf8.js";import{t as y,u as at,c as Le,a as nt}from"./usePersistentStore.-7ICVgCO.js";import{S as Fe,r as it,Y as st,c as ot}from"./techniqueStore.DbKuSB6C.js";import{F as Y,I as lt,L as ut}from"./ForEntries.BdVyCbvI.js";import{y as ct}from"./preload-helper.DyxLmbb3.js";import{b as ft,a as vt}from"./resolveExamTables.DN-B9pzp.js";import{C as be}from"./CheckButton.BBMIVY5O.js";import{n as dt}from"./index.browser.DP16PUbO.js";import{S as ve}from"./SimpleButton.5RnIPvAj.js";import{c as K,a as $r}from"./_commonjsHelpers.C4iS2aBk.js";import"./isReady.CQET9lh_.js";import"./adapter.D3DoqAO4.js";var ht=S('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const gt=(e={})=>(()=>{var r=m(ht);return dr(r,e,!0,!0),pe(),r})();var $t=S('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const _t=(e={})=>(()=>{var r=m($t);return dr(r,e,!0,!0),pe(),r})(),pt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];var bt=S('<div class=break-before-page><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),yt=S('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),mt=S('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class=col-span-2>'),St=S("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),At=S("<span class=text-sm>(<!$><!/>)"),Ct=S("<span><!$><!/><!$><!/>"),Tt=S("<span class=print:hidden>");const xt=e=>{const r=J(()=>ft(e.techniques,t=>t));return(()=>{var t=m(bt),a=t.firstChild,[n,i]=T(a.nextSibling),s=n.nextSibling;return h(t,v(Y,{get object(){return r()},children:(o,l)=>(()=>{var c=m(yt),f=c.firstChild,g=f.nextSibling;return h(f,o),h(g,v(Y,{object:l,children:(u,_)=>(()=>{var $=m(mt),p=$.firstChild,b=p.nextSibling;return h(p,u),h(b,v(Y,{object:_,children:(A,C)=>(()=>{var P=m(St),x=P.firstChild,E=x.nextSibling,ie=E.nextSibling,[se,N]=T(ie.nextSibling);return h(x,A),h(P,v(wt,{directions:C}),se,N),P})()})),$})()})),c})()}),n,i),h(s,()=>y("examChooser.created-by",{url:window.location.origin})),t})()},wt=e=>{const r=J(()=>Object.keys(e.directions)),t=J(()=>r().length===1&&r()[0]===Fe);return v(Xr,{get children(){return[v(Ee,{get when(){return t()},get children(){return v(De,{get technique(){return e.directions[Fe]}})}}),v(Ee,{get when(){return!t()},get children(){var a=m(At),n=a.firstChild,i=n.nextSibling,[s,o]=T(i.nextSibling);return s.nextSibling,h(a,v(Y,{get object(){return e.directions},separator:", ",children:(l,c)=>(()=>{var f=m(Ct),g=f.firstChild,[u,_]=T(g.nextSibling),$=u.nextSibling,[p,b]=T($.nextSibling);return h(f,l,u,_),h(f,v(De,{technique:c}),p,b),f})()}),s,o),a}})]}})},De=e=>{const r=at(ct,!1),t=it(e.technique);return v(Vr,{get when(){return r()},get children(){var a=m(Tt);return h(a,v(Zr,{each:t,children:n=>v(st,{type:"icon",class:"inline mx-2",link:n})})),a}})},Ot=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>v(be,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function oe([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),hr(()=>{gr(()=>{s.setItem(t,n(e()))})}),[e,r]}var Pt=S('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const le=e=>(()=>{var r=m(Pt),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return h(n,()=>e.headerLabel),h(i,()=>e.children),r})(),Et=e=>v(be,{get label(){return y("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})});var It=S("<div><input type=range min=1 max=100><label>");const Mt=e=>{function r(o,l){e.onChange({...e.value,[o]:l})}const t=dt(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return gr(()=>s(e.value.includePercent)),hr(()=>{n(!0)}),[v(be,{get label(){return y("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),v(ve,{color:"secondary",icon:gt,get label(){return y("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=m(It),l=o.firstChild,c=l.nextSibling;return l.addEventListener("change",f=>r("includePercent",Number(f.target.value))),l.$$input=f=>s(Number(f.target.value)),Ie(l,"id",t),Ie(c,"for",t),h(c,()=>y("examChooser.order.includePercent",{percent:i()})),Me(f=>{var g={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},u=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,_=!a||!e.value.randomize;return f.e=et(o,g,f.e),u!==f.t&&rt(l,f.t=u),_!==f.a&&je(l,"disabled",f.a=_),f},{e:void 0,t:void 0,a:void 0}),Me(()=>je(l,"value",i())),pe(),o})()]};Qr(["input"]);const jt={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function Lt(e){return r=>!e.kneeFriendly||jt.kneeFriendly.filter(r)}function Ft(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var Dt=Ft,Rt=Math.floor,Gt=Math.random;function Nt(e,r){return e+Rt(Gt()*(r-e+1))}var zt=Nt,Bt=zt;function qt(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=Bt(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var _r=qt,Ht=Dt,Kt=_r;function kt(e){return Kt(Ht(e))}var Ut=kt;function Yt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var pr=Yt,Jt=pr;function Wt(e,r){return Jt(r,function(t){return e[t]})}var Xt=Wt;function Zt(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var Vt=Zt,Qt=typeof K=="object"&&K&&K.Object===Object&&K,br=Qt,ea=br,ra=typeof self=="object"&&self&&self.Object===Object&&self,ta=ea||ra||Function("return this")(),O=ta,aa=O,na=aa.Symbol,V=na,Re=V,yr=Object.prototype,ia=yr.hasOwnProperty,sa=yr.toString,z=Re?Re.toStringTag:void 0;function oa(e){var r=ia.call(e,z),t=e[z];try{e[z]=void 0;var a=!0}catch{}var n=sa.call(e);return a&&(r?e[z]=t:delete e[z]),n}var la=oa,ua=Object.prototype,ca=ua.toString;function fa(e){return ca.call(e)}var va=fa,Ge=V,da=la,ha=va,ga="[object Null]",$a="[object Undefined]",Ne=Ge?Ge.toStringTag:void 0;function _a(e){return e==null?e===void 0?$a:ga:Ne&&Ne in Object(e)?da(e):ha(e)}var B=_a;function pa(e){return e!=null&&typeof e=="object"}var q=pa,ba=B,ya=q,ma="[object Arguments]";function Sa(e){return ya(e)&&ba(e)==ma}var Aa=Sa,ze=Aa,Ca=q,mr=Object.prototype,Ta=mr.hasOwnProperty,xa=mr.propertyIsEnumerable,wa=ze(function(){return arguments}())?ze:function(e){return Ca(e)&&Ta.call(e,"callee")&&!xa.call(e,"callee")},Sr=wa,Oa=Array.isArray,w=Oa,W={exports:{}};function Pa(){return!1}var Ea=Pa;W.exports;(function(e,r){var t=O,a=Ea,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||a;e.exports=c})(W,W.exports);var Ar=W.exports,Ia=9007199254740991,Ma=/^(?:0|[1-9]\d*)$/;function ja(e,r){var t=typeof e;return r=r??Ia,!!r&&(t=="number"||t!="symbol"&&Ma.test(e))&&e>-1&&e%1==0&&e<r}var Cr=ja,La=9007199254740991;function Fa(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=La}var ye=Fa,Da=B,Ra=ye,Ga=q,Na="[object Arguments]",za="[object Array]",Ba="[object Boolean]",qa="[object Date]",Ha="[object Error]",Ka="[object Function]",ka="[object Map]",Ua="[object Number]",Ya="[object Object]",Ja="[object RegExp]",Wa="[object Set]",Xa="[object String]",Za="[object WeakMap]",Va="[object ArrayBuffer]",Qa="[object DataView]",en="[object Float32Array]",rn="[object Float64Array]",tn="[object Int8Array]",an="[object Int16Array]",nn="[object Int32Array]",sn="[object Uint8Array]",on="[object Uint8ClampedArray]",ln="[object Uint16Array]",un="[object Uint32Array]",d={};d[en]=d[rn]=d[tn]=d[an]=d[nn]=d[sn]=d[on]=d[ln]=d[un]=!0;d[Na]=d[za]=d[Va]=d[Ba]=d[Qa]=d[qa]=d[Ha]=d[Ka]=d[ka]=d[Ua]=d[Ya]=d[Ja]=d[Wa]=d[Xa]=d[Za]=!1;function cn(e){return Ga(e)&&Ra(e.length)&&!!d[Da(e)]}var fn=cn;function vn(e){return function(r){return e(r)}}var dn=vn,X={exports:{}};X.exports;(function(e,r){var t=br,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var l=n&&n.require&&n.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(X,X.exports);var hn=X.exports,gn=fn,$n=dn,Be=hn,qe=Be&&Be.isTypedArray,_n=qe?$n(qe):gn,Tr=_n,pn=Vt,bn=Sr,yn=w,mn=Ar,Sn=Cr,An=Tr,Cn=Object.prototype,Tn=Cn.hasOwnProperty;function xn(e,r){var t=yn(e),a=!t&&bn(e),n=!t&&!a&&mn(e),i=!t&&!a&&!n&&An(e),s=t||a||n||i,o=s?pn(e.length,String):[],l=o.length;for(var c in e)(r||Tn.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Sn(c,l)))&&o.push(c);return o}var wn=xn,On=Object.prototype;function Pn(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||On;return e===t}var En=Pn;function In(e,r){return function(t){return e(r(t))}}var Mn=In,jn=Mn,Ln=jn(Object.keys,Object),Fn=Ln,Dn=En,Rn=Fn,Gn=Object.prototype,Nn=Gn.hasOwnProperty;function zn(e){if(!Dn(e))return Rn(e);var r=[];for(var t in Object(e))Nn.call(e,t)&&t!="constructor"&&r.push(t);return r}var Bn=zn;function qn(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var me=qn,Hn=B,Kn=me,kn="[object AsyncFunction]",Un="[object Function]",Yn="[object GeneratorFunction]",Jn="[object Proxy]";function Wn(e){if(!Kn(e))return!1;var r=Hn(e);return r==Un||r==Yn||r==kn||r==Jn}var xr=Wn,Xn=xr,Zn=ye;function Vn(e){return e!=null&&Zn(e.length)&&!Xn(e)}var wr=Vn,Qn=wn,ei=Bn,ri=wr;function ti(e){return ri(e)?Qn(e):ei(e)}var Q=ti,ai=Xt,ni=Q;function ii(e){return e==null?[]:ai(e,ni(e))}var si=ii,oi=_r,li=si;function ui(e){return oi(li(e))}var ci=ui,fi=Ut,vi=ci,di=w;function hi(e){var r=di(e)?fi:vi;return r(e)}var gi=hi;const $i=$r(gi);function _i(e){return $i(e)}function pi(e,{includePercent:r=100}={}){const t=_i(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var bi=O,yi=bi["__core-js_shared__"],mi=yi,ue=mi,He=function(){var e=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Si(e){return!!He&&He in e}var Ai=Si,Ci=Function.prototype,Ti=Ci.toString;function xi(e){if(e!=null){try{return Ti.call(e)}catch{}try{return e+""}catch{}}return""}var Or=xi,wi=xr,Oi=Ai,Pi=me,Ei=Or,Ii=/[\\^$.*+?()[\]{}|]/g,Mi=/^\[object .+?Constructor\]$/,ji=Function.prototype,Li=Object.prototype,Fi=ji.toString,Di=Li.hasOwnProperty,Ri=RegExp("^"+Fi.call(Di).replace(Ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gi(e){if(!Pi(e)||Oi(e))return!1;var r=wi(e)?Ri:Mi;return r.test(Ei(e))}var Ni=Gi;function zi(e,r){return e?.[r]}var Bi=zi,qi=Ni,Hi=Bi;function Ki(e,r){var t=Hi(e,r);return qi(t)?t:void 0}var M=Ki,ki=M,Ui=function(){try{var e=ki(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yi=Ui,Ke=Yi;function Ji(e,r,t){r=="__proto__"&&Ke?Ke(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Wi=Ji;function Xi(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Zi=Xi;function Vi(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var l=s[e?o:++n];if(t(i[l],l,i)===!1)break}return r}}var Qi=Vi,es=Qi,rs=es(),ts=rs,as=ts,ns=Q;function is(e,r){return e&&as(e,r,ns)}var ss=is,os=wr;function ls(e,r){return function(t,a){if(t==null)return t;if(!os(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var us=ls,cs=ss,fs=us,vs=fs(cs),ds=vs,hs=ds;function gs(e,r,t,a){return hs(e,function(n,i,s){r(a,n,t(n),s)}),a}var $s=gs;function _s(){this.__data__=[],this.size=0}var ps=_s;function bs(e,r){return e===r||e!==e&&r!==r}var Pr=bs,ys=Pr;function ms(e,r){for(var t=e.length;t--;)if(ys(e[t][0],r))return t;return-1}var ee=ms,Ss=ee,As=Array.prototype,Cs=As.splice;function Ts(e){var r=this.__data__,t=Ss(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():Cs.call(r,t,1),--this.size,!0}var xs=Ts,ws=ee;function Os(e){var r=this.__data__,t=ws(r,e);return t<0?void 0:r[t][1]}var Ps=Os,Es=ee;function Is(e){return Es(this.__data__,e)>-1}var Ms=Is,js=ee;function Ls(e,r){var t=this.__data__,a=js(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Fs=Ls,Ds=ps,Rs=xs,Gs=Ps,Ns=Ms,zs=Fs;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=Ds;L.prototype.delete=Rs;L.prototype.get=Gs;L.prototype.has=Ns;L.prototype.set=zs;var re=L,Bs=re;function qs(){this.__data__=new Bs,this.size=0}var Hs=qs;function Ks(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var ks=Ks;function Us(e){return this.__data__.get(e)}var Ys=Us;function Js(e){return this.__data__.has(e)}var Ws=Js,Xs=M,Zs=O,Vs=Xs(Zs,"Map"),Se=Vs,Qs=M,eo=Qs(Object,"create"),te=eo,ke=te;function ro(){this.__data__=ke?ke(null):{},this.size=0}var to=ro;function ao(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var no=ao,io=te,so="__lodash_hash_undefined__",oo=Object.prototype,lo=oo.hasOwnProperty;function uo(e){var r=this.__data__;if(io){var t=r[e];return t===so?void 0:t}return lo.call(r,e)?r[e]:void 0}var co=uo,fo=te,vo=Object.prototype,ho=vo.hasOwnProperty;function go(e){var r=this.__data__;return fo?r[e]!==void 0:ho.call(r,e)}var $o=go,_o=te,po="__lodash_hash_undefined__";function bo(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=_o&&r===void 0?po:r,this}var yo=bo,mo=to,So=no,Ao=co,Co=$o,To=yo;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=mo;F.prototype.delete=So;F.prototype.get=Ao;F.prototype.has=Co;F.prototype.set=To;var xo=F,Ue=xo,wo=re,Oo=Se;function Po(){this.size=0,this.__data__={hash:new Ue,map:new(Oo||wo),string:new Ue}}var Eo=Po;function Io(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Mo=Io,jo=Mo;function Lo(e,r){var t=e.__data__;return jo(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ae=Lo,Fo=ae;function Do(e){var r=Fo(this,e).delete(e);return this.size-=r?1:0,r}var Ro=Do,Go=ae;function No(e){return Go(this,e).get(e)}var zo=No,Bo=ae;function qo(e){return Bo(this,e).has(e)}var Ho=qo,Ko=ae;function ko(e,r){var t=Ko(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Uo=ko,Yo=Eo,Jo=Ro,Wo=zo,Xo=Ho,Zo=Uo;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=Yo;D.prototype.delete=Jo;D.prototype.get=Wo;D.prototype.has=Xo;D.prototype.set=Zo;var Ae=D,Vo=re,Qo=Se,el=Ae,rl=200;function tl(e,r){var t=this.__data__;if(t instanceof Vo){var a=t.__data__;if(!Qo||a.length<rl-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new el(a)}return t.set(e,r),this.size=t.size,this}var al=tl,nl=re,il=Hs,sl=ks,ol=Ys,ll=Ws,ul=al;function R(e){var r=this.__data__=new nl(e);this.size=r.size}R.prototype.clear=il;R.prototype.delete=sl;R.prototype.get=ol;R.prototype.has=ll;R.prototype.set=ul;var Er=R,cl="__lodash_hash_undefined__";function fl(e){return this.__data__.set(e,cl),this}var vl=fl;function dl(e){return this.__data__.has(e)}var hl=dl,gl=Ae,$l=vl,_l=hl;function Z(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new gl;++r<t;)this.add(e[r])}Z.prototype.add=Z.prototype.push=$l;Z.prototype.has=_l;var pl=Z;function bl(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var yl=bl;function ml(e,r){return e.has(r)}var Sl=ml,Al=pl,Cl=yl,Tl=Sl,xl=1,wl=2;function Ol(e,r,t,a,n,i){var s=t&xl,o=e.length,l=r.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(r);if(c&&f)return c==r&&f==e;var g=-1,u=!0,_=t&wl?new Al:void 0;for(i.set(e,r),i.set(r,e);++g<o;){var $=e[g],p=r[g];if(a)var b=s?a(p,$,g,r,e,i):a($,p,g,e,r,i);if(b!==void 0){if(b)continue;u=!1;break}if(_){if(!Cl(r,function(A,C){if(!Tl(_,C)&&($===A||n($,A,t,a,i)))return _.push(C)})){u=!1;break}}else if(!($===p||n($,p,t,a,i))){u=!1;break}}return i.delete(e),i.delete(r),u}var Ir=Ol,Pl=O,El=Pl.Uint8Array,Il=El;function Ml(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var jl=Ml;function Ll(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Fl=Ll,Ye=V,Je=Il,Dl=Pr,Rl=Ir,Gl=jl,Nl=Fl,zl=1,Bl=2,ql="[object Boolean]",Hl="[object Date]",Kl="[object Error]",kl="[object Map]",Ul="[object Number]",Yl="[object RegExp]",Jl="[object Set]",Wl="[object String]",Xl="[object Symbol]",Zl="[object ArrayBuffer]",Vl="[object DataView]",We=Ye?Ye.prototype:void 0,ce=We?We.valueOf:void 0;function Ql(e,r,t,a,n,i,s){switch(t){case Vl:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Zl:return!(e.byteLength!=r.byteLength||!i(new Je(e),new Je(r)));case ql:case Hl:case Ul:return Dl(+e,+r);case Kl:return e.name==r.name&&e.message==r.message;case Yl:case Wl:return e==r+"";case kl:var o=Gl;case Jl:var l=a&zl;if(o||(o=Nl),e.size!=r.size&&!l)return!1;var c=s.get(e);if(c)return c==r;a|=Bl,s.set(e,r);var f=Rl(o(e),o(r),a,n,i,s);return s.delete(e),f;case Xl:if(ce)return ce.call(e)==ce.call(r)}return!1}var eu=Ql;function ru(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var tu=ru,au=tu,nu=w;function iu(e,r,t){var a=r(e);return nu(e)?a:au(a,t(e))}var su=iu;function ou(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var lu=ou;function uu(){return[]}var cu=uu,fu=lu,vu=cu,du=Object.prototype,hu=du.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols,gu=Xe?function(e){return e==null?[]:(e=Object(e),fu(Xe(e),function(r){return hu.call(e,r)}))}:vu,$u=gu,_u=su,pu=$u,bu=Q;function yu(e){return _u(e,bu,pu)}var mu=yu,Ze=mu,Su=1,Au=Object.prototype,Cu=Au.hasOwnProperty;function Tu(e,r,t,a,n,i){var s=t&Su,o=Ze(e),l=o.length,c=Ze(r),f=c.length;if(l!=f&&!s)return!1;for(var g=l;g--;){var u=o[g];if(!(s?u in r:Cu.call(r,u)))return!1}var _=i.get(e),$=i.get(r);if(_&&$)return _==r&&$==e;var p=!0;i.set(e,r),i.set(r,e);for(var b=s;++g<l;){u=o[g];var A=e[u],C=r[u];if(a)var P=s?a(C,A,u,r,e,i):a(A,C,u,e,r,i);if(!(P===void 0?A===C||n(A,C,t,a,i):P)){p=!1;break}b||(b=u=="constructor")}if(p&&!b){var x=e.constructor,E=r.constructor;x!=E&&"constructor"in e&&"constructor"in r&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(p=!1)}return i.delete(e),i.delete(r),p}var xu=Tu,wu=M,Ou=O,Pu=wu(Ou,"DataView"),Eu=Pu,Iu=M,Mu=O,ju=Iu(Mu,"Promise"),Lu=ju,Fu=M,Du=O,Ru=Fu(Du,"Set"),Gu=Ru,Nu=M,zu=O,Bu=Nu(zu,"WeakMap"),qu=Bu,de=Eu,he=Se,ge=Lu,$e=Gu,_e=qu,Mr=B,G=Or,Ve="[object Map]",Hu="[object Object]",Qe="[object Promise]",er="[object Set]",rr="[object WeakMap]",tr="[object DataView]",Ku=G(de),ku=G(he),Uu=G(ge),Yu=G($e),Ju=G(_e),I=Mr;(de&&I(new de(new ArrayBuffer(1)))!=tr||he&&I(new he)!=Ve||ge&&I(ge.resolve())!=Qe||$e&&I(new $e)!=er||_e&&I(new _e)!=rr)&&(I=function(e){var r=Mr(e),t=r==Hu?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case Ku:return tr;case ku:return Ve;case Uu:return Qe;case Yu:return er;case Ju:return rr}return r});var Wu=I,fe=Er,Xu=Ir,Zu=eu,Vu=xu,ar=Wu,nr=w,ir=Ar,Qu=Tr,ec=1,sr="[object Arguments]",or="[object Array]",k="[object Object]",rc=Object.prototype,lr=rc.hasOwnProperty;function tc(e,r,t,a,n,i){var s=nr(e),o=nr(r),l=s?or:ar(e),c=o?or:ar(r);l=l==sr?k:l,c=c==sr?k:c;var f=l==k,g=c==k,u=l==c;if(u&&ir(e)){if(!ir(r))return!1;s=!0,f=!1}if(u&&!f)return i||(i=new fe),s||Qu(e)?Xu(e,r,t,a,n,i):Zu(e,r,l,t,a,n,i);if(!(t&ec)){var _=f&&lr.call(e,"__wrapped__"),$=g&&lr.call(r,"__wrapped__");if(_||$){var p=_?e.value():e,b=$?r.value():r;return i||(i=new fe),n(p,b,t,a,i)}}return u?(i||(i=new fe),Vu(e,r,t,a,n,i)):!1}var ac=tc,nc=ac,ur=q;function jr(e,r,t,a,n){return e===r?!0:e==null||r==null||!ur(e)&&!ur(r)?e!==e&&r!==r:nc(e,r,t,a,jr,n)}var Lr=jr,ic=Er,sc=Lr,oc=1,lc=2;function uc(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var g=new ic;if(a)var u=a(c,f,l,e,r,g);if(!(u===void 0?sc(f,c,oc|lc,a,g):u))return!1}}return!0}var cc=uc,fc=me;function vc(e){return e===e&&!fc(e)}var Fr=vc,dc=Fr,hc=Q;function gc(e){for(var r=hc(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,dc(n)]}return r}var $c=gc;function _c(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dr=_c,pc=cc,bc=$c,yc=Dr;function mc(e){var r=bc(e);return r.length==1&&r[0][2]?yc(r[0][0],r[0][1]):function(t){return t===e||pc(t,e,r)}}var Sc=mc,Ac=B,Cc=q,Tc="[object Symbol]";function xc(e){return typeof e=="symbol"||Cc(e)&&Ac(e)==Tc}var Ce=xc,wc=w,Oc=Ce,Pc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ec=/^\w*$/;function Ic(e,r){if(wc(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Oc(e)?!0:Ec.test(e)||!Pc.test(e)||r!=null&&e in Object(r)}var Te=Ic,Rr=Ae,Mc="Expected a function";function xe(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Mc);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(xe.Cache||Rr),t}xe.Cache=Rr;var jc=xe,Lc=jc,Fc=500;function Dc(e){var r=Lc(e,function(a){return t.size===Fc&&t.clear(),a}),t=r.cache;return r}var Rc=Dc,Gc=Rc,Nc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zc=/\\(\\)?/g,Bc=Gc(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Nc,function(t,a,n,i){r.push(n?i.replace(zc,"$1"):a||t)}),r}),qc=Bc,cr=V,Hc=pr,Kc=w,kc=Ce,Uc=1/0,fr=cr?cr.prototype:void 0,vr=fr?fr.toString:void 0;function Gr(e){if(typeof e=="string")return e;if(Kc(e))return Hc(e,Gr)+"";if(kc(e))return vr?vr.call(e):"";var r=e+"";return r=="0"&&1/e==-Uc?"-0":r}var Yc=Gr,Jc=Yc;function Wc(e){return e==null?"":Jc(e)}var Xc=Wc,Zc=w,Vc=Te,Qc=qc,ef=Xc;function rf(e,r){return Zc(e)?e:Vc(e,r)?[e]:Qc(ef(e))}var Nr=rf,tf=Ce,af=1/0;function nf(e){if(typeof e=="string"||tf(e))return e;var r=e+"";return r=="0"&&1/e==-af?"-0":r}var ne=nf,sf=Nr,of=ne;function lf(e,r){r=sf(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[of(r[t++])];return t&&t==a?e:void 0}var zr=lf,uf=zr;function cf(e,r,t){var a=e==null?void 0:uf(e,r);return a===void 0?t:a}var ff=cf;function vf(e,r){return e!=null&&r in Object(e)}var df=vf,hf=Nr,gf=Sr,$f=w,_f=Cr,pf=ye,bf=ne;function yf(e,r,t){r=hf(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=bf(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&pf(n)&&_f(s,n)&&($f(e)||gf(e)))}var mf=yf,Sf=df,Af=mf;function Cf(e,r){return e!=null&&Af(e,r,Sf)}var Tf=Cf,xf=Lr,wf=ff,Of=Tf,Pf=Te,Ef=Fr,If=Dr,Mf=ne,jf=1,Lf=2;function Ff(e,r){return Pf(e)&&Ef(r)?If(Mf(e),r):function(t){var a=wf(t,e);return a===void 0&&a===r?Of(t,e):xf(r,a,jf|Lf)}}var Df=Ff;function Rf(e){return e}var Gf=Rf;function Nf(e){return function(r){return r?.[e]}}var zf=Nf,Bf=zr;function qf(e){return function(r){return Bf(r,e)}}var Hf=qf,Kf=zf,kf=Hf,Uf=Te,Yf=ne;function Jf(e){return Uf(e)?Kf(Yf(e)):kf(e)}var Wf=Jf,Xf=Sc,Zf=Df,Vf=Gf,Qf=w,ev=Wf;function rv(e){return typeof e=="function"?e:e==null?Vf:typeof e=="object"?Qf(e)?Zf(e[0],e[1]):Xf(e):ev(e)}var tv=rv,av=Zi,nv=$s,iv=tv,sv=w;function ov(e,r){return function(t,a){var n=sv(t)?av:nv,i=r?r():{};return n(t,e,iv(a),i)}}var lv=ov,uv=Wi,cv=lv,fv=Object.prototype,vv=fv.hasOwnProperty,dv=cv(function(e,r,t){vv.call(e,t)?e[t].push(r):uv(e,t,[r])}),hv=dv;const gv=$r(hv);function $v(e,{orderExecutions:r=!1}={}){return U(e,"execution",r?pt:null,a=>U(a,"attack",null,n=>U(n,"defence",null,i=>U(i,"direction",null,s=>s))))}function U(e,r,t,a){const n=_v(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function _v(e,r){return gv(e,r)}function pv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=vt(e.filter(l=>t.has(l.id)));return o=o.filter(Lt(a)),n&&(o=pi(o,{includePercent:i})),$v(o,{orderExecutions:s})}var bv=S("<div><!$><!/><!$><!/><!$><!/><div>"),yv=S('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><span>');const Dv=e=>{const[r,t]=oe(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:u=>JSON.stringify(Array.from(u)),deserialize:u=>new Set(JSON.parse(u))}),[a,n]=oe(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=oe(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,l]=j(!1);function c(){l(u=>!u)}const f=tt(()=>(o(),pv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),g=async()=>{const{save:u}=ot(e.dojo.info.id);await u(f()),document.location.href=Le(`/${e.dojo.info.id}/reader`)};return(()=>{var u=m(bv),_=u.firstChild,[$,p]=T(_.nextSibling),b=$.nextSibling,[A,C]=T(b.nextSibling),P=A.nextSibling,[x,E]=T(P.nextSibling),ie=x.nextSibling;return h(u,v(le,{get headerLabel(){return y("examChooser.exams.header")},get children(){return v(Ot,{get options(){return mv(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),$,p),h(u,v(le,{get headerLabel(){return y("examChooser.filters.header")},get children(){return v(Et,{get value(){return a()},onChange:n})}}),A,C),h(u,v(le,{get headerLabel(){return y("examChooser.order.header")},get children(){return v(Mt,{get value(){return i()},onChange:s,onForceRefresh:c})}}),x,E),h(ie,(()=>{var se=J(()=>r().size>0);return()=>se()&&(()=>{var N=m(yv),H=N.firstChild,Br=H.firstChild,[we,qr]=T(Br.nextSibling),Hr=we.nextSibling,[Kr,kr]=T(Hr.nextSibling),Ur=H.nextSibling,[Oe,Yr]=T(Ur.nextSibling),Jr=Oe.nextSibling,Pe=Jr.firstChild,Wr=Pe.nextSibling;return h(H,v(ve,{size:"small",color:"primary",icon:_t,get label(){return y("examChooser.read")},onClick:g}),we,qr),h(H,v(ve,{size:"small",color:"secondary",icon:lt,get label(){return y("examChooser.print")},onClick:()=>window.print()}),Kr,kr),h(N,v(xt,{get techniques(){return f()}}),Oe,Yr),h(Pe,()=>y("donations.question")),h(Wr,v(ut,{size:"small",get label(){return y("donations.action")},get href(){return Le("/donations")}})),N})()})()),u})()};function mv(e){return e.map(r=>({id:r.id,label:Av(r.label)}))}const Sv={kyu5:"chooser.button.kyu5",kyu4:"chooser.button.kyu4",kyu3:"chooser.button.kyu3",kyu2:"chooser.button.kyu2",kyu1:"chooser.button.kyu1",dan1:"chooser.button.dan1",dan2:"chooser.button.dan2",dan3:"chooser.button.dan3",dan4:"chooser.button.dan4"};function Av(e){switch(e.type){case"wellknown":return y(Sv[e.key]);case"free":return nt(e.text)}}export{Dv as TechniqueChooser};
