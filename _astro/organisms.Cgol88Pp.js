import{g as b,j as Ae,r as Y,t as y,b as x,i as d,c as h,h as gr,d as $e,s as J,F as Zr,o as hr,k as $r,l as Qr,a as j,n as et,e as rt,p as De,q as tt}from"./web.BNk9p1T7.js";import{t as S,S as at,c as Re,a as nt}from"./techniqueStore.BIMTmklH.js";import{F as le,I as it,L as st}from"./ForEntries.CUG-2f2P.js";import{C as Ce,n as ot,S as _e}from"./index.browser.ByjWbkVB.js";import{c as K,g as _r}from"./_commonjsHelpers.BosuxZz1.js";var lt=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const ct=(e={})=>(()=>{var r=b(lt);return Ae(r,e,!0,!0),Y(),r})();var ut=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const ft=(e={})=>(()=>{var r=b(ut);return Ae(r,e,!0,!0),Y(),r})();var vt=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zM12 5.5v9l6-4.5z">');const dt=(e={})=>(()=>{var r=b(vt);return Ae(r,e,!0,!0),Y(),r})(),gt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];function ht(e){const r={};for(const t of e)$t(r,t);return r}function $t(e,r){const t=ce(e,r.execution,ue),a=ce(t,r.attack,ue),n=ce(a,r.defence,ue);n[r.direction]=r.metadata}function ce(e,r,t){const a=e[r];if(a!=null)return a;const n=t();return e[r]=n,n}function ue(){return{}}function _t(e,r){const t=new Array(e.length*2-1);for(let a=0;a<e.length;a++)t[a*2]=e[a],a>0&&(t[a*2-1]=r);return t}var pt=y('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),bt=y('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),yt=y('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),mt=y("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),St=y("<span><!$><!/><!$><!/>"),At=y('<span class="text-sm text-secondary">( <!$><!/> )'),Ct=y("<a>");const xt=e=>(()=>{var r=b(pt),t=r.firstChild,[a,n]=x(t.nextSibling),i=a.nextSibling;return d(r,h(le,{get object(){return ht(e.techniques)},children:(s,o)=>(()=>{var l=b(bt),c=l.firstChild,f=c.nextSibling;return d(c,s),d(f,h(le,{object:o,children:(g,u)=>(()=>{var _=b(yt),$=_.firstChild,p=$.nextSibling;return d($,g),d(p,h(le,{object:u,children:(A,C)=>(()=>{var m=b(mt),E=m.firstChild,w=E.nextSibling,P=w.nextSibling,[ie,se]=x(P.nextSibling);return d(E,A),d(m,h(Tt,{directions:C}),ie,se),m})()})),_})()})),l})()}),a,n),d(i,()=>S("examChooser.created-by",{url:window.location.origin})),r})(),Tt=e=>{const r=Object.keys(e.directions);if(r.length===1&&r[0]===at)return null;const t=r.map(a=>(()=>{var n=b(St),i=n.firstChild,[s,o]=x(i.nextSibling),l=s.nextSibling,[c,f]=x(l.nextSibling);return d(n,a,s,o),d(n,(()=>{var g=gr(()=>!!Ot("youtube"));return()=>g()&&h(wt,{get metadata(){return e.directions[a]}})})(),c,f),n})());return(()=>{var a=b(At),n=a.firstChild,i=n.nextSibling,[s,o]=x(i.nextSibling);return s.nextSibling,d(a,()=>_t(t,", ").flat(),s,o),a})()},wt=e=>{const r=e.metadata.youtube==null?[]:Array.isArray(e.metadata.youtube)?e.metadata.youtube:[e.metadata.youtube];return h(Zr,{each:r,children:t=>(()=>{var a=b(Ct);return d(a,h(dt,{class:"inline scale-50"})),$e(n=>{var i="https://www.youtube.com/watch?v="+t.videoId+"&t=6",s=t.title;return i!==n.e&&J(a,"href",n.e=i),s!==n.t&&J(a,"title",n.t=s),n},{e:void 0,t:void 0}),a})()})};function Ot(e){return localStorage.getItem("feature__"+e)==="true"}const Pt=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>h(Ce,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function fe([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),hr(()=>{$r(()=>{s.setItem(t,n(e()))})}),[e,r]}var Et=y('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const ve=e=>(()=>{var r=b(Et),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return d(n,()=>e.headerLabel),d(i,()=>e.children),r})(),It=e=>h(Ce,{get label(){return S("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})});var Mt=y("<div><input type=range min=1 max=100><label>");const jt=e=>{function r(o,l){e.onChange({...e.value,[o]:l})}const t=ot(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return $r(()=>s(e.value.includePercent)),hr(()=>{n(!0)}),[h(Ce,{get label(){return S("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),h(_e,{color:"secondary",icon:ct,get label(){return S("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=b(Mt),l=o.firstChild,c=l.nextSibling;return l.addEventListener("change",f=>r("includePercent",Number(f.target.value))),l.$$input=f=>s(Number(f.target.value)),J(l,"id",t),J(c,"for",t),d(c,()=>S("examChooser.order.includePercent",{percent:i()})),$e(f=>{var g={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},u=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,_=!a||!e.value.randomize;return f.e=et(o,g,f.e),u!==f.t&&rt(l,f.t=u),_!==f.a&&De(l,"disabled",f.a=_),f},{e:void 0,t:void 0,a:void 0}),$e(()=>De(l,"value",i())),Y(),o})()]};Qr(["input"]);function Lt(e){const r=[];for(const t of e)for(const[a,n]of q(t.techniques))for(const[i,s]of q(n))for(const[o,l]of q(s))for(const[c,f]of q(l))r.push({execution:a,attack:i,defence:o,direction:c,metadata:f});return r}const q=Object.entries,Ft={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function Dt(e){return r=>!e.kneeFriendly||Ft.kneeFriendly.filter(r)}function Rt(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var Gt=Rt,Nt=Math.floor,zt=Math.random;function Ht(e,r){return e+Nt(zt()*(r-e+1))}var Bt=Ht,Kt=Bt;function qt(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=Kt(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var pr=qt,Ut=Gt,kt=pr;function Jt(e){return kt(Ut(e))}var Vt=Jt;function Wt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var br=Wt,Xt=br;function Yt(e,r){return Xt(r,function(t){return e[t]})}var Zt=Yt;function Qt(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var ea=Qt,ra=typeof K=="object"&&K&&K.Object===Object&&K,yr=ra,ta=yr,aa=typeof self=="object"&&self&&self.Object===Object&&self,na=ta||aa||Function("return this")(),O=na,ia=O,sa=ia.Symbol,Z=sa,Ge=Z,mr=Object.prototype,oa=mr.hasOwnProperty,la=mr.toString,N=Ge?Ge.toStringTag:void 0;function ca(e){var r=oa.call(e,N),t=e[N];try{e[N]=void 0;var a=!0}catch{}var n=la.call(e);return a&&(r?e[N]=t:delete e[N]),n}var ua=ca,fa=Object.prototype,va=fa.toString;function da(e){return va.call(e)}var ga=da,Ne=Z,ha=ua,$a=ga,_a="[object Null]",pa="[object Undefined]",ze=Ne?Ne.toStringTag:void 0;function ba(e){return e==null?e===void 0?pa:_a:ze&&ze in Object(e)?ha(e):$a(e)}var z=ba;function ya(e){return e!=null&&typeof e=="object"}var H=ya,ma=z,Sa=H,Aa="[object Arguments]";function Ca(e){return Sa(e)&&ma(e)==Aa}var xa=Ca,He=xa,Ta=H,Sr=Object.prototype,wa=Sr.hasOwnProperty,Oa=Sr.propertyIsEnumerable,Pa=He(function(){return arguments}())?He:function(e){return Ta(e)&&wa.call(e,"callee")&&!Oa.call(e,"callee")},Ar=Pa,Ea=Array.isArray,T=Ea,V={exports:{}};function Ia(){return!1}var Ma=Ia;V.exports;(function(e,r){var t=O,a=Ma,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||a;e.exports=c})(V,V.exports);var Cr=V.exports,ja=9007199254740991,La=/^(?:0|[1-9]\d*)$/;function Fa(e,r){var t=typeof e;return r=r??ja,!!r&&(t=="number"||t!="symbol"&&La.test(e))&&e>-1&&e%1==0&&e<r}var xr=Fa,Da=9007199254740991;function Ra(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Da}var xe=Ra,Ga=z,Na=xe,za=H,Ha="[object Arguments]",Ba="[object Array]",Ka="[object Boolean]",qa="[object Date]",Ua="[object Error]",ka="[object Function]",Ja="[object Map]",Va="[object Number]",Wa="[object Object]",Xa="[object RegExp]",Ya="[object Set]",Za="[object String]",Qa="[object WeakMap]",en="[object ArrayBuffer]",rn="[object DataView]",tn="[object Float32Array]",an="[object Float64Array]",nn="[object Int8Array]",sn="[object Int16Array]",on="[object Int32Array]",ln="[object Uint8Array]",cn="[object Uint8ClampedArray]",un="[object Uint16Array]",fn="[object Uint32Array]",v={};v[tn]=v[an]=v[nn]=v[sn]=v[on]=v[ln]=v[cn]=v[un]=v[fn]=!0;v[Ha]=v[Ba]=v[en]=v[Ka]=v[rn]=v[qa]=v[Ua]=v[ka]=v[Ja]=v[Va]=v[Wa]=v[Xa]=v[Ya]=v[Za]=v[Qa]=!1;function vn(e){return za(e)&&Na(e.length)&&!!v[Ga(e)]}var dn=vn;function gn(e){return function(r){return e(r)}}var hn=gn,W={exports:{}};W.exports;(function(e,r){var t=yr,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var l=n&&n.require&&n.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(W,W.exports);var $n=W.exports,_n=dn,pn=hn,Be=$n,Ke=Be&&Be.isTypedArray,bn=Ke?pn(Ke):_n,Tr=bn,yn=ea,mn=Ar,Sn=T,An=Cr,Cn=xr,xn=Tr,Tn=Object.prototype,wn=Tn.hasOwnProperty;function On(e,r){var t=Sn(e),a=!t&&mn(e),n=!t&&!a&&An(e),i=!t&&!a&&!n&&xn(e),s=t||a||n||i,o=s?yn(e.length,String):[],l=o.length;for(var c in e)(r||wn.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Cn(c,l)))&&o.push(c);return o}var Pn=On,En=Object.prototype;function In(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||En;return e===t}var Mn=In;function jn(e,r){return function(t){return e(r(t))}}var Ln=jn,Fn=Ln,Dn=Fn(Object.keys,Object),Rn=Dn,Gn=Mn,Nn=Rn,zn=Object.prototype,Hn=zn.hasOwnProperty;function Bn(e){if(!Gn(e))return Nn(e);var r=[];for(var t in Object(e))Hn.call(e,t)&&t!="constructor"&&r.push(t);return r}var Kn=Bn;function qn(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Te=qn,Un=z,kn=Te,Jn="[object AsyncFunction]",Vn="[object Function]",Wn="[object GeneratorFunction]",Xn="[object Proxy]";function Yn(e){if(!kn(e))return!1;var r=Un(e);return r==Vn||r==Wn||r==Jn||r==Xn}var wr=Yn,Zn=wr,Qn=xe;function ei(e){return e!=null&&Qn(e.length)&&!Zn(e)}var Or=ei,ri=Pn,ti=Kn,ai=Or;function ni(e){return ai(e)?ri(e):ti(e)}var Q=ni,ii=Zt,si=Q;function oi(e){return e==null?[]:ii(e,si(e))}var li=oi,ci=pr,ui=li;function fi(e){return ci(ui(e))}var vi=fi,di=Vt,gi=vi,hi=T;function $i(e){var r=hi(e)?di:gi;return r(e)}var _i=$i;const pi=_r(_i);function bi(e){return pi(e)}function yi(e,{includePercent:r=100}={}){const t=bi(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var mi=O,Si=mi["__core-js_shared__"],Ai=Si,de=Ai,qe=function(){var e=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ci(e){return!!qe&&qe in e}var xi=Ci,Ti=Function.prototype,wi=Ti.toString;function Oi(e){if(e!=null){try{return wi.call(e)}catch{}try{return e+""}catch{}}return""}var Pr=Oi,Pi=wr,Ei=xi,Ii=Te,Mi=Pr,ji=/[\\^$.*+?()[\]{}|]/g,Li=/^\[object .+?Constructor\]$/,Fi=Function.prototype,Di=Object.prototype,Ri=Fi.toString,Gi=Di.hasOwnProperty,Ni=RegExp("^"+Ri.call(Gi).replace(ji,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zi(e){if(!Ii(e)||Ei(e))return!1;var r=Pi(e)?Ni:Li;return r.test(Mi(e))}var Hi=zi;function Bi(e,r){return e?.[r]}var Ki=Bi,qi=Hi,Ui=Ki;function ki(e,r){var t=Ui(e,r);return qi(t)?t:void 0}var M=ki,Ji=M,Vi=function(){try{var e=Ji(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Wi=Vi,Ue=Wi;function Xi(e,r,t){r=="__proto__"&&Ue?Ue(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Yi=Xi;function Zi(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Qi=Zi;function es(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var l=s[e?o:++n];if(t(i[l],l,i)===!1)break}return r}}var rs=es,ts=rs,as=ts(),ns=as,is=ns,ss=Q;function os(e,r){return e&&is(e,r,ss)}var ls=os,cs=Or;function us(e,r){return function(t,a){if(t==null)return t;if(!cs(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var fs=us,vs=ls,ds=fs,gs=ds(vs),hs=gs,$s=hs;function _s(e,r,t,a){return $s(e,function(n,i,s){r(a,n,t(n),s)}),a}var ps=_s;function bs(){this.__data__=[],this.size=0}var ys=bs;function ms(e,r){return e===r||e!==e&&r!==r}var Er=ms,Ss=Er;function As(e,r){for(var t=e.length;t--;)if(Ss(e[t][0],r))return t;return-1}var ee=As,Cs=ee,xs=Array.prototype,Ts=xs.splice;function ws(e){var r=this.__data__,t=Cs(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():Ts.call(r,t,1),--this.size,!0}var Os=ws,Ps=ee;function Es(e){var r=this.__data__,t=Ps(r,e);return t<0?void 0:r[t][1]}var Is=Es,Ms=ee;function js(e){return Ms(this.__data__,e)>-1}var Ls=js,Fs=ee;function Ds(e,r){var t=this.__data__,a=Fs(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Rs=Ds,Gs=ys,Ns=Os,zs=Is,Hs=Ls,Bs=Rs;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=Gs;L.prototype.delete=Ns;L.prototype.get=zs;L.prototype.has=Hs;L.prototype.set=Bs;var re=L,Ks=re;function qs(){this.__data__=new Ks,this.size=0}var Us=qs;function ks(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Js=ks;function Vs(e){return this.__data__.get(e)}var Ws=Vs;function Xs(e){return this.__data__.has(e)}var Ys=Xs,Zs=M,Qs=O,eo=Zs(Qs,"Map"),we=eo,ro=M,to=ro(Object,"create"),te=to,ke=te;function ao(){this.__data__=ke?ke(null):{},this.size=0}var no=ao;function io(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var so=io,oo=te,lo="__lodash_hash_undefined__",co=Object.prototype,uo=co.hasOwnProperty;function fo(e){var r=this.__data__;if(oo){var t=r[e];return t===lo?void 0:t}return uo.call(r,e)?r[e]:void 0}var vo=fo,go=te,ho=Object.prototype,$o=ho.hasOwnProperty;function _o(e){var r=this.__data__;return go?r[e]!==void 0:$o.call(r,e)}var po=_o,bo=te,yo="__lodash_hash_undefined__";function mo(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=bo&&r===void 0?yo:r,this}var So=mo,Ao=no,Co=so,xo=vo,To=po,wo=So;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=Ao;F.prototype.delete=Co;F.prototype.get=xo;F.prototype.has=To;F.prototype.set=wo;var Oo=F,Je=Oo,Po=re,Eo=we;function Io(){this.size=0,this.__data__={hash:new Je,map:new(Eo||Po),string:new Je}}var Mo=Io;function jo(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Lo=jo,Fo=Lo;function Do(e,r){var t=e.__data__;return Fo(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ae=Do,Ro=ae;function Go(e){var r=Ro(this,e).delete(e);return this.size-=r?1:0,r}var No=Go,zo=ae;function Ho(e){return zo(this,e).get(e)}var Bo=Ho,Ko=ae;function qo(e){return Ko(this,e).has(e)}var Uo=qo,ko=ae;function Jo(e,r){var t=ko(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Vo=Jo,Wo=Mo,Xo=No,Yo=Bo,Zo=Uo,Qo=Vo;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=Wo;D.prototype.delete=Xo;D.prototype.get=Yo;D.prototype.has=Zo;D.prototype.set=Qo;var Oe=D,el=re,rl=we,tl=Oe,al=200;function nl(e,r){var t=this.__data__;if(t instanceof el){var a=t.__data__;if(!rl||a.length<al-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new tl(a)}return t.set(e,r),this.size=t.size,this}var il=nl,sl=re,ol=Us,ll=Js,cl=Ws,ul=Ys,fl=il;function R(e){var r=this.__data__=new sl(e);this.size=r.size}R.prototype.clear=ol;R.prototype.delete=ll;R.prototype.get=cl;R.prototype.has=ul;R.prototype.set=fl;var Ir=R,vl="__lodash_hash_undefined__";function dl(e){return this.__data__.set(e,vl),this}var gl=dl;function hl(e){return this.__data__.has(e)}var $l=hl,_l=Oe,pl=gl,bl=$l;function X(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new _l;++r<t;)this.add(e[r])}X.prototype.add=X.prototype.push=pl;X.prototype.has=bl;var yl=X;function ml(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var Sl=ml;function Al(e,r){return e.has(r)}var Cl=Al,xl=yl,Tl=Sl,wl=Cl,Ol=1,Pl=2;function El(e,r,t,a,n,i){var s=t&Ol,o=e.length,l=r.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(r);if(c&&f)return c==r&&f==e;var g=-1,u=!0,_=t&Pl?new xl:void 0;for(i.set(e,r),i.set(r,e);++g<o;){var $=e[g],p=r[g];if(a)var A=s?a(p,$,g,r,e,i):a($,p,g,e,r,i);if(A!==void 0){if(A)continue;u=!1;break}if(_){if(!Tl(r,function(C,m){if(!wl(_,m)&&($===C||n($,C,t,a,i)))return _.push(m)})){u=!1;break}}else if(!($===p||n($,p,t,a,i))){u=!1;break}}return i.delete(e),i.delete(r),u}var Mr=El,Il=O,Ml=Il.Uint8Array,jl=Ml;function Ll(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var Fl=Ll;function Dl(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Rl=Dl,Ve=Z,We=jl,Gl=Er,Nl=Mr,zl=Fl,Hl=Rl,Bl=1,Kl=2,ql="[object Boolean]",Ul="[object Date]",kl="[object Error]",Jl="[object Map]",Vl="[object Number]",Wl="[object RegExp]",Xl="[object Set]",Yl="[object String]",Zl="[object Symbol]",Ql="[object ArrayBuffer]",ec="[object DataView]",Xe=Ve?Ve.prototype:void 0,ge=Xe?Xe.valueOf:void 0;function rc(e,r,t,a,n,i,s){switch(t){case ec:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Ql:return!(e.byteLength!=r.byteLength||!i(new We(e),new We(r)));case ql:case Ul:case Vl:return Gl(+e,+r);case kl:return e.name==r.name&&e.message==r.message;case Wl:case Yl:return e==r+"";case Jl:var o=zl;case Xl:var l=a&Bl;if(o||(o=Hl),e.size!=r.size&&!l)return!1;var c=s.get(e);if(c)return c==r;a|=Kl,s.set(e,r);var f=Nl(o(e),o(r),a,n,i,s);return s.delete(e),f;case Zl:if(ge)return ge.call(e)==ge.call(r)}return!1}var tc=rc;function ac(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var nc=ac,ic=nc,sc=T;function oc(e,r,t){var a=r(e);return sc(e)?a:ic(a,t(e))}var lc=oc;function cc(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var uc=cc;function fc(){return[]}var vc=fc,dc=uc,gc=vc,hc=Object.prototype,$c=hc.propertyIsEnumerable,Ye=Object.getOwnPropertySymbols,_c=Ye?function(e){return e==null?[]:(e=Object(e),dc(Ye(e),function(r){return $c.call(e,r)}))}:gc,pc=_c,bc=lc,yc=pc,mc=Q;function Sc(e){return bc(e,mc,yc)}var Ac=Sc,Ze=Ac,Cc=1,xc=Object.prototype,Tc=xc.hasOwnProperty;function wc(e,r,t,a,n,i){var s=t&Cc,o=Ze(e),l=o.length,c=Ze(r),f=c.length;if(l!=f&&!s)return!1;for(var g=l;g--;){var u=o[g];if(!(s?u in r:Tc.call(r,u)))return!1}var _=i.get(e),$=i.get(r);if(_&&$)return _==r&&$==e;var p=!0;i.set(e,r),i.set(r,e);for(var A=s;++g<l;){u=o[g];var C=e[u],m=r[u];if(a)var E=s?a(m,C,u,r,e,i):a(C,m,u,e,r,i);if(!(E===void 0?C===m||n(C,m,t,a,i):E)){p=!1;break}A||(A=u=="constructor")}if(p&&!A){var w=e.constructor,P=r.constructor;w!=P&&"constructor"in e&&"constructor"in r&&!(typeof w=="function"&&w instanceof w&&typeof P=="function"&&P instanceof P)&&(p=!1)}return i.delete(e),i.delete(r),p}var Oc=wc,Pc=M,Ec=O,Ic=Pc(Ec,"DataView"),Mc=Ic,jc=M,Lc=O,Fc=jc(Lc,"Promise"),Dc=Fc,Rc=M,Gc=O,Nc=Rc(Gc,"Set"),zc=Nc,Hc=M,Bc=O,Kc=Hc(Bc,"WeakMap"),qc=Kc,pe=Mc,be=we,ye=Dc,me=zc,Se=qc,jr=z,G=Pr,Qe="[object Map]",Uc="[object Object]",er="[object Promise]",rr="[object Set]",tr="[object WeakMap]",ar="[object DataView]",kc=G(pe),Jc=G(be),Vc=G(ye),Wc=G(me),Xc=G(Se),I=jr;(pe&&I(new pe(new ArrayBuffer(1)))!=ar||be&&I(new be)!=Qe||ye&&I(ye.resolve())!=er||me&&I(new me)!=rr||Se&&I(new Se)!=tr)&&(I=function(e){var r=jr(e),t=r==Uc?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case kc:return ar;case Jc:return Qe;case Vc:return er;case Wc:return rr;case Xc:return tr}return r});var Yc=I,he=Ir,Zc=Mr,Qc=tc,eu=Oc,nr=Yc,ir=T,sr=Cr,ru=Tr,tu=1,or="[object Arguments]",lr="[object Array]",U="[object Object]",au=Object.prototype,cr=au.hasOwnProperty;function nu(e,r,t,a,n,i){var s=ir(e),o=ir(r),l=s?lr:nr(e),c=o?lr:nr(r);l=l==or?U:l,c=c==or?U:c;var f=l==U,g=c==U,u=l==c;if(u&&sr(e)){if(!sr(r))return!1;s=!0,f=!1}if(u&&!f)return i||(i=new he),s||ru(e)?Zc(e,r,t,a,n,i):Qc(e,r,l,t,a,n,i);if(!(t&tu)){var _=f&&cr.call(e,"__wrapped__"),$=g&&cr.call(r,"__wrapped__");if(_||$){var p=_?e.value():e,A=$?r.value():r;return i||(i=new he),n(p,A,t,a,i)}}return u?(i||(i=new he),eu(e,r,t,a,n,i)):!1}var iu=nu,su=iu,ur=H;function Lr(e,r,t,a,n){return e===r?!0:e==null||r==null||!ur(e)&&!ur(r)?e!==e&&r!==r:su(e,r,t,a,Lr,n)}var Fr=Lr,ou=Ir,lu=Fr,cu=1,uu=2;function fu(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var g=new ou;if(a)var u=a(c,f,l,e,r,g);if(!(u===void 0?lu(f,c,cu|uu,a,g):u))return!1}}return!0}var vu=fu,du=Te;function gu(e){return e===e&&!du(e)}var Dr=gu,hu=Dr,$u=Q;function _u(e){for(var r=$u(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,hu(n)]}return r}var pu=_u;function bu(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Rr=bu,yu=vu,mu=pu,Su=Rr;function Au(e){var r=mu(e);return r.length==1&&r[0][2]?Su(r[0][0],r[0][1]):function(t){return t===e||yu(t,e,r)}}var Cu=Au,xu=z,Tu=H,wu="[object Symbol]";function Ou(e){return typeof e=="symbol"||Tu(e)&&xu(e)==wu}var Pe=Ou,Pu=T,Eu=Pe,Iu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mu=/^\w*$/;function ju(e,r){if(Pu(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Eu(e)?!0:Mu.test(e)||!Iu.test(e)||r!=null&&e in Object(r)}var Ee=ju,Gr=Oe,Lu="Expected a function";function Ie(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Lu);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(Ie.Cache||Gr),t}Ie.Cache=Gr;var Fu=Ie,Du=Fu,Ru=500;function Gu(e){var r=Du(e,function(a){return t.size===Ru&&t.clear(),a}),t=r.cache;return r}var Nu=Gu,zu=Nu,Hu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bu=/\\(\\)?/g,Ku=zu(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Hu,function(t,a,n,i){r.push(n?i.replace(Bu,"$1"):a||t)}),r}),qu=Ku,fr=Z,Uu=br,ku=T,Ju=Pe,Vu=1/0,vr=fr?fr.prototype:void 0,dr=vr?vr.toString:void 0;function Nr(e){if(typeof e=="string")return e;if(ku(e))return Uu(e,Nr)+"";if(Ju(e))return dr?dr.call(e):"";var r=e+"";return r=="0"&&1/e==-Vu?"-0":r}var Wu=Nr,Xu=Wu;function Yu(e){return e==null?"":Xu(e)}var Zu=Yu,Qu=T,ef=Ee,rf=qu,tf=Zu;function af(e,r){return Qu(e)?e:ef(e,r)?[e]:rf(tf(e))}var zr=af,nf=Pe,sf=1/0;function of(e){if(typeof e=="string"||nf(e))return e;var r=e+"";return r=="0"&&1/e==-sf?"-0":r}var ne=of,lf=zr,cf=ne;function uf(e,r){r=lf(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[cf(r[t++])];return t&&t==a?e:void 0}var Hr=uf,ff=Hr;function vf(e,r,t){var a=e==null?void 0:ff(e,r);return a===void 0?t:a}var df=vf;function gf(e,r){return e!=null&&r in Object(e)}var hf=gf,$f=zr,_f=Ar,pf=T,bf=xr,yf=xe,mf=ne;function Sf(e,r,t){r=$f(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=mf(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&yf(n)&&bf(s,n)&&(pf(e)||_f(e)))}var Af=Sf,Cf=hf,xf=Af;function Tf(e,r){return e!=null&&xf(e,r,Cf)}var wf=Tf,Of=Fr,Pf=df,Ef=wf,If=Ee,Mf=Dr,jf=Rr,Lf=ne,Ff=1,Df=2;function Rf(e,r){return If(e)&&Mf(r)?jf(Lf(e),r):function(t){var a=Pf(t,e);return a===void 0&&a===r?Ef(t,e):Of(r,a,Ff|Df)}}var Gf=Rf;function Nf(e){return e}var zf=Nf;function Hf(e){return function(r){return r?.[e]}}var Bf=Hf,Kf=Hr;function qf(e){return function(r){return Kf(r,e)}}var Uf=qf,kf=Bf,Jf=Uf,Vf=Ee,Wf=ne;function Xf(e){return Vf(e)?kf(Wf(e)):Jf(e)}var Yf=Xf,Zf=Cu,Qf=Gf,ev=zf,rv=T,tv=Yf;function av(e){return typeof e=="function"?e:e==null?ev:typeof e=="object"?rv(e)?Qf(e[0],e[1]):Zf(e):tv(e)}var nv=av,iv=Qi,sv=ps,ov=nv,lv=T;function cv(e,r){return function(t,a){var n=lv(t)?iv:sv,i=r?r():{};return n(t,e,ov(a),i)}}var uv=cv,fv=Yi,vv=uv,dv=Object.prototype,gv=dv.hasOwnProperty,hv=vv(function(e,r,t){gv.call(e,t)?e[t].push(r):fv(e,t,[r])}),$v=hv;const _v=_r($v);function pv(e,{orderExecutions:r=!1}={}){return k(e,"execution",r?gt:null,a=>k(a,"attack",null,n=>k(n,"defence",null,i=>k(i,"direction",null,s=>s))))}function k(e,r,t,a){const n=bv(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function bv(e,r){return _v(e,r)}function yv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=Lt(e.filter(l=>t.has(l.id)));return o=o.filter(Dt(a)),n&&(o=yi(o,{includePercent:i})),pv(o,{orderExecutions:s})}var mv=y("<div><!$><!/><!$><!/><!$><!/><div>"),Sv=y('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><!$><!/>');const Pv=e=>{const[r,t]=fe(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:u=>JSON.stringify(Array.from(u)),deserialize:u=>new Set(JSON.parse(u))}),[a,n]=fe(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=fe(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,l]=j(!1);function c(){l(u=>!u)}const f=tt(()=>(o(),yv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),g=async()=>{const{save:u}=nt(e.dojo.info.id);await u(f()),document.location.href=Re(`/${e.dojo.info.id}/reader`)};return(()=>{var u=b(mv),_=u.firstChild,[$,p]=x(_.nextSibling),A=$.nextSibling,[C,m]=x(A.nextSibling),E=C.nextSibling,[w,P]=x(E.nextSibling),ie=w.nextSibling;return d(u,h(ve,{get headerLabel(){return S("examChooser.exams.header")},get children(){return h(Pt,{get options(){return Av(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),$,p),d(u,h(ve,{get headerLabel(){return S("examChooser.filters.header")},get children(){return h(It,{get value(){return a()},onChange:n})}}),C,m),d(u,h(ve,{get headerLabel(){return S("examChooser.order.header")},get children(){return h(jt,{get value(){return i()},onChange:s,onForceRefresh:c})}}),w,P),d(ie,(()=>{var se=gr(()=>r().size>0);return()=>se()&&(()=>{var oe=b(Sv),B=oe.firstChild,Br=B.firstChild,[Me,Kr]=x(Br.nextSibling),qr=Me.nextSibling,[Ur,kr]=x(qr.nextSibling),Jr=B.nextSibling,[je,Vr]=x(Jr.nextSibling),Le=je.nextSibling,Fe=Le.firstChild,Wr=Fe.nextSibling,[Xr,Yr]=x(Wr.nextSibling);return d(B,h(_e,{size:"small",color:"primary",icon:ft,get label(){return S("examChooser.read")},onClick:g}),Me,Kr),d(B,h(_e,{size:"small",color:"secondary",icon:it,get label(){return S("examChooser.print")},onClick:()=>window.print()}),Ur,kr),d(oe,h(xt,{get techniques(){return f()}}),je,Vr),d(Fe,()=>S("donations.question")),d(Le,h(st,{size:"small",get label(){return S("donations.action")},get href(){return Re("/donations")}}),Xr,Yr),oe})()})()),u})()};function Av(e){return e.map(r=>({id:r.id,label:S(r.labelKey)}))}export{Pv as TechniqueChooser};
