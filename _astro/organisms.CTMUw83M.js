import{g as m,j as gr,r as ye,t as C,b as x,i as d,c as h,F as Zr,o as hr,k as $r,l as Qr,a as j,s as je,d as Le,n as et,e as rt,p as Fe,q as tt,h as at}from"./web.BNk9p1T7.js";import{t as y,S as nt,c as De,a as it}from"./techniqueStore.BIMTmklH.js";import{F as se,I as st,L as ot}from"./ForEntries.B5P-wIEN.js";import{C as me,S as ge}from"./CheckButton.BW--iLX9.js";import{c as K,g as _r}from"./_commonjsHelpers.BosuxZz1.js";var lt=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const ct=(e={})=>(()=>{var r=m(lt);return gr(r,e,!0,!0),ye(),r})();var ut=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const ft=(e={})=>(()=>{var r=m(ut);return gr(r,e,!0,!0),ye(),r})(),vt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];function dt(e){const r={};for(const t of e)gt(r,t);return r}function gt(e,r){const t=oe(e,r.execution,le),a=oe(t,r.attack,le),n=oe(a,r.defence,le);n[r.direction]=r.metadata}function oe(e,r,t){const a=e[r];if(a!=null)return a;const n=t();return e[r]=n,n}function le(){return{}}var ht=C('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),$t=C('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),_t=C('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),pt=C("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),bt=C('<span class="text-sm text-secondary">( <!$><!/> )'),Re=C("<span>");const yt=e=>(()=>{var r=m(ht),t=r.firstChild,[a,n]=x(t.nextSibling),i=a.nextSibling;return d(r,h(se,{get object(){return dt(e.techniques)},children:(s,o)=>(()=>{var l=m($t),c=l.firstChild,f=c.nextSibling;return d(c,s),d(f,h(se,{object:o,children:(g,u)=>(()=>{var _=m(_t),$=_.firstChild,p=$.nextSibling;return d($,g),d(p,h(se,{object:u,children:(S,A)=>(()=>{var b=m(pt),E=b.firstChild,w=E.nextSibling,P=w.nextSibling,[ae,ne]=x(P.nextSibling);return d(E,S),d(b,h(mt,{directions:A}),ae,ne),b})()})),_})()})),l})()}),a,n),d(i,()=>y("examChooser.created-by",{url:window.location.origin})),r})(),mt=e=>{const r=Object.keys(e.directions);return r.length===1&&r[0]===nt?null:(()=>{var t=m(bt),a=t.firstChild,n=a.nextSibling,[i,s]=x(n.nextSibling);return i.nextSibling,d(t,h(Zr,{each:r,children:(o,l)=>l()>0?[", ",(()=>{var c=m(Re);return d(c,o),c})()]:(()=>{var c=m(Re);return d(c,o),c})()}),i,s),t})()},St=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>h(me,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function ce([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),hr(()=>{$r(()=>{s.setItem(t,n(e()))})}),[e,r]}var At=C('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const ue=e=>(()=>{var r=m(At),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return d(n,()=>e.headerLabel),d(i,()=>e.children),r})(),Ct=e=>h(me,{get label(){return y("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})}),xt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Tt=(e=21)=>{let r="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;)r+=xt[t[e]&63];return r};var wt=C("<div><input type=range min=1 max=100><label>");const Ot=e=>{function r(o,l){e.onChange({...e.value,[o]:l})}const t=Tt(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return $r(()=>s(e.value.includePercent)),hr(()=>{n(!0)}),[h(me,{get label(){return y("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),h(ge,{color:"secondary",icon:ct,get label(){return y("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=m(wt),l=o.firstChild,c=l.nextSibling;return l.addEventListener("change",f=>r("includePercent",Number(f.target.value))),l.$$input=f=>s(Number(f.target.value)),je(l,"id",t),je(c,"for",t),d(c,()=>y("examChooser.order.includePercent",{percent:i()})),Le(f=>{var g={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},u=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,_=!a||!e.value.randomize;return f.e=et(o,g,f.e),u!==f.t&&rt(l,f.t=u),_!==f.a&&Fe(l,"disabled",f.a=_),f},{e:void 0,t:void 0,a:void 0}),Le(()=>Fe(l,"value",i())),ye(),o})()]};Qr(["input"]);function Pt(e){const r=[];for(const t of e)for(const[a,n]of q(t.techniques))for(const[i,s]of q(n))for(const[o,l]of q(s))for(const[c,f]of q(l))r.push({execution:a,attack:i,defence:o,direction:c,metadata:f});return r}const q=Object.entries,Et={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function It(e){return r=>!e.kneeFriendly||Et.kneeFriendly.filter(r)}function Mt(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var jt=Mt,Lt=Math.floor,Ft=Math.random;function Dt(e,r){return e+Lt(Ft()*(r-e+1))}var Rt=Dt,Gt=Rt;function Nt(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=Gt(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var pr=Nt,zt=jt,Bt=pr;function Ht(e){return Bt(zt(e))}var Kt=Ht;function qt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var br=qt,Ut=br;function kt(e,r){return Ut(r,function(t){return e[t]})}var Jt=kt;function Wt(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var Xt=Wt,Vt=typeof K=="object"&&K&&K.Object===Object&&K,yr=Vt,Yt=yr,Zt=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Yt||Zt||Function("return this")(),O=Qt,ea=O,ra=ea.Symbol,V=ra,Ge=V,mr=Object.prototype,ta=mr.hasOwnProperty,aa=mr.toString,N=Ge?Ge.toStringTag:void 0;function na(e){var r=ta.call(e,N),t=e[N];try{e[N]=void 0;var a=!0}catch{}var n=aa.call(e);return a&&(r?e[N]=t:delete e[N]),n}var ia=na,sa=Object.prototype,oa=sa.toString;function la(e){return oa.call(e)}var ca=la,Ne=V,ua=ia,fa=ca,va="[object Null]",da="[object Undefined]",ze=Ne?Ne.toStringTag:void 0;function ga(e){return e==null?e===void 0?da:va:ze&&ze in Object(e)?ua(e):fa(e)}var z=ga;function ha(e){return e!=null&&typeof e=="object"}var B=ha,$a=z,_a=B,pa="[object Arguments]";function ba(e){return _a(e)&&$a(e)==pa}var ya=ba,Be=ya,ma=B,Sr=Object.prototype,Sa=Sr.hasOwnProperty,Aa=Sr.propertyIsEnumerable,Ca=Be(function(){return arguments}())?Be:function(e){return ma(e)&&Sa.call(e,"callee")&&!Aa.call(e,"callee")},Ar=Ca,xa=Array.isArray,T=xa,J={exports:{}};function Ta(){return!1}var wa=Ta;J.exports;(function(e,r){var t=O,a=wa,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||a;e.exports=c})(J,J.exports);var Cr=J.exports,Oa=9007199254740991,Pa=/^(?:0|[1-9]\d*)$/;function Ea(e,r){var t=typeof e;return r=r??Oa,!!r&&(t=="number"||t!="symbol"&&Pa.test(e))&&e>-1&&e%1==0&&e<r}var xr=Ea,Ia=9007199254740991;function Ma(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ia}var Se=Ma,ja=z,La=Se,Fa=B,Da="[object Arguments]",Ra="[object Array]",Ga="[object Boolean]",Na="[object Date]",za="[object Error]",Ba="[object Function]",Ha="[object Map]",Ka="[object Number]",qa="[object Object]",Ua="[object RegExp]",ka="[object Set]",Ja="[object String]",Wa="[object WeakMap]",Xa="[object ArrayBuffer]",Va="[object DataView]",Ya="[object Float32Array]",Za="[object Float64Array]",Qa="[object Int8Array]",en="[object Int16Array]",rn="[object Int32Array]",tn="[object Uint8Array]",an="[object Uint8ClampedArray]",nn="[object Uint16Array]",sn="[object Uint32Array]",v={};v[Ya]=v[Za]=v[Qa]=v[en]=v[rn]=v[tn]=v[an]=v[nn]=v[sn]=!0;v[Da]=v[Ra]=v[Xa]=v[Ga]=v[Va]=v[Na]=v[za]=v[Ba]=v[Ha]=v[Ka]=v[qa]=v[Ua]=v[ka]=v[Ja]=v[Wa]=!1;function on(e){return Fa(e)&&La(e.length)&&!!v[ja(e)]}var ln=on;function cn(e){return function(r){return e(r)}}var un=cn,W={exports:{}};W.exports;(function(e,r){var t=yr,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var l=n&&n.require&&n.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(W,W.exports);var fn=W.exports,vn=ln,dn=un,He=fn,Ke=He&&He.isTypedArray,gn=Ke?dn(Ke):vn,Tr=gn,hn=Xt,$n=Ar,_n=T,pn=Cr,bn=xr,yn=Tr,mn=Object.prototype,Sn=mn.hasOwnProperty;function An(e,r){var t=_n(e),a=!t&&$n(e),n=!t&&!a&&pn(e),i=!t&&!a&&!n&&yn(e),s=t||a||n||i,o=s?hn(e.length,String):[],l=o.length;for(var c in e)(r||Sn.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||bn(c,l)))&&o.push(c);return o}var Cn=An,xn=Object.prototype;function Tn(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||xn;return e===t}var wn=Tn;function On(e,r){return function(t){return e(r(t))}}var Pn=On,En=Pn,In=En(Object.keys,Object),Mn=In,jn=wn,Ln=Mn,Fn=Object.prototype,Dn=Fn.hasOwnProperty;function Rn(e){if(!jn(e))return Ln(e);var r=[];for(var t in Object(e))Dn.call(e,t)&&t!="constructor"&&r.push(t);return r}var Gn=Rn;function Nn(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Ae=Nn,zn=z,Bn=Ae,Hn="[object AsyncFunction]",Kn="[object Function]",qn="[object GeneratorFunction]",Un="[object Proxy]";function kn(e){if(!Bn(e))return!1;var r=zn(e);return r==Kn||r==qn||r==Hn||r==Un}var wr=kn,Jn=wr,Wn=Se;function Xn(e){return e!=null&&Wn(e.length)&&!Jn(e)}var Or=Xn,Vn=Cn,Yn=Gn,Zn=Or;function Qn(e){return Zn(e)?Vn(e):Yn(e)}var Y=Qn,ei=Jt,ri=Y;function ti(e){return e==null?[]:ei(e,ri(e))}var ai=ti,ni=pr,ii=ai;function si(e){return ni(ii(e))}var oi=si,li=Kt,ci=oi,ui=T;function fi(e){var r=ui(e)?li:ci;return r(e)}var vi=fi;const di=_r(vi);function gi(e){return di(e)}function hi(e,{includePercent:r=100}={}){const t=gi(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var $i=O,_i=$i["__core-js_shared__"],pi=_i,fe=pi,qe=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bi(e){return!!qe&&qe in e}var yi=bi,mi=Function.prototype,Si=mi.toString;function Ai(e){if(e!=null){try{return Si.call(e)}catch{}try{return e+""}catch{}}return""}var Pr=Ai,Ci=wr,xi=yi,Ti=Ae,wi=Pr,Oi=/[\\^$.*+?()[\]{}|]/g,Pi=/^\[object .+?Constructor\]$/,Ei=Function.prototype,Ii=Object.prototype,Mi=Ei.toString,ji=Ii.hasOwnProperty,Li=RegExp("^"+Mi.call(ji).replace(Oi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fi(e){if(!Ti(e)||xi(e))return!1;var r=Ci(e)?Li:Pi;return r.test(wi(e))}var Di=Fi;function Ri(e,r){return e?.[r]}var Gi=Ri,Ni=Di,zi=Gi;function Bi(e,r){var t=zi(e,r);return Ni(t)?t:void 0}var M=Bi,Hi=M,Ki=function(){try{var e=Hi(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qi=Ki,Ue=qi;function Ui(e,r,t){r=="__proto__"&&Ue?Ue(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var ki=Ui;function Ji(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Wi=Ji;function Xi(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var l=s[e?o:++n];if(t(i[l],l,i)===!1)break}return r}}var Vi=Xi,Yi=Vi,Zi=Yi(),Qi=Zi,es=Qi,rs=Y;function ts(e,r){return e&&es(e,r,rs)}var as=ts,ns=Or;function is(e,r){return function(t,a){if(t==null)return t;if(!ns(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var ss=is,os=as,ls=ss,cs=ls(os),us=cs,fs=us;function vs(e,r,t,a){return fs(e,function(n,i,s){r(a,n,t(n),s)}),a}var ds=vs;function gs(){this.__data__=[],this.size=0}var hs=gs;function $s(e,r){return e===r||e!==e&&r!==r}var Er=$s,_s=Er;function ps(e,r){for(var t=e.length;t--;)if(_s(e[t][0],r))return t;return-1}var Z=ps,bs=Z,ys=Array.prototype,ms=ys.splice;function Ss(e){var r=this.__data__,t=bs(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():ms.call(r,t,1),--this.size,!0}var As=Ss,Cs=Z;function xs(e){var r=this.__data__,t=Cs(r,e);return t<0?void 0:r[t][1]}var Ts=xs,ws=Z;function Os(e){return ws(this.__data__,e)>-1}var Ps=Os,Es=Z;function Is(e,r){var t=this.__data__,a=Es(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Ms=Is,js=hs,Ls=As,Fs=Ts,Ds=Ps,Rs=Ms;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=js;L.prototype.delete=Ls;L.prototype.get=Fs;L.prototype.has=Ds;L.prototype.set=Rs;var Q=L,Gs=Q;function Ns(){this.__data__=new Gs,this.size=0}var zs=Ns;function Bs(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Hs=Bs;function Ks(e){return this.__data__.get(e)}var qs=Ks;function Us(e){return this.__data__.has(e)}var ks=Us,Js=M,Ws=O,Xs=Js(Ws,"Map"),Ce=Xs,Vs=M,Ys=Vs(Object,"create"),ee=Ys,ke=ee;function Zs(){this.__data__=ke?ke(null):{},this.size=0}var Qs=Zs;function eo(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ro=eo,to=ee,ao="__lodash_hash_undefined__",no=Object.prototype,io=no.hasOwnProperty;function so(e){var r=this.__data__;if(to){var t=r[e];return t===ao?void 0:t}return io.call(r,e)?r[e]:void 0}var oo=so,lo=ee,co=Object.prototype,uo=co.hasOwnProperty;function fo(e){var r=this.__data__;return lo?r[e]!==void 0:uo.call(r,e)}var vo=fo,go=ee,ho="__lodash_hash_undefined__";function $o(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=go&&r===void 0?ho:r,this}var _o=$o,po=Qs,bo=ro,yo=oo,mo=vo,So=_o;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=po;F.prototype.delete=bo;F.prototype.get=yo;F.prototype.has=mo;F.prototype.set=So;var Ao=F,Je=Ao,Co=Q,xo=Ce;function To(){this.size=0,this.__data__={hash:new Je,map:new(xo||Co),string:new Je}}var wo=To;function Oo(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Po=Oo,Eo=Po;function Io(e,r){var t=e.__data__;return Eo(r)?t[typeof r=="string"?"string":"hash"]:t.map}var re=Io,Mo=re;function jo(e){var r=Mo(this,e).delete(e);return this.size-=r?1:0,r}var Lo=jo,Fo=re;function Do(e){return Fo(this,e).get(e)}var Ro=Do,Go=re;function No(e){return Go(this,e).has(e)}var zo=No,Bo=re;function Ho(e,r){var t=Bo(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Ko=Ho,qo=wo,Uo=Lo,ko=Ro,Jo=zo,Wo=Ko;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=qo;D.prototype.delete=Uo;D.prototype.get=ko;D.prototype.has=Jo;D.prototype.set=Wo;var xe=D,Xo=Q,Vo=Ce,Yo=xe,Zo=200;function Qo(e,r){var t=this.__data__;if(t instanceof Xo){var a=t.__data__;if(!Vo||a.length<Zo-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new Yo(a)}return t.set(e,r),this.size=t.size,this}var el=Qo,rl=Q,tl=zs,al=Hs,nl=qs,il=ks,sl=el;function R(e){var r=this.__data__=new rl(e);this.size=r.size}R.prototype.clear=tl;R.prototype.delete=al;R.prototype.get=nl;R.prototype.has=il;R.prototype.set=sl;var Ir=R,ol="__lodash_hash_undefined__";function ll(e){return this.__data__.set(e,ol),this}var cl=ll;function ul(e){return this.__data__.has(e)}var fl=ul,vl=xe,dl=cl,gl=fl;function X(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new vl;++r<t;)this.add(e[r])}X.prototype.add=X.prototype.push=dl;X.prototype.has=gl;var hl=X;function $l(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var _l=$l;function pl(e,r){return e.has(r)}var bl=pl,yl=hl,ml=_l,Sl=bl,Al=1,Cl=2;function xl(e,r,t,a,n,i){var s=t&Al,o=e.length,l=r.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(r);if(c&&f)return c==r&&f==e;var g=-1,u=!0,_=t&Cl?new yl:void 0;for(i.set(e,r),i.set(r,e);++g<o;){var $=e[g],p=r[g];if(a)var S=s?a(p,$,g,r,e,i):a($,p,g,e,r,i);if(S!==void 0){if(S)continue;u=!1;break}if(_){if(!ml(r,function(A,b){if(!Sl(_,b)&&($===A||n($,A,t,a,i)))return _.push(b)})){u=!1;break}}else if(!($===p||n($,p,t,a,i))){u=!1;break}}return i.delete(e),i.delete(r),u}var Mr=xl,Tl=O,wl=Tl.Uint8Array,Ol=wl;function Pl(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var El=Pl;function Il(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Ml=Il,We=V,Xe=Ol,jl=Er,Ll=Mr,Fl=El,Dl=Ml,Rl=1,Gl=2,Nl="[object Boolean]",zl="[object Date]",Bl="[object Error]",Hl="[object Map]",Kl="[object Number]",ql="[object RegExp]",Ul="[object Set]",kl="[object String]",Jl="[object Symbol]",Wl="[object ArrayBuffer]",Xl="[object DataView]",Ve=We?We.prototype:void 0,ve=Ve?Ve.valueOf:void 0;function Vl(e,r,t,a,n,i,s){switch(t){case Xl:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Wl:return!(e.byteLength!=r.byteLength||!i(new Xe(e),new Xe(r)));case Nl:case zl:case Kl:return jl(+e,+r);case Bl:return e.name==r.name&&e.message==r.message;case ql:case kl:return e==r+"";case Hl:var o=Fl;case Ul:var l=a&Rl;if(o||(o=Dl),e.size!=r.size&&!l)return!1;var c=s.get(e);if(c)return c==r;a|=Gl,s.set(e,r);var f=Ll(o(e),o(r),a,n,i,s);return s.delete(e),f;case Jl:if(ve)return ve.call(e)==ve.call(r)}return!1}var Yl=Vl;function Zl(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var Ql=Zl,ec=Ql,rc=T;function tc(e,r,t){var a=r(e);return rc(e)?a:ec(a,t(e))}var ac=tc;function nc(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var ic=nc;function sc(){return[]}var oc=sc,lc=ic,cc=oc,uc=Object.prototype,fc=uc.propertyIsEnumerable,Ye=Object.getOwnPropertySymbols,vc=Ye?function(e){return e==null?[]:(e=Object(e),lc(Ye(e),function(r){return fc.call(e,r)}))}:cc,dc=vc,gc=ac,hc=dc,$c=Y;function _c(e){return gc(e,$c,hc)}var pc=_c,Ze=pc,bc=1,yc=Object.prototype,mc=yc.hasOwnProperty;function Sc(e,r,t,a,n,i){var s=t&bc,o=Ze(e),l=o.length,c=Ze(r),f=c.length;if(l!=f&&!s)return!1;for(var g=l;g--;){var u=o[g];if(!(s?u in r:mc.call(r,u)))return!1}var _=i.get(e),$=i.get(r);if(_&&$)return _==r&&$==e;var p=!0;i.set(e,r),i.set(r,e);for(var S=s;++g<l;){u=o[g];var A=e[u],b=r[u];if(a)var E=s?a(b,A,u,r,e,i):a(A,b,u,e,r,i);if(!(E===void 0?A===b||n(A,b,t,a,i):E)){p=!1;break}S||(S=u=="constructor")}if(p&&!S){var w=e.constructor,P=r.constructor;w!=P&&"constructor"in e&&"constructor"in r&&!(typeof w=="function"&&w instanceof w&&typeof P=="function"&&P instanceof P)&&(p=!1)}return i.delete(e),i.delete(r),p}var Ac=Sc,Cc=M,xc=O,Tc=Cc(xc,"DataView"),wc=Tc,Oc=M,Pc=O,Ec=Oc(Pc,"Promise"),Ic=Ec,Mc=M,jc=O,Lc=Mc(jc,"Set"),Fc=Lc,Dc=M,Rc=O,Gc=Dc(Rc,"WeakMap"),Nc=Gc,he=wc,$e=Ce,_e=Ic,pe=Fc,be=Nc,jr=z,G=Pr,Qe="[object Map]",zc="[object Object]",er="[object Promise]",rr="[object Set]",tr="[object WeakMap]",ar="[object DataView]",Bc=G(he),Hc=G($e),Kc=G(_e),qc=G(pe),Uc=G(be),I=jr;(he&&I(new he(new ArrayBuffer(1)))!=ar||$e&&I(new $e)!=Qe||_e&&I(_e.resolve())!=er||pe&&I(new pe)!=rr||be&&I(new be)!=tr)&&(I=function(e){var r=jr(e),t=r==zc?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case Bc:return ar;case Hc:return Qe;case Kc:return er;case qc:return rr;case Uc:return tr}return r});var kc=I,de=Ir,Jc=Mr,Wc=Yl,Xc=Ac,nr=kc,ir=T,sr=Cr,Vc=Tr,Yc=1,or="[object Arguments]",lr="[object Array]",U="[object Object]",Zc=Object.prototype,cr=Zc.hasOwnProperty;function Qc(e,r,t,a,n,i){var s=ir(e),o=ir(r),l=s?lr:nr(e),c=o?lr:nr(r);l=l==or?U:l,c=c==or?U:c;var f=l==U,g=c==U,u=l==c;if(u&&sr(e)){if(!sr(r))return!1;s=!0,f=!1}if(u&&!f)return i||(i=new de),s||Vc(e)?Jc(e,r,t,a,n,i):Wc(e,r,l,t,a,n,i);if(!(t&Yc)){var _=f&&cr.call(e,"__wrapped__"),$=g&&cr.call(r,"__wrapped__");if(_||$){var p=_?e.value():e,S=$?r.value():r;return i||(i=new de),n(p,S,t,a,i)}}return u?(i||(i=new de),Xc(e,r,t,a,n,i)):!1}var eu=Qc,ru=eu,ur=B;function Lr(e,r,t,a,n){return e===r?!0:e==null||r==null||!ur(e)&&!ur(r)?e!==e&&r!==r:ru(e,r,t,a,Lr,n)}var Fr=Lr,tu=Ir,au=Fr,nu=1,iu=2;function su(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var g=new tu;if(a)var u=a(c,f,l,e,r,g);if(!(u===void 0?au(f,c,nu|iu,a,g):u))return!1}}return!0}var ou=su,lu=Ae;function cu(e){return e===e&&!lu(e)}var Dr=cu,uu=Dr,fu=Y;function vu(e){for(var r=fu(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,uu(n)]}return r}var du=vu;function gu(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Rr=gu,hu=ou,$u=du,_u=Rr;function pu(e){var r=$u(e);return r.length==1&&r[0][2]?_u(r[0][0],r[0][1]):function(t){return t===e||hu(t,e,r)}}var bu=pu,yu=z,mu=B,Su="[object Symbol]";function Au(e){return typeof e=="symbol"||mu(e)&&yu(e)==Su}var Te=Au,Cu=T,xu=Te,Tu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wu=/^\w*$/;function Ou(e,r){if(Cu(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xu(e)?!0:wu.test(e)||!Tu.test(e)||r!=null&&e in Object(r)}var we=Ou,Gr=xe,Pu="Expected a function";function Oe(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Pu);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(Oe.Cache||Gr),t}Oe.Cache=Gr;var Eu=Oe,Iu=Eu,Mu=500;function ju(e){var r=Iu(e,function(a){return t.size===Mu&&t.clear(),a}),t=r.cache;return r}var Lu=ju,Fu=Lu,Du=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ru=/\\(\\)?/g,Gu=Fu(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Du,function(t,a,n,i){r.push(n?i.replace(Ru,"$1"):a||t)}),r}),Nu=Gu,fr=V,zu=br,Bu=T,Hu=Te,Ku=1/0,vr=fr?fr.prototype:void 0,dr=vr?vr.toString:void 0;function Nr(e){if(typeof e=="string")return e;if(Bu(e))return zu(e,Nr)+"";if(Hu(e))return dr?dr.call(e):"";var r=e+"";return r=="0"&&1/e==-Ku?"-0":r}var qu=Nr,Uu=qu;function ku(e){return e==null?"":Uu(e)}var Ju=ku,Wu=T,Xu=we,Vu=Nu,Yu=Ju;function Zu(e,r){return Wu(e)?e:Xu(e,r)?[e]:Vu(Yu(e))}var zr=Zu,Qu=Te,ef=1/0;function rf(e){if(typeof e=="string"||Qu(e))return e;var r=e+"";return r=="0"&&1/e==-ef?"-0":r}var te=rf,tf=zr,af=te;function nf(e,r){r=tf(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[af(r[t++])];return t&&t==a?e:void 0}var Br=nf,sf=Br;function of(e,r,t){var a=e==null?void 0:sf(e,r);return a===void 0?t:a}var lf=of;function cf(e,r){return e!=null&&r in Object(e)}var uf=cf,ff=zr,vf=Ar,df=T,gf=xr,hf=Se,$f=te;function _f(e,r,t){r=ff(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=$f(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&hf(n)&&gf(s,n)&&(df(e)||vf(e)))}var pf=_f,bf=uf,yf=pf;function mf(e,r){return e!=null&&yf(e,r,bf)}var Sf=mf,Af=Fr,Cf=lf,xf=Sf,Tf=we,wf=Dr,Of=Rr,Pf=te,Ef=1,If=2;function Mf(e,r){return Tf(e)&&wf(r)?Of(Pf(e),r):function(t){var a=Cf(t,e);return a===void 0&&a===r?xf(t,e):Af(r,a,Ef|If)}}var jf=Mf;function Lf(e){return e}var Ff=Lf;function Df(e){return function(r){return r?.[e]}}var Rf=Df,Gf=Br;function Nf(e){return function(r){return Gf(r,e)}}var zf=Nf,Bf=Rf,Hf=zf,Kf=we,qf=te;function Uf(e){return Kf(e)?Bf(qf(e)):Hf(e)}var kf=Uf,Jf=bu,Wf=jf,Xf=Ff,Vf=T,Yf=kf;function Zf(e){return typeof e=="function"?e:e==null?Xf:typeof e=="object"?Vf(e)?Wf(e[0],e[1]):Jf(e):Yf(e)}var Qf=Zf,ev=Wi,rv=ds,tv=Qf,av=T;function nv(e,r){return function(t,a){var n=av(t)?ev:rv,i=r?r():{};return n(t,e,tv(a),i)}}var iv=nv,sv=ki,ov=iv,lv=Object.prototype,cv=lv.hasOwnProperty,uv=ov(function(e,r,t){cv.call(e,t)?e[t].push(r):sv(e,t,[r])}),fv=uv;const vv=_r(fv);function dv(e,{orderExecutions:r=!1}={}){return k(e,"execution",r?vt:null,a=>k(a,"attack",null,n=>k(n,"defence",null,i=>k(i,"direction",null,s=>s))))}function k(e,r,t,a){const n=gv(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function gv(e,r){return vv(e,r)}function hv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=Pt(e.filter(l=>t.has(l.id)));return o=o.filter(It(a)),n&&(o=hi(o,{includePercent:i})),dv(o,{orderExecutions:s})}var $v=C("<div><!$><!/><!$><!/><!$><!/><div>"),_v=C('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><!$><!/>');const Cv=e=>{const[r,t]=ce(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:u=>JSON.stringify(Array.from(u)),deserialize:u=>new Set(JSON.parse(u))}),[a,n]=ce(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=ce(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,l]=j(!1);function c(){l(u=>!u)}const f=tt(()=>(o(),hv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),g=async()=>{const{save:u}=it(e.dojo.info.id);await u(f()),document.location.href=De(`/${e.dojo.info.id}/reader`)};return(()=>{var u=m($v),_=u.firstChild,[$,p]=x(_.nextSibling),S=$.nextSibling,[A,b]=x(S.nextSibling),E=A.nextSibling,[w,P]=x(E.nextSibling),ae=w.nextSibling;return d(u,h(ue,{get headerLabel(){return y("examChooser.exams.header")},get children(){return h(St,{get options(){return pv(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),$,p),d(u,h(ue,{get headerLabel(){return y("examChooser.filters.header")},get children(){return h(Ct,{get value(){return a()},onChange:n})}}),A,b),d(u,h(ue,{get headerLabel(){return y("examChooser.order.header")},get children(){return h(Ot,{get value(){return i()},onChange:s,onForceRefresh:c})}}),w,P),d(ae,(()=>{var ne=at(()=>r().size>0);return()=>ne()&&(()=>{var ie=m(_v),H=ie.firstChild,Hr=H.firstChild,[Pe,Kr]=x(Hr.nextSibling),qr=Pe.nextSibling,[Ur,kr]=x(qr.nextSibling),Jr=H.nextSibling,[Ee,Wr]=x(Jr.nextSibling),Ie=Ee.nextSibling,Me=Ie.firstChild,Xr=Me.nextSibling,[Vr,Yr]=x(Xr.nextSibling);return d(H,h(ge,{size:"small",color:"primary",icon:ft,get label(){return y("examChooser.read")},onClick:g}),Pe,Kr),d(H,h(ge,{size:"small",color:"secondary",icon:st,get label(){return y("examChooser.print")},onClick:()=>window.print()}),Ur,kr),d(ie,h(yt,{get techniques(){return f()}}),Ee,Wr),d(Me,()=>y("donations.question")),d(Ie,h(ot,{size:"small",get label(){return y("donations.action")},get href(){return De("/donations")}}),Vr,Yr),ie})()})()),u})()};function pv(e){return e.map(r=>({id:r.id,label:y(r.labelKey)}))}export{Cv as TechniqueChooser};
