function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/main.Be6Gapd8.js","_astro/_commonjsHelpers.BosuxZz1.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{g as B,b as zt,i as R,d as ct,F as fr,t as it}from"./web._rAx8qX5.js";import{F as Mt}from"./ForEntries.Dbpf_zwV.js";const hr="modulepreload",dr=function(t){return"/"+t},pe={},Le=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=Promise.all(r.map(l=>{if(l=dr(l),l in pe)return;pe[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const p=i[h];if(p.href===l&&(!c||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":hr,c||(g.as="script",g.crossOrigin=""),g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),c)return new Promise((h,p)=>{g.addEventListener("load",h),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};var pr={},mr=Object.defineProperty,gr=(t,e,r)=>e in t?mr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_e=(t,e,r)=>(gr(t,typeof e!="symbol"?e+"":e,r),r),fe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},u=(t,e,r)=>(fe(t,e,"read from private field"),r?r.call(t):e.get(t)),y=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},b=(t,e,r,n)=>(fe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),S=(t,e,r)=>(fe(t,e,"access private method"),r),V="astro-i18n",wr=`${V}.config`,me="github.com/alexandre-fernandez/astro-i18n/issues",yr=class extends Error{constructor(t){super(t?`${V}: Unreachable code executed (at "${t}"), please open an issue at "${me}".`:`${V}: Unreachable code executed, please open an issue at "${me}".`)}},br=yr;function v(){throw new br}function vr(t=new Error("Something went wrong.")){throw t}var Jt,Ee,ft=class{constructor(t){y(this,Jt),_e(this,"regexp"),this.regexp=new RegExp(t.source,t.flags)}static fromString(t,e){return new ft(new RegExp(t,e))}get source(){return this.regexp.source}get flags(){return this.regexp.flags}add(t){return this.regexp=new RegExp(`${this.regexp.source}${t.source}`,this.regexp.flags),this}test(t){return this.regexp.test(t)}exec(t,e){let r=S(this,Jt,Ee).call(this,t),n=r.next();for(;!n.done&&e(n.value)!==ft.BREAK;)n=r.next();return this}match(t){let e=null;return this.exec(t,r=>(e=r,ft.BREAK)),e}clone(){return new ft(new RegExp(this.regexp.source,this.regexp.flags))}toMatcher(){return this.match.bind(this)}},Re=ft;Jt=new WeakSet,Ee=function*(t){let e=this.regexp;e.flags.includes("g")||(e=new RegExp(this.regexp.source,`${this.regexp.flags}g`));let r=e.exec(t);for(;r!==null;)r&&(yield{range:[r.index,r.index+r[0].length],match:[...r]}),r=e.exec(t)},_e(Re,"BREAK","break");var m=Re,Pe=class{#e;#t;constructor({source:t,flags:e}){this.#e=t,this.#t=e}static fromRegex(t){return new Pe(t.regexp)}appendPattern(t){return this.#e=`${this.#e}${t}`,this}matchTrimifiable(){return this.#e=`\\s*${this.#e}\\s*`,this}assertStarting(){return this.#e=`^${this.#e}`,this}assertEnding(){return this.#e=`${this.#e}$`,this}addGroup(){return this.#e=`(${this.#e})`,this}addGlobalFlag(){return this.#t.includes("g")||(this.#t=`${this.#t}g`),this}build(){return new m(new RegExp(this.#e,this.#t))}},U=Pe;function $t(t,e,r){if(!e(t)){let n="";throw t?typeof t=="object"?n=`
${t.constructor.name}
${JSON.stringify(t,null,4)}`:typeof t=="symbol"?n=`Symbol("${t.description}")`:n=typeof t=="string"?`"${t}"`:`${t}`:n=`${t}`,!r&&e.name.startsWith("is")&&(r=e.name.slice(2)),new TypeError(r?`Unexpected type (expecting \`${r}\`), found: ${n}`:`Unexpected type, found: ${n}`)}}function $r(t){return typeof t=="number"&&!Number.isNaN(t)}function Sr(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function St(t){return Array.isArray(t)}function bt(t){return St(t)&&t.every(e=>typeof e=="string")}function $(t){return!!t&&typeof t=="object"}function ge(t){return $(t)?Object.getPrototypeOf(t)===Object.prototype:!1}var ut,tt,ht,Gt=class{static get path(){return S(this,tt,ht).call(this,"path")}static get posix(){return this.path.then(({posix:t})=>t)}static get fs(){return S(this,tt,ht).call(this,"fs")}static get url(){return S(this,tt,ht).call(this,"url")}static get module(){return S(this,tt,ht).call(this,"module")}};ut=new WeakMap,tt=new WeakSet,ht=async function(t){if(u(this,ut)[t])return u(this,ut)[t];let e=await Le(()=>import(`node:${t}`),[]);return u(this,ut)[t]=e,e},y(Gt,tt),y(Gt,ut,{});var k=Gt;async function Lt(t){let{sep:e,posix:r}=await k.path;return t.split(e).join(r.sep)}async function gt(t){let e=await jr(t),r=t.split(e);return r.pop(),r.join(e)}function xr(t){switch(t){case"":return!0;case"/":return!0;case"\\":return!0;default:return!/[/\\]/.test(t)}}async function jr(t){let{sep:e}=await k.path,r=t.split("/").length-1,n=t.split("\\").length-1;return r>n?"/":n>r?"\\":e}function I(t,e,r){let{mode:n,mutable:s}={mode:"replace",mutable:!0,...r},i=s?t:structuredClone(t);for(let[a,o]of Object.entries(e)){let l=i[a];if(Object.hasOwn(i,a)){Bt(l)&&Bt(o)?I(l,o):n==="replace"&&(i[a]=e[a]);continue}i[a]=e[a]}return s?void 0:i}function wt(t,e,r){let n=typeof e=="string"?[e]:e,s=t;for(let[i,a]of n.entries()){if(i===n.length-1){s[a]=r;break}Bt(s[a])||(s[a]={}),s=s[a]}}function Bt(t){return typeof t!="object"?!1:Object.getPrototypeOf(t)===Object.prototype}var kr=class extends Error{constructor(t){super(t?`Peer dependency \`${t}\` was not found, if it's not already done try installing it.`:"A dependency was not found.")}},Or=kr,Lr=class extends Error{constructor(t){super(t?`No file was found for the given path (${t}).`:"No file was found for the given path.")}},Ce=Lr,_r=class extends Error{constructor(t=[]){super(t.length>0?`Invalid file type, supported formats are: "${t.join('", "')}"`:"Invalid file type, format not supported.")}},We=_r,Er=class extends Error{constructor(t){super(t?`Invalid format, could not parse JSON (${t}).`:"Invalid format, could not parse JSON.")}},Rr=Er;async function M(t){if(!t)return!1;let{existsSync:e,lstatSync:r}=await k.fs;return e(t)&&r(t).isDirectory()}async function Wt(t){if(!t)return!1;let{existsSync:e,lstatSync:r}=await k.fs;return e(t)&&!r(t).isDirectory()}async function Pr(t){let{accessSync:e,constants:r}=await k.fs;try{return e(t,r.R_OK),!0}catch{return!1}}async function Ne(t,e){let{readdirSync:r}=await k.fs,n=r(t);await e(await Lt(t),n);for(let s of n){let i=`${t}/${s}`;await M(i)&&await Ne(i,e)}}async function Cr(t){let e=null;e=await Le(()=>import("./main.Be6Gapd8.js").then(n=>n.m),__vite__mapDeps([0,1]));let r=/\.(js|cjs|mjs|ts)$/;if(!Wt(t))throw new Ce(t);if(!r.test(t))throw new We(["js","cjs","mjs","ts"]);try{let{outputFiles:n}=await e.build({entryPoints:[t],bundle:!0,external:["esbuild"],format:"cjs",platform:"node",write:!1}),s=new TextDecoder().decode(n[0]?.contents);return s?Wr(s,t.replace(r,".cjs")):{}}catch{throw new Or("esbuild")}}async function xt(t){if(!Wt(t))throw new Ce(t);if(!/\.json$/.test(t))throw new We(["json"]);let{readFileSync:e}=await k.fs,r=e(t,{encoding:"utf8"});try{return JSON.parse(r)}catch{throw new Rr(t)}}async function Wr(t,e){let{Module:r}=await k.module,n=e.split("/").slice(0,-1).join("/"),s={module:new r(e),require(i){return this.module.require(i)}};return s.module.paths=r._nodeModulePaths(n),s.module.filename=e,s.module.exports={},s.require=i=>s.module.require(i),Object.assign(s.require,{resolve:i=>r._resolveFilename(i,s.module)}),new Function("exports","require","module","__filename","__dirname",t)(s.module.exports,s.require,s.module,e,n),s.module.exports}var K="break",Nr=["json","js","cjs","mjs","ts"],Kt="i18n",yt="pages",Tr=class extends Error{constructor(){super(`Could not find astro "${yt}" directory.`)}},Ir=Tr,Dr=new m(/(\/[^\s/]+)?(\/[^\s/]+)\.astro$/),At=new m(/^---\n([\S\s]+)\n---\n/),Mr=new m(/export\s*(?:const\s+prerender|var\s+prerender|let\s+prerender|prerender)(?:\s*=\s*)?(true|false)?|export\s*?{\s*?prerender\s*?}/),Ar=new m(/export\s+(?:async\s+)?(?:function\s+|const\s+|var\s+|let\s+)getStaticPaths|export\s*{\s*getStaticPaths\s*}/),Fr=class{#e;#t;#r;#o;#l;#a=void 0;#n=void 0;#s=null;#i=null;constructor({name:t,route:e,path:r,translations:n,routes:s}){this.#e=t,this.#t=e,this.#r=r,this.#o=n,this.#l=s}get name(){return this.#e}get route(){return this.#t}get path(){return this.#r}get translations(){return this.#o}get routes(){return this.#l}async getContent(){if(this.#s)return this.#s;let{readFileSync:t}=await k.fs;return this.#s=t(this.#r,{encoding:"utf8"}),this.#i=At.match(this.#s)?.match[0]||null,this.#s}async getFrontmatter(){return this.#i?this.#i:(this.getContent(),this.#i)}async hasGetStaticPaths(){if(typeof this.#a<"u")return this.#a;let{readFileSync:t}=await k.fs,e=t(this.#r,{encoding:"utf8"}),r=At.match(e)?.match[0];return this.#a=r?Ar.test(r):!1,this.#a}async prerender(){if(typeof this.#n<"u")return this.#n;let{readFileSync:t}=await k.fs,e=t(this.#r,{encoding:"utf8"}),r=At.match(e)?.match[0];if(!r)return this.#n=!1,this.#n;let{match:n}=Mr.match(r)||{};return n?n[1]?this.#n=n[1]==="true":this.#n=!0:this.#n=null,this.#n}async getProxy(t,e){let r=this.path.lastIndexOf("src/pages");if(r=r<0?null:r+9,!r)return null;let n="";t=t.replace(/\/$/,"")||"/";let s=this.#r.slice(r),i=t.split("/").length-1,a=`${"../".repeat(i)}${s.slice(1)}`;if(n+=`---
import Page from "${a}"
`,await this.hasGetStaticPaths()){let{locale:l,route:c}=e.internals.splitLocaleAndRoute(t);n+=`import { getStaticPaths as proxyGetStaticPaths } from "${a}"
/* @ts-ignore */
export const getStaticPaths = (props) => proxyGetStaticPaths({ ...props, astroI18n: `,n+=`{ locale: "${l}", route: "${c}", primaryLocale: "${e.primaryLocale}", secondaryLocales: ["${e.secondaryLocales.join('", "')}"] } })
`}let o=await this.prerender();return typeof o=="boolean"&&(n+=o?`export const prerender = true
`:`export const prerender = false
`),n+=`const { props } = Astro
---
<Page {...props} />`,n}},we=Fr,qr=class extends Error{constructor(t){super(t?`Invalid pattern (${t.source}) given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).`:"Invalid pattern given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).")}},Vr=qr;function nt(t,e=!0){if(e){if(!$(t))return!1;for(let r of Object.values(t))if(!nt(r,!1))return!1;return!0}if(typeof t=="string")return!0;if(!$(t))return!1;for(let r of Object.values(t))if(!nt(r,!1))return!1;return!0}async function Ur(t,e={}){let{join:r}=await k.path,n=`${t}/${e.srcDir}/${yt}`;if(!await M(n))throw new Ir;let s={},i=(e.secondaryLocales||[]).map(h=>`/${e.srcDir}/${yt}/${h}`),a={i18n:Kt,pages:Kt,...e.translationDirectory},o=[e.primaryLocale||"en",...e.secondaryLocales||[]],l=m.fromString(`(\\/[^\\/\\s]+)?(?:\\/_?${a.pages})?\\/_?(${o.join("|")})(\\.[^\\.\\s]+)?\\.json$`),c=m.fromString(`_?${a.pages}`),d=e.showPrimaryLocale?r(n,e.primaryLocale||"en"):n;await Ne(d,async(h,p)=>{if(!i.some(w=>h.includes(w)))for(let w of p){let x=`${h}/${w}`;if(await M(x))continue;let O=x.replace(n,"");if(O.endsWith(".astro")){let{match:T,range:Dt}=Dr.match(O)||{};if(!T||!T[2]||!Dt)continue;let D="index",H="/";if(T[1]?T[2]==="/index"?(D=T[1].replace("/",""),H=`${O.slice(0,Dt[0])}/${D}`):(D=T[2].replace("/",""),H=`${O.slice(0,Dt[0]+T[1].length)}/${D}`):T[2]!=="/index"&&(D=T[2].replace("/",""),H=`/${D}`),D.startsWith("_"))continue;s[H]={...s[H],name:D,route:H,path:x};continue}if(!O.endsWith(".json"))continue;let{match:E,range:lt}=l.match(O)||{};if(!E||!lt)continue;let _=`${O.slice(0,lt[0])}${E[1]||"/"}`;c.test(_)&&(_="/");let Z=E[2]||v(),jt=_.split("/").slice(-1).join("")||"index",kt=E[3]?E[3].replace(".",""):null,It=await xt(x);$t(It,nt,`${Z}.PageTranslations`),I(It,s[_]?.translations?.[Z]||{});let ur={...s[_]?.translations,[Z]:It},cr=kt?{...s[_]?.routes,[Z]:{[jt]:kt}}:{...s[_]?.routes};s[_]={...s[_],name:jt,route:_,translations:ur,routes:cr}}});let f=[];for(let h of Object.values(s))!h.path||!h.name||!h.route||f.push({translations:{},routes:{},...h});let g=`${t}/${e.srcDir}/${a.i18n}/${yt}`;if(!await M(g))return f.map(h=>new we(h));for(let h of f){let p=`${g}${h.route}`.replace(/\/$/,"");if(!await M(p))continue;let w=await ye(p,h.name,l);for(let{translations:x,routes:O}of w)I(h.translations,x),I(h.routes,O);if(p=`${p}/${a.pages}`,!!await M(p)){w=await ye(p,h.name,l);for(let{translations:x,routes:O}of w)I(h.translations,x),I(h.routes,O)}}return f.map(h=>new we(h))}async function ye(t,e,r){let{readdirSync:n}=await k.fs,s=[];for(let i of n(t,{encoding:"utf8"})){let{match:a}=r.match(`/${i}`)||{};if(!a)continue;let o=a[2]||vr(new Vr),l=a[3]?a[3].replace(".",""):null,c=await xt(`${t}/${i}`);$t(c,nt,`${o}.PageTranslations`),s.push({translations:{[o]:c},routes:l?{[o]:{[e]:l}}:{}})}return s}var zr=class extends Error{constructor(t){super(t?`Unable to find project root. ${t}`:"Unable to find project root.")}},Jr=zr,Gr=m.fromString(`${V}\\.config\\.(${Nr.join("|")})`),Br=m.fromString("astro\\.config\\.(js|cjs|mjs|ts)"),Kr=new m(/[/\\]?node_modules/),Yr=new m(/.+?node_modules/),Zr=new m(/(?:package|deno)\.json/),Hr=new m(/package\.json/),Qr=new m(/deno\.jsonc?/),Xr=new m(/deps\.ts/),Ft=".",G="common",tn=U.fromRegex(Gr).assertEnding().build(),Te=U.fromRegex(Br).assertEnding().build();function en(t){let e={routes:[],extra:[],common:void 0};for(let r of Object.keys(t)){if(r.startsWith("/")){e.routes.push(r);continue}if(r===G){e.common=G;continue}e.extra.push(r)}return e}async function rn(t,e={}){let r=`${t}/${e.srcDir}/${e.translationDirectory?.i18n||Kt}`,n={};if(!await M(r))return n;let{readdirSync:s}=await k.fs,i=[e.primaryLocale||"en",...e.secondaryLocales||[]],a=m.fromString(`(${i.join("|")})\\.json`);for(let o of s(r)){if(o===yt)continue;let l=`${r}/${o}`;if(await M(l))for(let c of s(l)){let{match:d}=a.match(c)||{};if(!d?.[1])continue;let f=d[1],g=await xt(`${l}/${c}`);$t(g,nt,`${f}.GroupTranslations`),wt(n,[o,f],g)}}return n}async function qt(t){return et(Ie(t),tn.regexp)}async function nn(t){let e=await et(Ie(t),Te.regexp);if(!e)return null;let{readdirSync:r}=await k.fs,n=await gt(e),s=r(n),i=s.find(a=>Hr.test(a));if(i){let a=await xt(`${n}/${i}`);if(ge(a)&&ge(a.dependencies)&&a.dependencies[V])return n}return s.find(a=>Qr.test(a))||s.find(a=>Xr.test(a))?n:null}async function sn(t){let{readdirSync:e}=await k.fs;return typeof e(t).find(r=>Te.test(r))=="string"}function Ie(t){let{match:e}=Yr.match(t)||{};return e?e[0]?.replace(Kr.regexp,"")||"/":t}async function et(t,e,r=1,n=!0){let{readdirSync:s}=await k.fs;if(await Wt(t))return e.test(t)?t:n?et(await gt(t),e,1,!1):null;if(!await Pr(t)||xr(t))return null;let i=s(t),a=i.find(l=>e.test(l));if(a)return`${t}/${a}`;if(r>0&&typeof i.find(l=>Zr.test(l))!="string")return et(await gt(t),e,1,!1);let o=i.filter(l=>{switch(l){case"node_modules":return!1;case"src":return!1;case"public":return!1;case"dist":return!1;case"build":return!1;default:return!l.startsWith(".")}});for(let l of o){let c=`${t}/${l}`;if(await Wt(t))continue;let d=await et(c,e,-1,!1);if(typeof d=="string")return d}return r>0?et(await gt(t),e,1,!1):null}var an=class extends Error{constructor(){super(`Unable to find ${wr}.`)}},on=an;function ln(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e))if(typeof r!="string")return!1}return!0}function un(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e))if(!nt(r))return!1}return!0}function cn(t){if(!St(t))return!1;for(let e of t){if(!$(e))return!1;let r=Object.entries(e);if(r.length<2)return!1;for(let[n,s]of r)switch(n){case"groups":{if(!bt(s))return!1;break}case"routes":{if(!bt(s))return!1;break}default:return!1}}return!0}function fn(t){if(!$(t))return!1;for(let[e,r]of Object.entries(t))if(e!=="i18n"&&e!=="pages"||typeof r!="string")return!1;return!0}function hn(t){if(!$(t))return!1;for(let[e,r]of Object.entries(t))switch(e){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!bt(r))return!1;break}case"fallbackLocale":{if(typeof r!="string")return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}case"run":{if(r!=="server"&&r!=="client+server")return!1;break}case"translations":{if(!un(r))return!1;break}case"translationLoadingRules":{if(!cn(r))return!1;break}case"translationDirectory":{if(!fn(r))return!1;break}case"routes":{if(!ln(r))return!1;break}case"srcDir":{if(typeof r!="string")return!1;break}default:return!1}return!0}function dn(t){if(!$(t))return!1;for(let[e,r]of Object.entries(t))switch(e){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!bt(r))return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}default:return!1}return!0}var pn=class extends Error{constructor(t){super(t?`Your primaryLocale ("${t}") cannot be contained in your secondaryLocales array.`:"Your primaryLocale cannot be contained in your secondaryLocales array.")}},mn=pn,De=class{primaryLocale;secondaryLocales;fallbackLocale;showPrimaryLocale;trailingSlash;run;translations;translationLoadingRules;translationDirectory;routes;path;srcDir;constructor({primaryLocale:t,secondaryLocales:e,fallbackLocale:r,showPrimaryLocale:n,trailingSlash:s,run:i,translations:a,translationLoadingRules:o,translationDirectory:l,routes:c,srcDir:d}={},f=""){if(this.primaryLocale=t||"en",this.secondaryLocales=e||[],this.fallbackLocale=r??(t||""),this.showPrimaryLocale=n||!1,this.trailingSlash=s||"never",this.run=i||"client+server",this.translations=a||{},this.translationLoadingRules=o||[],this.translationDirectory=l||{},this.routes=c||{},this.path=f||"",this.srcDir=d||"src",this.secondaryLocales.includes(this.primaryLocale))throw new mn(this.primaryLocale)}get pages(){return Object.keys(this.translations).filter(t=>t.startsWith("/"))}static async fromFilesystem(t=null){let{fileURLToPath:e}=await k.url;if(!t){let n="";typeof process<"u"&&(n=pr.PWD||""),t=await qt(await Lt(n))}if(!t){let n="";typeof process<"u"&&(n=process.cwd()),t=await qt(await Lt(n))}if(!t){let n="";typeof import.meta=="object"&&typeof import.meta.url=="string"?n=e(import.meta.url):typeof __filename=="string"&&(n=__filename),n&&(t=await qt(await Lt(n)))}if(!t)throw new on;let r=t.endsWith(".json")?await xt(t):(await Cr(t)).default;return $t(r,hn,"AstroI18nConfig"),new De(r,t).loadFilesystemTranslations()}async loadFilesystemTranslations(){if(!this.path)return this;let t=await gt(this.path);if(!await sn(t)){let n=await nn(this.path);if(!n)throw new Jr;t=n}let e=await Ur(t,this);for(let n of e)this.translations[n.route]||(this.translations[n.route]={}),I(this.translations[n.route]||v(),n.translations),this.routes||(this.routes={}),I(this.routes,n.routes);let r=await rn(t,this);return I(this.translations,r),this}toClientSideObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash}}toObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash,run:this.run,translations:this.translations,translationLoadingRules:this.translationLoadingRules,translationDirectory:this.translationDirectory,routes:this.routes}}toString(){return JSON.stringify(this.toObject(),null,"	")}},dt=De,Me=(t=>(t.NONE="none",t.NODE="node",t.BROWSER="browser",t))(Me||{}),Q=Me,gn=new m(/[$A-Z_a-z]/),he=U.fromRegex(gn).appendPattern("[\\w$]*").build(),wn=new m(/-?\d+(?:\.\d+)?/),yn=new m(/^\s*$/),be=new m(/{{(.+)}}/),Ae=new m(/{#(.+?)#}/),bn=m.fromString(`\\(\\s*(${he.source})\\s*\\)`),vn=m.fromString(`>\\s*(${he.source})\\s*(\\()?`),$n=new m(/(?:function)?\s*[\w$]*\s*\(([\S\s]*?)\)\s*(?:=>)?\s*{?([\S\s]*)/),Sn=class extends Error{constructor(t=""){if(t){let e=t.slice(0,20);e.length===20&&(t=`${e.slice(0,17)}...`)}super(t?`Cannot parse unknown value (${t}).`:"Cannot parse unknown value")}},Fe=Sn,xn=class extends Error{constructor(t=""){super(t?`Cannot procces untrimmed value ("${t}").`:"Cannot procces untrimmed value")}},qe=xn,Ve=U.fromRegex(wn).assertStarting().build().toMatcher(),Ue=U.fromRegex(he).assertStarting().build().toMatcher();function jn(t){return yn.test(t)?{range:[0,0],match:[""]}:null}function ze(t){return t.startsWith("undefined")?{range:[0,9],match:["undefined"]}:null}function Je(t){return t.startsWith("null")?{range:[0,4],match:["null"]}:null}function Ge(t){return t.startsWith("true")?{range:[0,4],match:["true"]}:t.startsWith("false")?{range:[0,5],match:["false"]}:null}function Be(t){let e=t[0];if(e!=='"'&&e!=="'"&&e!=="`")return null;let r=t.slice(1).indexOf(e);return r===-1?null:(r+=2,{range:[0,r],match:[t.slice(0,r)]})}function kn(t){if(!t.startsWith("{"))return null;let e=0;for(let r=0;r<t.length;r+=1){let n=t[r];if(n==="{"?e+=1:n==="}"&&(e-=1),e===0){let s=r+1;return{range:[0,s],match:[t.slice(0,s)]}}}return null}function Ke(t){if(!t.startsWith("["))return null;let e=0;for(let r=0;r<t.length;r+=1){let n=t[r];if(n==="["?e+=1:n==="]"&&(e-=1),e===0){let s=r+1;return{range:[0,s],match:[t.slice(0,s)]}}}return null}function Y(t,e){let r=0,n=!1,s=null;for(let i=0;i<t.length;i+=1){let a=t[i]||v(),o=a==='"'||a==="'"||a==="`",l=!1,c=!1;if(a==="{"||a==="["?(r+=1,l=!0):a==="}"||a==="]"?(r-=1,c=!0):!n&&o?(r+=1,n=!0,s=a,l=!0):n&&a===s&&(r-=1,n=!1,s=null,c=!0),e(a,i,r,l,c)===K)break}}var On=U.fromRegex(bn).assertStarting().build().toMatcher(),Ln=U.fromRegex(vn).assertStarting().build().toMatcher();function Ye(t){t=t.trim();let e=t,{value:r,type:n,end:s}=_n(t);t=t.slice(s).trim();let i=null,a=On(t);if(a){let{match:l,range:c}=a;i=l[1]||v(),t=t.slice(c[1]).trim()}let o=[];for(;t.length>0;){t[0]===")"&&(t=t.slice(1));let{match:l,range:c}=Ln(t)||{};if(!l?.[1]||!c)break;if(t=t.slice(c[1]).trim(),!l[2]){o.push({name:l[1],args:[]});continue}let{args:d,end:f}=En(t);t=t.slice(f).trim(),o.push({name:l[1],args:d})}return{raw:e,value:r,type:n,alias:i,formatters:o}}function X(t){let e=[];t=t.trim();let{type:r,value:n,alias:s,formatters:i}=Ye(t);for(let a of i)for(let o of a.args)for(let l of X(o))e.push(l);switch(r){case 4:{e.push(s||n);break}case 6:{let a="",o=!0;Y(t,(l,c,d,f)=>{if(d===0){for(let g of X(a))e.push(g);return K}if(o){if(f&&l==="{"||/\s/.test(l))return null;if(l===":")return o=!1,null}else if(l===","){for(let g of X(a))e.push(g);return a="",o=!0,null}return o||(a+=l),null});break}case 7:{let a="";Y(t,(o,l,c,d)=>{if(c===0){for(let f of X(a))e.push(f);return K}if(d&&o==="[")return null;if(o===","){for(let f of X(a))e.push(f);return a="",null}return a+=o,null});break}}return e}function _n(t){if(/^\s+\S/.test(t))throw new qe(t);let e=jn(t);if(e)return{value:"undefined",type:0,end:e.range[1]};if(e=ze(t),e)return{value:e.match[0]||v(),type:0,end:e.range[1]};if(e=Je(t),e)return{value:e.match[0]||v(),type:1,end:e.range[1]};if(e=Ge(t),e)return{value:e.match[0]||v(),type:2,end:e.range[1]};if(e=Ve(t),e)return{value:e.match[0]||v(),type:3,end:e.range[1]};if(e=Ue(t),e)return{value:e.match[0]||v(),type:4,end:e.range[1]};if(e=Be(t),e)return{value:e.match[0]||v(),type:5,end:e.range[1]};if(e=kn(t),e)return{value:e.match[0]||v(),type:6,end:e.range[1]};if(e=Ke(t),e)return{value:e.match[0]||v(),type:7,end:e.range[1]};throw new Fe(t)}function En(t){let e={args:[],end:0},r="",n=!1;return Y(t,(s,i,a)=>(s==="("&&(n=!0),a>0?(r+=s,null):s===","?(e.args.push(r.trim()),r="",null):s===")"?(n&&(r+=s),e.args.push(r.trim()),e.end=i+1,r="",K):(r+=s,null))),e}function Rn(t,e,r,n,s,i){let a;switch(r){case 0:{a=void 0;break}case 1:{a=null;break}case 2:{if(t==="true"){a=!0;break}if(t==="false"){a=!1;break}}case 3:{a=t.includes(".")?Number.parseFloat(t):Number.parseInt(t,10);break}case 4:{if(e){a=s[e];break}a=s[t];break}case 5:{a=t.slice(1,-1);break}case 6:{a=Pn(t,s,i);break}case 7:{a=Cn(t,s,i);break}default:throw new Fe(t)}for(let{name:o,args:l}of n){let c=i[o];if(!c)return;let d=l.map(f=>new st(f,s,i).value);a=c(a,...d)}return a}function Pn(t,e,r){let n={},s="",i="",a=!0;return Y(t,(o,l,c,d)=>{if(c===0)return n[s]=new st(i,e,r).value,K;if(c===1){if(a){if(d||/\s/.test(o))return null;if(o===":")return a=!1,null;s+=o}else if(o===",")return n[s]=new st(i,e,r).value,s="",i="",a=!0,null}return a||(i+=o),null}),n}function Cn(t,e,r){let n=[],s="";return Y(t,(i,a,o,l)=>{if(o===0)return n.push(new st(s,e,r).value),K;if(o===1){if(l)return null;if(i===",")return n.push(new st(s,e,r).value),s="",null}return s+=i,null}),n}var Wn=class{raw;value;alias=null;constructor(t,e,r){let{raw:n,value:s,type:i,alias:a,formatters:o}=Ye(t);this.raw=n,this.alias=a,this.value=Rn(s,a,i,o,e,r)}},st=Wn,Nn=class extends Error{constructor(t){super(t?`Variant priority must be of type number (found: (${t})).`:"Variant priority must be of type number.")}},Tn=Nn,In=class extends Error{constructor(t){super(t?`Invalid variant property key (${t}), it must be a valid variable name.`:"Invalid variant property value, it must be a valid variable name.")}},Dn=In,ve="undefined, null, number, string, boolean and flat arrays of these types.",Mn=class extends Error{constructor(t){super(t?`Invalid variant property value (${t}), accepted types are: ${ve}.`:`Invalid variant property value, accepted types are: ${ve}.`)}},Tt=Mn;function Yt(t){if(/^\s/.test(t))throw new qe(t);let e=ze(t);if(e)return{value:e.match[0]||v(),type:0,end:e.range[1]};if(e=Je(t),e)return{value:e.match[0]||v(),type:1,end:e.range[1]};if(e=Ge(t),e)return{value:e.match[0]||v(),type:2,end:e.range[1]};if(e=Ve(t),e)return{value:e.match[0]||v(),type:3,end:e.range[1]};if(e=Be(t),e)return{value:e.match[0]||v(),type:5,end:e.range[1]};if(e=Ke(t),e)return{value:e.match[0]||v(),type:7,end:e.range[1]};throw new Tt(t)}function Ze(t){return t===null||typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"}function An(t){return Array.isArray(t)?t.every(e=>Ze(e)):!1}function Nt(t,e){let r;switch(e){case 0:{r=void 0;break}case 1:{r=null;break}case 2:{if(t==="true"){r=!0;break}if(t==="false"){r=!1;break}}case 3:{r=t.includes(".")?Number.parseFloat(t):Number.parseInt(t,10);break}case 5:{r=t.slice(1,-1);break}case 7:{r=Fn(t);break}default:throw new Tt(t)}return r}function Fn(t){let e=[],r="";return Y(t,(n,s,i,a)=>{if(i===0){let{value:o,type:l}=Yt(r.trim()),c=Nt(o,l);if(!Ze(c))throw new Tt(r);return e.push(c),K}if(i===1){if(a)return null;if(n===","){let{value:o,type:l}=Yt(r.trim());return e.push(Nt(o,l)),r="",null}}return r+=n,null}),e}var qn="$priority",He=class{raw;priority;properties;value;constructor({raw:t,priority:e,properties:r,value:n}={}){this.raw=t||"",this.priority=e||0,this.properties=r||[],this.value=n||""}static fromString(t,e){let r=new He;r.value=e;let n=t.trim();r.raw=n;let s="",i="",a=!0;return Y(n,(o,l,c)=>{let d=l===n.length-1;if(a)return/\s/.test(o)?null:o===":"?(a=!1,null):(s+=o,null);if(c>0)return i+=o,null;if(d&&(i+=o),o===","||d){let f=Ue(s.trim())?.match[0];if(!f)throw new Dn(s);let{value:g,type:h}=Yt(i.trim());if(f===qn){let x=Nt(g,h);if(typeof x!="number")throw new Tn(g);return r.priority=x*.001,null}let p=Nt(g,h),w=Array.isArray(p)?p:[p];if(!An(w))throw new Tt(i);return r.properties.push({name:f,values:w}),s="",i="",a=!0,null}return i+=o,null}),r}calculateMatchingScore(t){let e=0;for(let{name:r,values:n}of this.properties){if(!Object.hasOwn(t,r))continue;let s=t[r],i=[];for(let a of n){if(typeof s=="number"&&typeof a=="number"){let o=s-a;if(o===0){i.push(1e3);continue}i.push(Math.abs(1e3/o)-1);continue}s===a&&i.push(1e3)}i.length!==0&&(e+=Math.max(...i))}return e>0?e+this.priority:e}},Zt=He,Vn=class extends Error{constructor(){super("Cannot use a variant on a key which value is not a string.")}},Un=Vn;function Qe(t,e="",r={}){for(let[n,s]of Object.entries(t)){if(typeof s=="string"){let{match:i,range:a}=be.match(n)||{};if(!i?.[1]||!a){let l=`${e}${Ft}${n}`.replace(/^\./,"");if(r[l]){r[l].default=s;continue}r[l]={default:s,variants:[]};continue}let o=`${e}${Ft}${n.slice(0,a[0])+n.slice(a[1])}`.replace(/^\./,"");if(r[o]){r[o].variants.push(Zt.fromString(i[1],s));continue}r[o]={variants:[Zt.fromString(i[1],s)]};continue}if(be.test(n))throw new Un;Qe(s,`${e}${Ft}${n}`.replace(/^\./,""),r)}return r}function zn(t,e,r){let n=[];Ae.exec(t,({match:i,range:a})=>{if(!i[1])return;let{value:o}=new st(i[1],e,r);n.push({value:Jn(o),range:a})});let s=t;for(let i=n.length-1;i>=0;i-=1){let{value:a,range:o}=n[i]||v();s=s.slice(0,o[0])+a+s.slice(o[1])}return s}function Jn(t){switch(typeof t){case"undefined":return"";case"string":return t;case"bigint":return t.toString();case"number":return t.toString();case"boolean":return t.toString();case"symbol":return`Symbol(${t.description})`||"Symbol";case"function":return t.name;case"object":return t?Object.hasOwn(t,"toString")&&typeof t.toString=="function"?t.toString():JSON.stringify(t,null,"	"):"";default:return""}}function Gn(t){for(let e of Object.values(t))for(let r of Object.values(e))for(let n of Object.values(r))n.variants=n.variants.map(s=>new Zt(s));return t}var de=new m(/\[(\.{3})?([\w-]+)]/),Bn=new m(/(?:https?:\/{2})?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b[\w#%&()+./:=?@~-]*/),Xe=class{#e={};#t;constructor(t={},e={}){this.#t=t,this.#e=e}static fromConfig({translations:t,translationLoadingRules:e}){return new Xe().addTranslations(t).addTranslationLoadingRules(e)}get(t,e,r,n="",s={},i={},a=!1){let o=this.#r(t,e,r,a);!o&&n&&n!==r&&(o=this.#r(t,e,n,a));let l={score:0,value:o?.default||t};for(let c of o?.variants||[]){let d=c.calculateMatchingScore(s);d>l.score&&(l.score=d,l.value=c.value)}return zn(l.value,s,i)}getRouteGroups(){return Object.keys(this.#t).filter(t=>t.startsWith("/"))}getParamRouteGroups(){return Object.keys(this.#t).filter(t=>t.startsWith("/")&&de.test(t))}getLocaleTranslationVariables(t){let e={};for(let r of Object.values(this.#t)){if(!r[t])continue;let n=Object.entries(r[t]||v());for(let[s,{default:i,variants:a}]of n){let o={interpolationVars:[],variantVars:[],isVariantRequired:!1},l=[];if(i===void 0?o.isVariantRequired=!0:l.push(i),a.length>0){let p={};for(let{value:w,properties:x}of a){l.push(w);for(let{name:O,values:E}of x)p[O]=[...p[O]||[],...E]}o.variantVars=Object.entries(p).map(([w,x])=>({name:w,values:x}))}for(let p of l)Ae.exec(p,({match:w})=>{w[1]&&(o.interpolationVars=[...new Set([...o.interpolationVars,...X(w[1])])])});if(!e[s]){e[s]=o;continue}let{interpolationVars:c,variantVars:d,isVariantRequired:f}=e[s]||{},g=[...new Set([...c||[],...o.interpolationVars])],h=[];for(let p of o.variantVars){let w=d?.find(x=>x.name===p.name);h.push(w?{name:p.name,values:[...new Set([...w?.values||[],...p.values])]}:p)}e[s]={interpolationVars:g,variantVars:h,isVariantRequired:(f||!1)&&o.isVariantRequired}}}return e}addTranslations(t){for(let[e,r]of Object.entries(t)){let n=Object.entries(r);if(n.length===0&&!this.#t[e]){this.#t[e]={};continue}for(let[s,i]of n)wt(this.#t,[e,s],Qe(i))}return this}addTranslationLoadingRules(t){if(t.length===0)return this;let{routes:e}=en(this.#t);for(let r of t){let n=[];for(let s of r.groups){let i=m.fromString(s);n.push(...Object.keys(this.#t).filter(a=>i.test(a)))}for(let s of r.routes){let i=m.fromString(s),a=e.filter(o=>i.test(o));for(let o of a){if(!this.#e[o]){this.#e[o]=[...new Set(n)];continue}this.#e[o]=[...new Set([...this.#e[o]||v(),...n])]}}}return this}clear(){this.#e={},this.#t={}}toClientSideObject(t){let e={};if(this.#e[t])for(let r of this.#e[t]||v())e[r]=this.#t[r]||{};return this.#t[t]&&(e[t]=this.#t[t]||{}),this.#t[G]&&(e[G]=this.#t[G]||{}),e}toObject(){return{loadDirectives:this.#e,translations:this.#t}}toString(){return JSON.stringify(this.toObject(),null,"	")}#r(t,e,r,n=!1){let s=null;if(n){let i=this.getRouteGroups();for(let a of i)for(let o of this.#e[a]||[]){let l=this.#t[o]?.[r]?.[t];if(l){s=l;break}}if(!s)for(let a of i)this.#t[a]?.[r]?.[t]&&(s=this.#t[a]?.[r]?.[t]||v())}else{for(let i of this.#e[e]||[]){let a=this.#t[i]?.[r]?.[t];if(a){s=a;break}}!s&&this.#t[e]?.[r]?.[t]&&(s=this.#t[e]?.[r]?.[t]||v())}return!s&&this.#t[G]?.[r]?.[t]&&(s=this.#t[G]?.[r]?.[t]||v()),s}},Ht=Xe,Kn=class extends Error{constructor(t){super(t?`Invalid date (${t}).`:"Invalid date.")}},Yn=Kn,Zn=class extends TypeError{constructor(t,e){t?super(e?`Invalid formatter (${e}) parameter: ${t}`:`Invalid formatter parameter: ${t}`):super(e?`Invalid formatter (${e}) parameter.`:"Invalid formatter parameter.")}},vt=Zn,Hn=class extends TypeError{constructor(t,e){t?super(e?`Invalid formatter (${e}) value: ${t}`:`Invalid formatter value: ${t}`):super(e?`Invalid formatter (${e}) value.`:"Invalid formatter value.")}},ot=Hn;function $e(t){if(typeof t!="string")throw new ot(`Received value is not a string, found "${t}".`,"upper");return t.toUpperCase()}function Se(t){if(typeof t!="string")throw new ot(`Received value is not a string, found "${t}".`,"lower");return t.toLowerCase()}function Qn(t){if(typeof t!="string")throw new ot(`Received value is not a string, found "${t}".`,"capitalize");return`${t.slice(0,1).toUpperCase()}${t.slice(1).toLowerCase()}`}function Xn(t,e){return t??e}function xe(t,e){return t||e}function ts(t,e){return typeof t=="string"?t:e}function es(t,e=!0){if(typeof t=="symbol")throw new ot(`Received value cannot be a symbol, found "${t.toString()}".`,"json");if(typeof e!="boolean")throw new vt(`format must be a boolean, found "${e}".`,"json");return e?JSON.stringify(t,null,"	"):JSON.stringify(t)}function rs(t,e={},r=at.locale){if(typeof t=="string"&&(t=Number.parseFloat(t)),!$r(t))throw new ot(`Received value is not a number, found "${t}".`,"intl_format_number");if(!$(e))throw new vt(`options must be an object, found "${e}".`,"intl_format_number");if(typeof r!="string")throw new vt(`locale must be a string, found "${r}".`,"intl_format_number");return new Intl.NumberFormat(r,e).format(t)}function ns(t,e={},r=at.locale){if(typeof t!="string"&&typeof t!="number"&&!(t instanceof Date))throw new ot(`Received value is not a string, number or Date, found "${t}".`,"intl_format_date");if(t=t instanceof Date?t:new Date(t),!Sr(t))throw new Yn(t);if(!$(e))throw new vt(`options must be an object, found "${e}".`,"intl_format_date");if(typeof r!="string")throw new vt(`locale must be a string, found "${r}".`,"intl_format_date");return new Intl.DateTimeFormat(r,e)}var ss=U.fromRegex($n).assertStarting().assertEnding().build().toMatcher();function as(t){let e=ss(t.toString());if(!e)return{args:[],body:""};let[,r,n]=e.match;return{args:os(r||""),body:ls(n||"")}}function is(t){let e={};for(let[r,n]of Object.entries(t))e[r]=new Function(...n.args,n.body);return e}function os(t){return t.trim().split(",").map(e=>e.trim())}function ls(t){return t.trim().endsWith("}")?t.slice(0,-1):t}var us=class{#e={upper:$e,uppercase:$e,lower:Se,lowercase:Se,capitalize:Qn,json:es,default_nullish:Xn,default:xe,default_falsy:xe,default_non_string:ts,intl_format_number:rs,intl_format_date:ns};#t;#r;constructor(t={}){this.#t=t,this.#r={...this.#e,...this.#t}}get default(){return this.#e}get custom(){return this.#t}addFormaters(t){for(let[e,r]of Object.entries(t))this.#r[e]||(this.#r[e]=r,this.#t[e]=r);return this}clear(){this.#t={},this.#r={}}toClientSideObject(){let t={};for(let[e,r]of Object.entries(this.#t))t[e]=as(r);return t}toObject(){return this.#r}toString(){return JSON.stringify(this.toObject(),null,"	")}},Qt=us,cs=class extends Error{constructor(t){super(t?`Invalid environment: ${t}`:"Invalid environment.")}},fs=cs,tr=class{#e;#t;constructor(t={},e=""){this.#t=t,this.#e=e}static fromConfig({routes:t,primaryLocale:e}){return new tr({},e).addSegments(t)}get(t,e,r){return this.#t[e]?.[t]?.[r]||null}getSegmentLocales(t){let e=[];for(let[r,n]of Object.entries(this.#t))n[t]&&e.push(r);return e}addSegments(t){let e=Object.entries(t);for(let[r,n]of e){let s=e.filter(([i])=>i!==r&&i!==this.#e);for(let[i,a]of Object.entries(n)){wt(this.#t,[this.#e,i,r],a),wt(this.#t,[r,a,this.#e],i);for(let[o,l]of s)l[i]&&wt(this.#t,[r,a,o],l[i])}}return this}clear(){this.#e="",this.#t={}}toClientSideObject(){return{...this.#t}}toObject(){return{primaryLocale:this.#e,segments:this.#t}}toString(){return JSON.stringify(this.toObject(),null,"	")}},Xt=tr,hs=class extends Error{constructor(){super("Cannot initialize astro-i18n, it already has been initialized.")}},ds=hs,ps=class extends Error{constructor(t){super(t?`Cannot use filesystem: ${t}`:"Cannot use filesystem.")}},ms=ps,gs=class extends Error{constructor(){super(`Could not find the serialized ${V} state in the DOM. Check your ${V} config.`)}},ws=gs;function ys(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e)){if(!$(r))return!1;for(let n of Object.values(r))if(typeof n!="string")return!1}}return!0}function bs(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;let r=Object.entries(e);if(r.length<2)return!1;for(let[n,s]of r)switch(n){case"args":{if(!bt(s))return!1;break}case"body":{if(typeof s!="string")return!1;break}}}return!0}function vs(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e))if(!$s(r))return!1}return!0}function $s(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let[r,n]of Object.entries(e))switch(r){case"default":{if(typeof n!="string")return!1;break}case"variants":{if(!St(n)||!n.every(s=>Ss(s)))return!1;break}default:return!1}}return!0}function Ss(t){if(!$(t))return!1;let e=Object.entries(t);if(e.length<4)return!1;for(let[r,n]of e)switch(r){case"raw":{if(typeof n!="string")return!1;break}case"priority":{if(typeof n!="number")return!1;break}case"properties":{if(!St(n)||!n.every(s=>xs(s)))return!1;break}case"value":{if(typeof n!="string")return!1;break}default:return!1}return!0}function xs(t){if(!$(t))return!1;let e=Object.entries(t);if(e.length<2)return!1;for(let[r,n]of e)switch(r){case"name":{if(typeof n!="string")return!1;break}case"values":{if(!St(n)||!n.every(s=>typeof s=="boolean"||typeof s=="string"||typeof s=="number"||s==null))return!1;break}default:return!1}return!0}function js(t){if(!$(t))return!1;let e=Object.entries(t);if(e.length<5)return!1;for(let[r,n]of e)switch(r){case"locale":{if(typeof n!="string")return!1;break}case"route":{if(typeof n!="string")return!1;break}case"config":{if(!dn(n))return!1;break}case"translations":{if(!vs(n))return!1;break}case"segments":{if(!ys(n))return!1;break}case"formatters":{if(!bs(n))return!1;break}default:return!1}return!0}function je(t){return Bn.test(t)}function ks(t){let e="",r=0;return de.exec(t,({match:n,range:[s,i]})=>{if(e+=t.slice(r,s),!n[2]){r=i;return}e+=n[1]?"[\\w/-]+":"[\\w-]+",r=i}),e+=t.slice(r),m.fromString(e.replaceAll("/","\\/"))}var Os=class extends Error{constructor(){super("Cannot perform operation, astro-i18n is not initialized.")}},ke=Os,Ls=class extends Error{constructor(){super("Could not redirect, is this code running in the server ?")}},_s=Ls,Ot,z,A,F,j,L,P,N,W,q,J,C,rt,te,er,ee,rr,re,nr,ne,sr,se,ar,pt,_t,Et,ae,Rt,ie,mt,Pt,Ct,oe,le,ir,ue,or,ce=class{constructor(){y(this,te),y(this,ee),y(this,re),y(this,ne),y(this,se),y(this,pt),y(this,Et),y(this,Rt),y(this,mt),y(this,Ct),y(this,le),y(this,ue),y(this,z,void 0),y(this,A,""),y(this,F,""),y(this,j,new dt),y(this,L,new Ht),y(this,P,new Xt),y(this,N,new Qt),y(this,W,!1),y(this,q,!1),y(this,J,{}),y(this,C,null),y(this,rt,""),typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"?b(this,z,Q.NODE):typeof window>"u"?b(this,z,Q.NONE):(b(this,z,Q.BROWSER),u(this,j).run==="client+server"&&S(this,te,er).call(this))}get environment(){return u(this,z).toString()}get route(){return u(this,q)?"":u(this,F)}set route(t){je(t)&&(t=new URL(t).pathname),t=decodeURI(t);let{locale:e,route:r}=S(this,mt,Pt).call(this,t);b(this,F,r),b(this,A,e||S(this,Rt,ie).call(this,S(this,Ct,oe).call(this,r))||this.primaryLocale)}get pages(){return u(this,L).getRouteGroups()}get page(){return S(this,pt,_t).call(this,this.route)}get locale(){return u(this,A)}get locales(){return[u(this,j).primaryLocale,...u(this,j).secondaryLocales]}get primaryLocale(){return u(this,j).primaryLocale}get secondaryLocales(){return u(this,j).secondaryLocales}get fallbackLocale(){return u(this,j).fallbackLocale}get isInitialized(){return u(this,W)}get internals(){return{toHtml:S(this,le,ir).bind(this),config:u(this,j),segments:u(this,P),translations:u(this,L),splitLocaleAndRoute:S(this,mt,Pt).bind(this),toString:S(this,ue,or).bind(this),waitInitialization:S(this,ee,rr).bind(this),setPrivateProperties:S(this,se,ar).bind(this),reinitalize:S(this,re,nr).bind(this),getAndClearRedirection:S(this,ne,sr).bind(this)}}t(t,e={},r={}){if(!u(this,W))throw new ke;let{route:n,locale:s,fallbackLocale:i}=r;if(u(this,q))return u(this,L).get(t,"",s||this.locale,i||this.fallbackLocale,e,u(this,N).toObject(),!0);let a=n?S(this,pt,_t).call(this,n):S(this,pt,_t).call(this,this.route);return u(this,L).get(t,a||"",s||this.locale,i||this.fallbackLocale,e,u(this,N).toObject())}l(t,e={},r={}){if(!u(this,W))throw new ke;let{targetLocale:n,routeLocale:s,showPrimaryLocale:i,query:a}=r,o=S(this,Ct,oe).call(this,decodeURI(t)),l=this.locales.includes(o[0]||"")&&o.shift()||"",c=s||l||S(this,Rt,ie).call(this,o)||this.primaryLocale,d=n||this.locale,f=o.map(w=>u(this,P).get(w,c,d)||w).join("/"),g=Object.entries(e);if(g.length>0)for(let[w,x]of g)f=f.replace(`[${w}]`,String(x).replace("/",""));if((i===void 0?u(this,j).showPrimaryLocale||d!==this.primaryLocale:i)&&(f=f?`${d}/${f}`:d),u(this,j).trailingSlash==="always"&&(f+="/"),f=f.startsWith("/")?f:`/${f}`,!a)return f;let h={};for(let[w,x]of Object.entries(a))h[w]=String(x);let p=new URLSearchParams(h).toString();return p?`${f}?${p}`:f}addTranslations(t){return u(this,L).addTranslations(t),S(this,Et,ae).call(this),this}addFormatters(t){return u(this,N).addFormaters(t),this}addTranslationLoadingRules(t){return u(this,L).addTranslationLoadingRules(t),this}addRoutes(t){return u(this,P).addSegments(t),S(this,Et,ae).call(this),this}extractRouteLocale(t){return S(this,mt,Pt).call(this,t).locale}redirect(t,e=301){if(this.environment===Q.BROWSER)throw new _s;if(typeof t=="string"){let r=je(t)?new URL(t):new URL(`${u(this,rt)}/${t.replace(/^\//,"")}`);b(this,C,Response.redirect(r,e));return}b(this,C,Response.redirect(t,e))}async initialize(t=void 0,e={}){if(u(this,W))throw new ds;switch(u(this,z)){case Q.NODE:{b(this,j,typeof t=="object"?await new dt(t).loadFilesystemTranslations():await dt.fromFilesystem(t));break}case Q.NONE:{if(typeof t=="string")throw new ms("Cannot load config from filesystem in a non-node environment.");b(this,j,new dt(t||{}));break}default:throw new fs("Cannot initialize in a browser environment.")}b(this,L,Ht.fromConfig(u(this,j))),b(this,P,Xt.fromConfig(u(this,j))),b(this,N,new Qt(e)),b(this,W,!0)}},lr=ce;Ot=new WeakMap,z=new WeakMap,A=new WeakMap,F=new WeakMap,j=new WeakMap,L=new WeakMap,P=new WeakMap,N=new WeakMap,W=new WeakMap,q=new WeakMap,J=new WeakMap,C=new WeakMap,rt=new WeakMap,te=new WeakSet,er=function(){let t=document.querySelector(`#${u(ce,Ot)}`);if(!t||!t.textContent)throw new ws;let e=JSON.parse(t.textContent);$t(e,js),b(this,A,e.locale),b(this,F,e.route),b(this,j,new dt(e.config)),b(this,L,new Ht(Gn(e.translations))),b(this,P,new Xt(e.segments,e.config.primaryLocale)),b(this,N,new Qt(is(e.formatters))),b(this,W,!0),t.remove()},ee=new WeakSet,rr=async function(){let t=e=>{u(this,W)?e():setTimeout(()=>t(e),25)};return new Promise(t)},re=new WeakSet,nr=async function(t=void 0,e={}){b(this,W,!1),u(this,L).clear(),u(this,P).clear(),u(this,N).clear(),await this.initialize(t,e)},ne=new WeakSet,sr=function(){let t=u(this,C);return b(this,C,null),t},se=new WeakSet,ar=function(t={}){let{route:e,locale:r,isGetStaticPaths:n,origin:s}={route:u(this,F),locale:u(this,A),isGetStaticPaths:u(this,q),origin:u(this,rt),...t};b(this,F,e),b(this,A,r),b(this,q,n),b(this,rt,s)},pt=new WeakSet,_t=function(t){if(u(this,q))return null;if(u(this,J)[t])return u(this,J)[t]||v();let e=this.l(t,void 0,{targetLocale:this.primaryLocale});if(this.pages.includes(e))return e;let r=null;for(let n of this.pages)if(de.test(n)&&ks(n).test(t)){r=n;break}return!r||!this.pages.includes(r)?null:(u(this,J)[t]=r,r)},Et=new WeakSet,ae=function(){b(this,J,{})},Rt=new WeakSet,ie=function(t){let e={};for(let n of t)for(let s of u(this,P).getSegmentLocales(n))e[s]||(e[s]=0),e[s]+=1;let r={locale:"",score:0,isExAequo:!0};for(let[n,s]of Object.entries(e)){if(s>r.score){r.locale=n,r.score=s,r.isExAequo=!1;continue}s===r.score&&(r.isExAequo=!0)}return r.isExAequo?null:r.locale||null},mt=new WeakSet,Pt=function(t){t.startsWith("/")||(t=`/${t}`);let e=m.fromString(`\\/(${this.locales.join("|")})(?:\\/.*)?$`),{match:r}=e.match(t)||{},n=r?.[1]||null;return{locale:n,route:n?t.replace(`/${n}`,"").replace(/\/$/,"")||"/":t.replace(/\/$/,"")||"/"}},Ct=new WeakSet,oe=function(t){return t.replace(/^\//,"").replace(/\/$/,"").split("/")},le=new WeakSet,ir=function(){let t={locale:u(this,A),route:u(this,F),config:u(this,j).toClientSideObject(),translations:u(this,L).toClientSideObject(this.route),segments:u(this,P).toClientSideObject(),formatters:u(this,N).toClientSideObject()};return`<script id="${u(ce,Ot)}" type="application/json">${JSON.stringify(t)}<\/script>`},ue=new WeakSet,or=function(){let t={};for(let[e,r]of Object.entries(u(this,N).toObject()))t[e]=r.name;return JSON.stringify({environment:this.environment,route:this.route,locale:this.locale,locales:this.locales,primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,isInitialized:this.isInitialized,"#redirection":u(this,C)instanceof Response?{url:u(this,C).url,status:u(this,C).status}:u(this,C),"#origin":u(this,rt),"#isGetStaticPaths":u(this,q),"#routePageCache":u(this,J),"#config":u(this,j).toObject(),"#translations":u(this,L).toObject(),"#segments":u(this,P).toObject(),"#formatters":t},null,"	")},y(lr,Ot,`__${V}__`);var Es=lr,at=new Es,Rs=at.t.bind(at),Us=at.l.bind(at);function Ps(t,e){return Rs(t,e)}const Cs="single-direction";function Ws(t){const e={};for(const r of t)Ns(e,r);return e}function Ns(t,e){const r=Vt(t,e.execution,Ut),n=Vt(r,e.attack,Ut),s=Vt(n,e.defence,Ut);s[e.direction]=e.metadata}function Vt(t,e,r){const n=t[e];if(n!=null)return n;const s=r();return t[e]=s,s}function Ut(){return{}}var Ts=it('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),Is=it('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),Ds=it('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),Ms=it("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),As=it('<span class="text-sm text-secondary">( <!$><!/> )'),Oe=it("<span>");const zs=t=>(()=>{var e=B(Ts),r=e.firstChild,[n,s]=zt(r.nextSibling),i=n.nextSibling;return R(e,ct(Mt,{get object(){return Ws(t.techniques)},children:(a,o)=>(()=>{var l=B(Is),c=l.firstChild,d=c.nextSibling;return R(c,a),R(d,ct(Mt,{object:o,children:(f,g)=>(()=>{var h=B(Ds),p=h.firstChild,w=p.nextSibling;return R(p,f),R(w,ct(Mt,{object:g,children:(x,O)=>(()=>{var E=B(Ms),lt=E.firstChild,_=lt.nextSibling,Z=_.nextSibling,[jt,kt]=zt(Z.nextSibling);return R(lt,x),R(E,ct(Fs,{directions:O}),jt,kt),E})()})),h})()})),l})()}),n,s),R(i,()=>Ps("examChooser.created-by",{url:window.location.origin})),e})(),Fs=t=>{const e=Object.keys(t.directions);return e.length===1&&e[0]===Cs?null:(()=>{var r=B(As),n=r.firstChild,s=n.nextSibling,[i,a]=zt(s.nextSibling);return i.nextSibling,R(r,ct(fr,{each:e,children:(o,l)=>l()>0?[", ",(()=>{var c=B(Oe);return R(c,o),c})()]:(()=>{var c=B(Oe);return R(c,o),c})()}),i,a),r})()};function Js(t){const e=`currentTechniques:${t}`;return{async save(r){localStorage.setItem(e,JSON.stringify(r))},async load(){const r=localStorage.getItem(e);return r==null?[]:Promise.resolve(JSON.parse(r))}}}export{zs as E,Cs as S,Us as a,Js as c,Ps as t};
