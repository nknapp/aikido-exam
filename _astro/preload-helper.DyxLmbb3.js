let d=[],v=0;const m=4;let y=0,R=e=>{let s=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(i){return t.lc=s.push(i),()=>{for(let l=v+m;l<d.length;)d[l]===i?d.splice(l,m):l+=m;let n=s.indexOf(i);~n&&(s.splice(n,1),--t.lc||t.off())}},notify(i,n){y++;let l=!d.length;for(let r of s)d.push(r,t.value,i,n);if(l){for(v=0;v<d.length;v+=m)d[v](d[v+1],d[v+2],d[v+3]);d.length=0}},off(){},set(i){let n=t.value;n!==i&&(t.value=i,t.notify(n))},subscribe(i){let n=t.listen(i);return i(t.value),n},value:e};return t};const O=5,w=6,L=10;let _=(e,s,t,i)=>(e.events=e.events||{},e.events[t+L]||(e.events[t+L]=i(n=>{e.events[t].reduceRight((l,r)=>(r(l),l),{shared:{},...n})})),e.events[t]=e.events[t]||[],e.events[t].push(s),()=>{let n=e.events[t],l=n.indexOf(s);n.splice(l,1),n.length||(delete e.events[t],e.events[t+L](),delete e.events[t+L])}),A=1e3,U=(e,s)=>_(e,i=>{let n=s(i);n&&e.events[w].push(n)},O,i=>{let n=e.listen;e.listen=(...r)=>(!e.lc&&!e.active&&(e.active=!0,i()),n(...r));let l=e.off;return e.events[w]=[],e.off=()=>{l(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let r of e.events[w])r();e.events[w]=[]}},A)},()=>{e.listen=n,e.off=l}}),M=(e,s,t)=>{Array.isArray(e)||(e=[e]);let i,n,l=()=>{if(n===y)return;n=y;let a=e.map(f=>f.get());if(!i||a.some((f,c)=>f!==i[c])){i=a;let f=s(...a);f&&f.then&&f.t?f.then(c=>{i===a&&r.set(c)}):(r.set(f),n=y)}},r=R(void 0),E=r.get;r.get=()=>(l(),E());let o,u=t?()=>{clearTimeout(o),o=setTimeout(l)}:l;return U(r,()=>{let a=e.map(f=>f.listen(u));return l(),()=>{for(let f of a)f()}}),r},P=(e,s)=>M(e,s),S=e=>e,h={},T={addEventListener(){},removeEventListener(){}};function x(){try{return typeof localStorage<"u"}catch{return!1}}x()&&(h=localStorage);let b={addEventListener(e,s,t){window.addEventListener("storage",s),window.addEventListener("pageshow",t)},removeEventListener(e,s,t){window.removeEventListener("storage",s),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(T=b);function I(e,s=void 0,t={}){let i=t.encode||S,n=t.decode||S,l=R(s),r=l.set;l.set=u=>{typeof u>"u"?delete h[e]:h[e]=i(u),r(u)};function E(u){u.key===e?u.newValue===null?r(void 0):r(n(u.newValue)):h[e]||r(void 0)}function o(){l.set(h[e]?n(h[e]):s)}return U(l,()=>{if(o(),t.listen!==!1)return T.addEventListener(e,E,o),()=>{T.removeEventListener(e,E,o)}}),l}const k=I("youtubeEnabled","false"),C=P(k,e=>e==="true");function Q(e){k.set(e?"true":"false")}const q="modulepreload",B=function(e){return"/"+e},N={},Y=function(s,t,i){let n=Promise.resolve();if(t&&t.length>0){const l=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),E=r?.nonce||r?.getAttribute("nonce");n=Promise.all(t.map(o=>{if(o=B(o),o in N)return;N[o]=!0;const u=o.endsWith(".css"),a=u?'[rel="stylesheet"]':"";if(!!i)for(let g=l.length-1;g>=0;g--){const p=l[g];if(p.href===o&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":q,u||(c.as="script",c.crossOrigin=""),c.href=o,E&&c.setAttribute("nonce",E),document.head.appendChild(c),u)return new Promise((g,p)=>{c.addEventListener("load",g),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}return n.then(()=>s()).catch(l=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l})};export{Y as _,Q as s,C as y};
