import{c as G,F as Xr,g as k,s as ua,r as Vt,t as M,d as Qr,a as ne,i as j,b as en,o as tn,e as or,f as ca,h as dt,j as fa,k as lr}from"./web.Ce-g5Ybc.js";const ha="modulepreload",pa=function(e){return"/"+e},ur={},rn=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");a=Promise.all(r.map(l=>{if(l=pa(l),l in ur)return;ur[l]=!0;const u=l.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const g=s[d];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${p}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ha,u||(h.as="script",h.crossOrigin=""),h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((d,g)=>{h.addEventListener("load",d),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return a.then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})};var da={},ga=Object.defineProperty,va=(e,t,r)=>t in e?ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nn=(e,t,r)=>(va(e,typeof t!="symbol"?t+"":t,r),r),Yt=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},c=(e,t,r)=>(Yt(e,t,"read from private field"),r?r.call(e):t.get(e)),m=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},$=(e,t,r,n)=>(Yt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),x=(e,t,r)=>(Yt(e,t,"access private method"),r),Y="astro-i18n",ya=`${Y}.config`,cr="github.com/alexandre-fernandez/astro-i18n/issues",ba=class extends Error{constructor(e){super(e?`${Y}: Unreachable code executed (at "${e}"), please open an issue at "${cr}".`:`${Y}: Unreachable code executed, please open an issue at "${cr}".`)}},ma=ba;function w(){throw new ma}function $a(e=new Error("Something went wrong.")){throw e}var Ot,an,Te=class{constructor(e){m(this,Ot),nn(this,"regexp"),this.regexp=new RegExp(e.source,e.flags)}static fromString(e,t){return new Te(new RegExp(e,t))}get source(){return this.regexp.source}get flags(){return this.regexp.flags}add(e){return this.regexp=new RegExp(`${this.regexp.source}${e.source}`,this.regexp.flags),this}test(e){return this.regexp.test(e)}exec(e,t){let r=x(this,Ot,an).call(this,e),n=r.next();for(;!n.done&&t(n.value)!==Te.BREAK;)n=r.next();return this}match(e){let t=null;return this.exec(e,r=>(t=r,Te.BREAK)),t}clone(){return new Te(new RegExp(this.regexp.source,this.regexp.flags))}toMatcher(){return this.match.bind(this)}},sn=Te;Ot=new WeakSet,an=function*(e){let t=this.regexp;t.flags.includes("g")||(t=new RegExp(this.regexp.source,`${this.regexp.flags}g`));let r=t.exec(e);for(;r!==null;)r&&(yield{range:[r.index,r.index+r[0].length],match:[...r]}),r=t.exec(e)},nn(sn,"BREAK","break");var b=sn,on=class{#t;#e;constructor({source:e,flags:t}){this.#t=e,this.#e=t}static fromRegex(e){return new on(e.regexp)}appendPattern(e){return this.#t=`${this.#t}${e}`,this}matchTrimifiable(){return this.#t=`\\s*${this.#t}\\s*`,this}assertStarting(){return this.#t=`^${this.#t}`,this}assertEnding(){return this.#t=`${this.#t}$`,this}addGroup(){return this.#t=`(${this.#t})`,this}addGlobalFlag(){return this.#e.includes("g")||(this.#e=`${this.#e}g`),this}build(){return new b(new RegExp(this.#t,this.#e))}},Z=on;function De(e,t,r){if(!t(e)){let n="";throw e?typeof e=="object"?n=`
${e.constructor.name}
${JSON.stringify(e,null,4)}`:typeof e=="symbol"?n=`Symbol("${e.description}")`:n=typeof e=="string"?`"${e}"`:`${e}`:n=`${e}`,!r&&t.name.startsWith("is")&&(r=t.name.slice(2)),new TypeError(r?`Unexpected type (expecting \`${r}\`), found: ${n}`:`Unexpected type, found: ${n}`)}}function wa(e){return typeof e=="number"&&!Number.isNaN(e)}function _a(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Ne(e){return Array.isArray(e)}function Re(e){return Ne(e)&&e.every(t=>typeof t=="string")}function O(e){return!!e&&typeof e=="object"}function fr(e){return O(e)?Object.getPrototypeOf(e)===Object.prototype:!1}var xe,ce,Ae,xt=class{static get path(){return x(this,ce,Ae).call(this,"path")}static get posix(){return this.path.then(({posix:e})=>e)}static get fs(){return x(this,ce,Ae).call(this,"fs")}static get url(){return x(this,ce,Ae).call(this,"url")}static get module(){return x(this,ce,Ae).call(this,"module")}};xe=new WeakMap,ce=new WeakSet,Ae=async function(e){if(c(this,xe)[e])return c(this,xe)[e];let t=await rn(()=>import(`node:${e}`),[]);return c(this,xe)[e]=t,t},m(xt,ce),m(xt,xe,{});var C=xt;async function Ke(e){let{sep:t,posix:r}=await C.path;return e.split(t).join(r.sep)}async function Ee(e){let t=await Oa(e),r=e.split(t);return r.pop(),r.join(t)}function Sa(e){switch(e){case"":return!0;case"/":return!0;case"\\":return!0;default:return!/[/\\]/.test(e)}}async function Oa(e){let{sep:t}=await C.path,r=e.split("/").length-1,n=e.split("\\").length-1;return r>n?"/":n>r?"\\":t}function z(e,t,r){let{mode:n,mutable:a}={mode:"replace",mutable:!0,...r},s=a?e:structuredClone(e);for(let[i,o]of Object.entries(t)){let l=s[i];if(Object.hasOwn(s,i)){jt(l)&&jt(o)?z(l,o):n==="replace"&&(s[i]=t[i]);continue}s[i]=t[i]}return a?void 0:s}function ke(e,t,r){let n=typeof t=="string"?[t]:t,a=e;for(let[s,i]of n.entries()){if(s===n.length-1){a[i]=r;break}jt(a[i])||(a[i]={}),a=a[i]}}function jt(e){return typeof e!="object"?!1:Object.getPrototypeOf(e)===Object.prototype}var xa=class extends Error{constructor(e){super(e?`Peer dependency \`${e}\` was not found, if it's not already done try installing it.`:"A dependency was not found.")}},ja=xa,Ta=class extends Error{constructor(e){super(e?`No file was found for the given path (${e}).`:"No file was found for the given path.")}},ln=Ta,Aa=class extends Error{constructor(e=[]){super(e.length>0?`Invalid file type, supported formats are: "${e.join('", "')}"`:"Invalid file type, format not supported.")}},un=Aa,Ca=class extends Error{constructor(e){super(e?`Invalid format, could not parse JSON (${e}).`:"Invalid format, could not parse JSON.")}},Pa=Ca;async function H(e){if(!e)return!1;let{existsSync:t,lstatSync:r}=await C.fs;return t(e)&&r(e).isDirectory()}async function Qe(e){if(!e)return!1;let{existsSync:t,lstatSync:r}=await C.fs;return t(e)&&!r(e).isDirectory()}async function La(e){let{accessSync:t,constants:r}=await C.fs;try{return t(e,r.R_OK),!0}catch{return!1}}async function cn(e,t){let{readdirSync:r}=await C.fs,n=r(e);await t(await Ke(e),n);for(let a of n){let s=`${e}/${a}`;await H(s)&&await cn(s,t)}}async function Ea(e){let t=null;t=await rn(()=>import("./main.BDUv0U_o.js").then(n=>n.m),[]);let r=/\.(js|cjs|mjs|ts)$/;if(!Qe(e))throw new ln(e);if(!r.test(e))throw new un(["js","cjs","mjs","ts"]);try{let{outputFiles:n}=await t.build({entryPoints:[e],bundle:!0,external:["esbuild"],format:"cjs",platform:"node",write:!1}),a=new TextDecoder().decode(n[0]?.contents);return a?ka(a,e.replace(r,".cjs")):{}}catch{throw new ja("esbuild")}}async function Fe(e){if(!Qe(e))throw new ln(e);if(!/\.json$/.test(e))throw new un(["json"]);let{readFileSync:t}=await C.fs,r=t(e,{encoding:"utf8"});try{return JSON.parse(r)}catch{throw new Pa(e)}}async function ka(e,t){let{Module:r}=await C.module,n=t.split("/").slice(0,-1).join("/"),a={module:new r(t),require(s){return this.module.require(s)}};return a.module.paths=r._nodeModulePaths(n),a.module.filename=t,a.module.exports={},a.require=s=>a.module.require(s),Object.assign(a.require,{resolve:s=>r._resolveFilename(s,a.module)}),new Function("exports","require","module","__filename","__dirname",e)(a.module.exports,a.require,a.module,t,n),a.module.exports}var ae="break",Ia=["json","js","cjs","mjs","ts"],Tt="i18n",Ie="pages",Ra=class extends Error{constructor(){super(`Could not find astro "${Ie}" directory.`)}},Ma=Ra,Da=new b(/(\/[^\s/]+)?(\/[^\s/]+)\.astro$/),gt=new b(/^---\n([\S\s]+)\n---\n/),Na=new b(/export\s*(?:const\s+prerender|var\s+prerender|let\s+prerender|prerender)(?:\s*=\s*)?(true|false)?|export\s*?{\s*?prerender\s*?}/),Fa=new b(/export\s+(?:async\s+)?(?:function\s+|const\s+|var\s+|let\s+)getStaticPaths|export\s*{\s*getStaticPaths\s*}/),Ga=class{#t;#e;#r;#o;#l;#s=void 0;#n=void 0;#a=null;#i=null;constructor({name:e,route:t,path:r,translations:n,routes:a}){this.#t=e,this.#e=t,this.#r=r,this.#o=n,this.#l=a}get name(){return this.#t}get route(){return this.#e}get path(){return this.#r}get translations(){return this.#o}get routes(){return this.#l}async getContent(){if(this.#a)return this.#a;let{readFileSync:e}=await C.fs;return this.#a=e(this.#r,{encoding:"utf8"}),this.#i=gt.match(this.#a)?.match[0]||null,this.#a}async getFrontmatter(){return this.#i?this.#i:(this.getContent(),this.#i)}async hasGetStaticPaths(){if(typeof this.#s<"u")return this.#s;let{readFileSync:e}=await C.fs,t=e(this.#r,{encoding:"utf8"}),r=gt.match(t)?.match[0];return this.#s=r?Fa.test(r):!1,this.#s}async prerender(){if(typeof this.#n<"u")return this.#n;let{readFileSync:e}=await C.fs,t=e(this.#r,{encoding:"utf8"}),r=gt.match(t)?.match[0];if(!r)return this.#n=!1,this.#n;let{match:n}=Na.match(r)||{};return n?n[1]?this.#n=n[1]==="true":this.#n=!0:this.#n=null,this.#n}async getProxy(e,t){let r=this.path.lastIndexOf("src/pages");if(r=r<0?null:r+9,!r)return null;let n="";e=e.replace(/\/$/,"")||"/";let a=this.#r.slice(r),s=e.split("/").length-1,i=`${"../".repeat(s)}${a.slice(1)}`;if(n+=`---
import Page from "${i}"
`,await this.hasGetStaticPaths()){let{locale:l,route:u}=t.internals.splitLocaleAndRoute(e);n+=`import { getStaticPaths as proxyGetStaticPaths } from "${i}"
/* @ts-ignore */
export const getStaticPaths = (props) => proxyGetStaticPaths({ ...props, astroI18n: `,n+=`{ locale: "${l}", route: "${u}", primaryLocale: "${t.primaryLocale}", secondaryLocales: ["${t.secondaryLocales.join('", "')}"] } })
`}let o=await this.prerender();return typeof o=="boolean"&&(n+=o?`export const prerender = true
`:`export const prerender = false
`),n+=`const { props } = Astro
---
<Page {...props} />`,n}},hr=Ga,Wa=class extends Error{constructor(e){super(e?`Invalid pattern (${e.source}) given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).`:"Invalid pattern given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).")}},za=Wa;function pe(e,t=!0){if(t){if(!O(e))return!1;for(let r of Object.values(e))if(!pe(r,!1))return!1;return!0}if(typeof e=="string")return!0;if(!O(e))return!1;for(let r of Object.values(e))if(!pe(r,!1))return!1;return!0}async function qa(e,t={}){let{join:r}=await C.path,n=`${e}/${t.srcDir}/${Ie}`;if(!await H(n))throw new Ma;let a={},s=(t.secondaryLocales||[]).map(d=>`/${t.srcDir}/${Ie}/${d}`),i={i18n:Tt,pages:Tt,...t.translationDirectory},o=[t.primaryLocale||"en",...t.secondaryLocales||[]],l=b.fromString(`(\\/[^\\/\\s]+)?(?:\\/_?${i.pages})?\\/_?(${o.join("|")})(\\.[^\\.\\s]+)?\\.json$`),u=b.fromString(`_?${i.pages}`),p=t.showPrimaryLocale?r(n,t.primaryLocale||"en"):n;await cn(p,async(d,g)=>{if(!s.some(v=>d.includes(v)))for(let v of g){let y=`${d}/${v}`;if(await H(y))continue;let _=y.replace(n,"");if(_.endsWith(".astro")){let{match:L,range:oe}=Da.match(_)||{};if(!L||!L[2]||!oe)continue;let D="index",B="/";if(L[1]?L[2]==="/index"?(D=L[1].replace("/",""),B=`${_.slice(0,oe[0])}/${D}`):(D=L[2].replace("/",""),B=`${_.slice(0,oe[0]+L[1].length)}/${D}`):L[2]!=="/index"&&(D=L[2].replace("/",""),B=`/${D}`),D.startsWith("_"))continue;a[B]={...a[B],name:D,route:B,path:y};continue}if(!_.endsWith(".json"))continue;let{match:T,range:X}=l.match(_)||{};if(!T||!X)continue;let P=`${_.slice(0,X[0])}${T[1]||"/"}`;u.test(P)&&(P="/");let I=T[2]||w(),_e=P.split("/").slice(-1).join("")||"index",Se=T[3]?T[3].replace(".",""):null,Oe=await Fe(y);De(Oe,pe,`${I}.PageTranslations`),z(Oe,a[P]?.translations?.[I]||{});let ht={...a[P]?.translations,[I]:Oe},pt=Se?{...a[P]?.routes,[I]:{[_e]:Se}}:{...a[P]?.routes};a[P]={...a[P],name:_e,route:P,translations:ht,routes:pt}}});let f=[];for(let d of Object.values(a))!d.path||!d.name||!d.route||f.push({translations:{},routes:{},...d});let h=`${e}/${t.srcDir}/${i.i18n}/${Ie}`;if(!await H(h))return f.map(d=>new hr(d));for(let d of f){let g=`${h}${d.route}`.replace(/\/$/,"");if(!await H(g))continue;let v=await pr(g,d.name,l);for(let{translations:y,routes:_}of v)z(d.translations,y),z(d.routes,_);if(g=`${g}/${i.pages}`,!!await H(g)){v=await pr(g,d.name,l);for(let{translations:y,routes:_}of v)z(d.translations,y),z(d.routes,_)}}return f.map(d=>new hr(d))}async function pr(e,t,r){let{readdirSync:n}=await C.fs,a=[];for(let s of n(e,{encoding:"utf8"})){let{match:i}=r.match(`/${s}`)||{};if(!i)continue;let o=i[2]||$a(new za),l=i[3]?i[3].replace(".",""):null,u=await Fe(`${e}/${s}`);De(u,pe,`${o}.PageTranslations`),a.push({translations:{[o]:u},routes:l?{[o]:{[t]:l}}:{}})}return a}var Ua=class extends Error{constructor(e){super(e?`Unable to find project root. ${e}`:"Unable to find project root.")}},Ba=Ua,Ha=b.fromString(`${Y}\\.config\\.(${Ia.join("|")})`),Ka=b.fromString("astro\\.config\\.(js|cjs|mjs|ts)"),Ja=new b(/[/\\]?node_modules/),Va=new b(/.+?node_modules/),Ya=new b(/(?:package|deno)\.json/),Za=new b(/package\.json/),Xa=new b(/deno\.jsonc?/),Qa=new b(/deps\.ts/),vt=".",re="common",es=Z.fromRegex(Ha).assertEnding().build(),fn=Z.fromRegex(Ka).assertEnding().build();function ts(e){let t={routes:[],extra:[],common:void 0};for(let r of Object.keys(e)){if(r.startsWith("/")){t.routes.push(r);continue}if(r===re){t.common=re;continue}t.extra.push(r)}return t}async function rs(e,t={}){let r=`${e}/${t.srcDir}/${t.translationDirectory?.i18n||Tt}`,n={};if(!await H(r))return n;let{readdirSync:a}=await C.fs,s=[t.primaryLocale||"en",...t.secondaryLocales||[]],i=b.fromString(`(${s.join("|")})\\.json`);for(let o of a(r)){if(o===Ie)continue;let l=`${r}/${o}`;if(await H(l))for(let u of a(l)){let{match:p}=i.match(u)||{};if(!p?.[1])continue;let f=p[1],h=await Fe(`${l}/${u}`);De(h,pe,`${f}.GroupTranslations`),ke(n,[o,f],h)}}return n}async function yt(e){return fe(hn(e),es.regexp)}async function ns(e){let t=await fe(hn(e),fn.regexp);if(!t)return null;let{readdirSync:r}=await C.fs,n=await Ee(t),a=r(n),s=a.find(i=>Za.test(i));if(s){let i=await Fe(`${n}/${s}`);if(fr(i)&&fr(i.dependencies)&&i.dependencies[Y])return n}return a.find(i=>Xa.test(i))||a.find(i=>Qa.test(i))?n:null}async function as(e){let{readdirSync:t}=await C.fs;return typeof t(e).find(r=>fn.test(r))=="string"}function hn(e){let{match:t}=Va.match(e)||{};return t?t[0]?.replace(Ja.regexp,"")||"/":e}async function fe(e,t,r=1,n=!0){let{readdirSync:a}=await C.fs;if(await Qe(e))return t.test(e)?e:n?fe(await Ee(e),t,1,!1):null;if(!await La(e)||Sa(e))return null;let s=a(e),i=s.find(l=>t.test(l));if(i)return`${e}/${i}`;if(r>0&&typeof s.find(l=>Ya.test(l))!="string")return fe(await Ee(e),t,1,!1);let o=s.filter(l=>{switch(l){case"node_modules":return!1;case"src":return!1;case"public":return!1;case"dist":return!1;case"build":return!1;default:return!l.startsWith(".")}});for(let l of o){let u=`${e}/${l}`;if(await Qe(e))continue;let p=await fe(u,t,-1,!1);if(typeof p=="string")return p}return r>0?fe(await Ee(e),t,1,!1):null}var ss=class extends Error{constructor(){super(`Unable to find ${ya}.`)}},is=ss;function os(e){if(!O(e))return!1;for(let t of Object.values(e)){if(!O(t))return!1;for(let r of Object.values(t))if(typeof r!="string")return!1}return!0}function ls(e){if(!O(e))return!1;for(let t of Object.values(e)){if(!O(t))return!1;for(let r of Object.values(t))if(!pe(r))return!1}return!0}function us(e){if(!Ne(e))return!1;for(let t of e){if(!O(t))return!1;let r=Object.entries(t);if(r.length<2)return!1;for(let[n,a]of r)switch(n){case"groups":{if(!Re(a))return!1;break}case"routes":{if(!Re(a))return!1;break}default:return!1}}return!0}function cs(e){if(!O(e))return!1;for(let[t,r]of Object.entries(e))if(t!=="i18n"&&t!=="pages"||typeof r!="string")return!1;return!0}function fs(e){if(!O(e))return!1;for(let[t,r]of Object.entries(e))switch(t){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!Re(r))return!1;break}case"fallbackLocale":{if(typeof r!="string")return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}case"run":{if(r!=="server"&&r!=="client+server")return!1;break}case"translations":{if(!ls(r))return!1;break}case"translationLoadingRules":{if(!us(r))return!1;break}case"translationDirectory":{if(!cs(r))return!1;break}case"routes":{if(!os(r))return!1;break}case"srcDir":{if(typeof r!="string")return!1;break}default:return!1}return!0}function hs(e){if(!O(e))return!1;for(let[t,r]of Object.entries(e))switch(t){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!Re(r))return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}default:return!1}return!0}var ps=class extends Error{constructor(e){super(e?`Your primaryLocale ("${e}") cannot be contained in your secondaryLocales array.`:"Your primaryLocale cannot be contained in your secondaryLocales array.")}},ds=ps,pn=class{primaryLocale;secondaryLocales;fallbackLocale;showPrimaryLocale;trailingSlash;run;translations;translationLoadingRules;translationDirectory;routes;path;srcDir;constructor({primaryLocale:e,secondaryLocales:t,fallbackLocale:r,showPrimaryLocale:n,trailingSlash:a,run:s,translations:i,translationLoadingRules:o,translationDirectory:l,routes:u,srcDir:p}={},f=""){if(this.primaryLocale=e||"en",this.secondaryLocales=t||[],this.fallbackLocale=r??(e||""),this.showPrimaryLocale=n||!1,this.trailingSlash=a||"never",this.run=s||"client+server",this.translations=i||{},this.translationLoadingRules=o||[],this.translationDirectory=l||{},this.routes=u||{},this.path=f||"",this.srcDir=p||"src",this.secondaryLocales.includes(this.primaryLocale))throw new ds(this.primaryLocale)}get pages(){return Object.keys(this.translations).filter(e=>e.startsWith("/"))}static async fromFilesystem(e=null){let{fileURLToPath:t}=await C.url;if(!e){let n="";typeof process<"u"&&(n=da.PWD||""),e=await yt(await Ke(n))}if(!e){let n="";typeof process<"u"&&(n=process.cwd()),e=await yt(await Ke(n))}if(!e){let n="";typeof import.meta=="object"&&typeof import.meta.url=="string"?n=t(import.meta.url):typeof __filename=="string"&&(n=__filename),n&&(e=await yt(await Ke(n)))}if(!e)throw new is;let r=e.endsWith(".json")?await Fe(e):(await Ea(e)).default;return De(r,fs,"AstroI18nConfig"),new pn(r,e).loadFilesystemTranslations()}async loadFilesystemTranslations(){if(!this.path)return this;let e=await Ee(this.path);if(!await as(e)){let n=await ns(this.path);if(!n)throw new Ba;e=n}let t=await qa(e,this);for(let n of t)this.translations[n.route]||(this.translations[n.route]={}),z(this.translations[n.route]||w(),n.translations),this.routes||(this.routes={}),z(this.routes,n.routes);let r=await rs(e,this);return z(this.translations,r),this}toClientSideObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash}}toObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash,run:this.run,translations:this.translations,translationLoadingRules:this.translationLoadingRules,translationDirectory:this.translationDirectory,routes:this.routes}}toString(){return JSON.stringify(this.toObject(),null,"	")}},Ce=pn,dn=(e=>(e.NONE="none",e.NODE="node",e.BROWSER="browser",e))(dn||{}),le=dn,gs=new b(/[$A-Z_a-z]/),Zt=Z.fromRegex(gs).appendPattern("[\\w$]*").build(),vs=new b(/-?\d+(?:\.\d+)?/),ys=new b(/^\s*$/),dr=new b(/{{(.+)}}/),gn=new b(/{#(.+?)#}/),bs=b.fromString(`\\(\\s*(${Zt.source})\\s*\\)`),ms=b.fromString(`>\\s*(${Zt.source})\\s*(\\()?`),$s=new b(/(?:function)?\s*[\w$]*\s*\(([\S\s]*?)\)\s*(?:=>)?\s*{?([\S\s]*)/),ws=class extends Error{constructor(e=""){if(e){let t=e.slice(0,20);t.length===20&&(e=`${t.slice(0,17)}...`)}super(e?`Cannot parse unknown value (${e}).`:"Cannot parse unknown value")}},vn=ws,_s=class extends Error{constructor(e=""){super(e?`Cannot procces untrimmed value ("${e}").`:"Cannot procces untrimmed value")}},yn=_s,bn=Z.fromRegex(vs).assertStarting().build().toMatcher(),mn=Z.fromRegex(Zt).assertStarting().build().toMatcher();function Ss(e){return ys.test(e)?{range:[0,0],match:[""]}:null}function $n(e){return e.startsWith("undefined")?{range:[0,9],match:["undefined"]}:null}function wn(e){return e.startsWith("null")?{range:[0,4],match:["null"]}:null}function _n(e){return e.startsWith("true")?{range:[0,4],match:["true"]}:e.startsWith("false")?{range:[0,5],match:["false"]}:null}function Sn(e){let t=e[0];if(t!=='"'&&t!=="'"&&t!=="`")return null;let r=e.slice(1).indexOf(t);return r===-1?null:(r+=2,{range:[0,r],match:[e.slice(0,r)]})}function Os(e){if(!e.startsWith("{"))return null;let t=0;for(let r=0;r<e.length;r+=1){let n=e[r];if(n==="{"?t+=1:n==="}"&&(t-=1),t===0){let a=r+1;return{range:[0,a],match:[e.slice(0,a)]}}}return null}function On(e){if(!e.startsWith("["))return null;let t=0;for(let r=0;r<e.length;r+=1){let n=e[r];if(n==="["?t+=1:n==="]"&&(t-=1),t===0){let a=r+1;return{range:[0,a],match:[e.slice(0,a)]}}}return null}function se(e,t){let r=0,n=!1,a=null;for(let s=0;s<e.length;s+=1){let i=e[s]||w(),o=i==='"'||i==="'"||i==="`",l=!1,u=!1;if(i==="{"||i==="["?(r+=1,l=!0):i==="}"||i==="]"?(r-=1,u=!0):!n&&o?(r+=1,n=!0,a=i,l=!0):n&&i===a&&(r-=1,n=!1,a=null,u=!0),t(i,s,r,l,u)===ae)break}}var xs=Z.fromRegex(bs).assertStarting().build().toMatcher(),js=Z.fromRegex(ms).assertStarting().build().toMatcher();function xn(e){e=e.trim();let t=e,{value:r,type:n,end:a}=Ts(e);e=e.slice(a).trim();let s=null,i=xs(e);if(i){let{match:l,range:u}=i;s=l[1]||w(),e=e.slice(u[1]).trim()}let o=[];for(;e.length>0;){e[0]===")"&&(e=e.slice(1));let{match:l,range:u}=js(e)||{};if(!l?.[1]||!u)break;if(e=e.slice(u[1]).trim(),!l[2]){o.push({name:l[1],args:[]});continue}let{args:p,end:f}=As(e);e=e.slice(f).trim(),o.push({name:l[1],args:p})}return{raw:t,value:r,type:n,alias:s,formatters:o}}function ue(e){let t=[];e=e.trim();let{type:r,value:n,alias:a,formatters:s}=xn(e);for(let i of s)for(let o of i.args)for(let l of ue(o))t.push(l);switch(r){case 4:{t.push(a||n);break}case 6:{let i="",o=!0;se(e,(l,u,p,f)=>{if(p===0){for(let h of ue(i))t.push(h);return ae}if(o){if(f&&l==="{"||/\s/.test(l))return null;if(l===":")return o=!1,null}else if(l===","){for(let h of ue(i))t.push(h);return i="",o=!0,null}return o||(i+=l),null});break}case 7:{let i="";se(e,(o,l,u,p)=>{if(u===0){for(let f of ue(i))t.push(f);return ae}if(p&&o==="[")return null;if(o===","){for(let f of ue(i))t.push(f);return i="",null}return i+=o,null});break}}return t}function Ts(e){if(/^\s+\S/.test(e))throw new yn(e);let t=Ss(e);if(t)return{value:"undefined",type:0,end:t.range[1]};if(t=$n(e),t)return{value:t.match[0]||w(),type:0,end:t.range[1]};if(t=wn(e),t)return{value:t.match[0]||w(),type:1,end:t.range[1]};if(t=_n(e),t)return{value:t.match[0]||w(),type:2,end:t.range[1]};if(t=bn(e),t)return{value:t.match[0]||w(),type:3,end:t.range[1]};if(t=mn(e),t)return{value:t.match[0]||w(),type:4,end:t.range[1]};if(t=Sn(e),t)return{value:t.match[0]||w(),type:5,end:t.range[1]};if(t=Os(e),t)return{value:t.match[0]||w(),type:6,end:t.range[1]};if(t=On(e),t)return{value:t.match[0]||w(),type:7,end:t.range[1]};throw new vn(e)}function As(e){let t={args:[],end:0},r="",n=!1;return se(e,(a,s,i)=>(a==="("&&(n=!0),i>0?(r+=a,null):a===","?(t.args.push(r.trim()),r="",null):a===")"?(n&&(r+=a),t.args.push(r.trim()),t.end=s+1,r="",ae):(r+=a,null))),t}function Cs(e,t,r,n,a,s){let i;switch(r){case 0:{i=void 0;break}case 1:{i=null;break}case 2:{if(e==="true"){i=!0;break}if(e==="false"){i=!1;break}}case 3:{i=e.includes(".")?Number.parseFloat(e):Number.parseInt(e,10);break}case 4:{if(t){i=a[t];break}i=a[e];break}case 5:{i=e.slice(1,-1);break}case 6:{i=Ps(e,a,s);break}case 7:{i=Ls(e,a,s);break}default:throw new vn(e)}for(let{name:o,args:l}of n){let u=s[o];if(!u)return;let p=l.map(f=>new de(f,a,s).value);i=u(i,...p)}return i}function Ps(e,t,r){let n={},a="",s="",i=!0;return se(e,(o,l,u,p)=>{if(u===0)return n[a]=new de(s,t,r).value,ae;if(u===1){if(i){if(p||/\s/.test(o))return null;if(o===":")return i=!1,null;a+=o}else if(o===",")return n[a]=new de(s,t,r).value,a="",s="",i=!0,null}return i||(s+=o),null}),n}function Ls(e,t,r){let n=[],a="";return se(e,(s,i,o,l)=>{if(o===0)return n.push(new de(a,t,r).value),ae;if(o===1){if(l)return null;if(s===",")return n.push(new de(a,t,r).value),a="",null}return a+=s,null}),n}var Es=class{raw;value;alias=null;constructor(e,t,r){let{raw:n,value:a,type:s,alias:i,formatters:o}=xn(e);this.raw=n,this.alias=i,this.value=Cs(a,i,s,o,t,r)}},de=Es,ks=class extends Error{constructor(e){super(e?`Variant priority must be of type number (found: (${e})).`:"Variant priority must be of type number.")}},Is=ks,Rs=class extends Error{constructor(e){super(e?`Invalid variant property key (${e}), it must be a valid variable name.`:"Invalid variant property value, it must be a valid variable name.")}},Ms=Rs,gr="undefined, null, number, string, boolean and flat arrays of these types.",Ds=class extends Error{constructor(e){super(e?`Invalid variant property value (${e}), accepted types are: ${gr}.`:`Invalid variant property value, accepted types are: ${gr}.`)}},st=Ds;function At(e){if(/^\s/.test(e))throw new yn(e);let t=$n(e);if(t)return{value:t.match[0]||w(),type:0,end:t.range[1]};if(t=wn(e),t)return{value:t.match[0]||w(),type:1,end:t.range[1]};if(t=_n(e),t)return{value:t.match[0]||w(),type:2,end:t.range[1]};if(t=bn(e),t)return{value:t.match[0]||w(),type:3,end:t.range[1]};if(t=Sn(e),t)return{value:t.match[0]||w(),type:5,end:t.range[1]};if(t=On(e),t)return{value:t.match[0]||w(),type:7,end:t.range[1]};throw new st(e)}function jn(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="number"||typeof e=="string"}function Ns(e){return Array.isArray(e)?e.every(t=>jn(t)):!1}function et(e,t){let r;switch(t){case 0:{r=void 0;break}case 1:{r=null;break}case 2:{if(e==="true"){r=!0;break}if(e==="false"){r=!1;break}}case 3:{r=e.includes(".")?Number.parseFloat(e):Number.parseInt(e,10);break}case 5:{r=e.slice(1,-1);break}case 7:{r=Fs(e);break}default:throw new st(e)}return r}function Fs(e){let t=[],r="";return se(e,(n,a,s,i)=>{if(s===0){let{value:o,type:l}=At(r.trim()),u=et(o,l);if(!jn(u))throw new st(r);return t.push(u),ae}if(s===1){if(i)return null;if(n===","){let{value:o,type:l}=At(r.trim());return t.push(et(o,l)),r="",null}}return r+=n,null}),t}var Gs="$priority",Tn=class{raw;priority;properties;value;constructor({raw:e,priority:t,properties:r,value:n}={}){this.raw=e||"",this.priority=t||0,this.properties=r||[],this.value=n||""}static fromString(e,t){let r=new Tn;r.value=t;let n=e.trim();r.raw=n;let a="",s="",i=!0;return se(n,(o,l,u)=>{let p=l===n.length-1;if(i)return/\s/.test(o)?null:o===":"?(i=!1,null):(a+=o,null);if(u>0)return s+=o,null;if(p&&(s+=o),o===","||p){let f=mn(a.trim())?.match[0];if(!f)throw new Ms(a);let{value:h,type:d}=At(s.trim());if(f===Gs){let y=et(h,d);if(typeof y!="number")throw new Is(h);return r.priority=y*.001,null}let g=et(h,d),v=Array.isArray(g)?g:[g];if(!Ns(v))throw new st(s);return r.properties.push({name:f,values:v}),a="",s="",i=!0,null}return s+=o,null}),r}calculateMatchingScore(e){let t=0;for(let{name:r,values:n}of this.properties){if(!Object.hasOwn(e,r))continue;let a=e[r],s=[];for(let i of n){if(typeof a=="number"&&typeof i=="number"){let o=a-i;if(o===0){s.push(1e3);continue}s.push(Math.abs(1e3/o)-1);continue}a===i&&s.push(1e3)}s.length!==0&&(t+=Math.max(...s))}return t>0?t+this.priority:t}},Ct=Tn,Ws=class extends Error{constructor(){super("Cannot use a variant on a key which value is not a string.")}},zs=Ws;function An(e,t="",r={}){for(let[n,a]of Object.entries(e)){if(typeof a=="string"){let{match:s,range:i}=dr.match(n)||{};if(!s?.[1]||!i){let l=`${t}${vt}${n}`.replace(/^\./,"");if(r[l]){r[l].default=a;continue}r[l]={default:a,variants:[]};continue}let o=`${t}${vt}${n.slice(0,i[0])+n.slice(i[1])}`.replace(/^\./,"");if(r[o]){r[o].variants.push(Ct.fromString(s[1],a));continue}r[o]={variants:[Ct.fromString(s[1],a)]};continue}if(dr.test(n))throw new zs;An(a,`${t}${vt}${n}`.replace(/^\./,""),r)}return r}function qs(e,t,r){let n=[];gn.exec(e,({match:s,range:i})=>{if(!s[1])return;let{value:o}=new de(s[1],t,r);n.push({value:Us(o),range:i})});let a=e;for(let s=n.length-1;s>=0;s-=1){let{value:i,range:o}=n[s]||w();a=a.slice(0,o[0])+i+a.slice(o[1])}return a}function Us(e){switch(typeof e){case"undefined":return"";case"string":return e;case"bigint":return e.toString();case"number":return e.toString();case"boolean":return e.toString();case"symbol":return`Symbol(${e.description})`||"Symbol";case"function":return e.name;case"object":return e?Object.hasOwn(e,"toString")&&typeof e.toString=="function"?e.toString():JSON.stringify(e,null,"	"):"";default:return""}}function Bs(e){for(let t of Object.values(e))for(let r of Object.values(t))for(let n of Object.values(r))n.variants=n.variants.map(a=>new Ct(a));return e}var Xt=new b(/\[(\.{3})?([\w-]+)]/),Hs=new b(/(?:https?:\/{2})?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b[\w#%&()+./:=?@~-]*/),Cn=class{#t={};#e;constructor(e={},t={}){this.#e=e,this.#t=t}static fromConfig({translations:e,translationLoadingRules:t}){return new Cn().addTranslations(e).addTranslationLoadingRules(t)}get(e,t,r,n="",a={},s={},i=!1){let o=this.#r(e,t,r,i);!o&&n&&n!==r&&(o=this.#r(e,t,n,i));let l={score:0,value:o?.default||e};for(let u of o?.variants||[]){let p=u.calculateMatchingScore(a);p>l.score&&(l.score=p,l.value=u.value)}return qs(l.value,a,s)}getRouteGroups(){return Object.keys(this.#e).filter(e=>e.startsWith("/"))}getParamRouteGroups(){return Object.keys(this.#e).filter(e=>e.startsWith("/")&&Xt.test(e))}getLocaleTranslationVariables(e){let t={};for(let r of Object.values(this.#e)){if(!r[e])continue;let n=Object.entries(r[e]||w());for(let[a,{default:s,variants:i}]of n){let o={interpolationVars:[],variantVars:[],isVariantRequired:!1},l=[];if(s===void 0?o.isVariantRequired=!0:l.push(s),i.length>0){let g={};for(let{value:v,properties:y}of i){l.push(v);for(let{name:_,values:T}of y)g[_]=[...g[_]||[],...T]}o.variantVars=Object.entries(g).map(([v,y])=>({name:v,values:y}))}for(let g of l)gn.exec(g,({match:v})=>{v[1]&&(o.interpolationVars=[...new Set([...o.interpolationVars,...ue(v[1])])])});if(!t[a]){t[a]=o;continue}let{interpolationVars:u,variantVars:p,isVariantRequired:f}=t[a]||{},h=[...new Set([...u||[],...o.interpolationVars])],d=[];for(let g of o.variantVars){let v=p?.find(y=>y.name===g.name);d.push(v?{name:g.name,values:[...new Set([...v?.values||[],...g.values])]}:g)}t[a]={interpolationVars:h,variantVars:d,isVariantRequired:(f||!1)&&o.isVariantRequired}}}return t}addTranslations(e){for(let[t,r]of Object.entries(e)){let n=Object.entries(r);if(n.length===0&&!this.#e[t]){this.#e[t]={};continue}for(let[a,s]of n)ke(this.#e,[t,a],An(s))}return this}addTranslationLoadingRules(e){if(e.length===0)return this;let{routes:t}=ts(this.#e);for(let r of e){let n=[];for(let a of r.groups){let s=b.fromString(a);n.push(...Object.keys(this.#e).filter(i=>s.test(i)))}for(let a of r.routes){let s=b.fromString(a),i=t.filter(o=>s.test(o));for(let o of i){if(!this.#t[o]){this.#t[o]=[...new Set(n)];continue}this.#t[o]=[...new Set([...this.#t[o]||w(),...n])]}}}return this}clear(){this.#t={},this.#e={}}toClientSideObject(e){let t={};if(this.#t[e])for(let r of this.#t[e]||w())t[r]=this.#e[r]||{};return this.#e[e]&&(t[e]=this.#e[e]||{}),this.#e[re]&&(t[re]=this.#e[re]||{}),t}toObject(){return{loadDirectives:this.#t,translations:this.#e}}toString(){return JSON.stringify(this.toObject(),null,"	")}#r(e,t,r,n=!1){let a=null;if(n){let s=this.getRouteGroups();for(let i of s)for(let o of this.#t[i]||[]){let l=this.#e[o]?.[r]?.[e];if(l){a=l;break}}if(!a)for(let i of s)this.#e[i]?.[r]?.[e]&&(a=this.#e[i]?.[r]?.[e]||w())}else{for(let s of this.#t[t]||[]){let i=this.#e[s]?.[r]?.[e];if(i){a=i;break}}!a&&this.#e[t]?.[r]?.[e]&&(a=this.#e[t]?.[r]?.[e]||w())}return!a&&this.#e[re]?.[r]?.[e]&&(a=this.#e[re]?.[r]?.[e]||w()),a}},Pt=Cn,Ks=class extends Error{constructor(e){super(e?`Invalid date (${e}).`:"Invalid date.")}},Js=Ks,Vs=class extends TypeError{constructor(e,t){e?super(t?`Invalid formatter (${t}) parameter: ${e}`:`Invalid formatter parameter: ${e}`):super(t?`Invalid formatter (${t}) parameter.`:"Invalid formatter parameter.")}},Me=Vs,Ys=class extends TypeError{constructor(e,t){e?super(t?`Invalid formatter (${t}) value: ${e}`:`Invalid formatter value: ${e}`):super(t?`Invalid formatter (${t}) value.`:"Invalid formatter value.")}},ve=Ys;function vr(e){if(typeof e!="string")throw new ve(`Received value is not a string, found "${e}".`,"upper");return e.toUpperCase()}function yr(e){if(typeof e!="string")throw new ve(`Received value is not a string, found "${e}".`,"lower");return e.toLowerCase()}function Zs(e){if(typeof e!="string")throw new ve(`Received value is not a string, found "${e}".`,"capitalize");return`${e.slice(0,1).toUpperCase()}${e.slice(1).toLowerCase()}`}function Xs(e,t){return e??t}function br(e,t){return e||t}function Qs(e,t){return typeof e=="string"?e:t}function ei(e,t=!0){if(typeof e=="symbol")throw new ve(`Received value cannot be a symbol, found "${e.toString()}".`,"json");if(typeof t!="boolean")throw new Me(`format must be a boolean, found "${t}".`,"json");return t?JSON.stringify(e,null,"	"):JSON.stringify(e)}function ti(e,t={},r=ge.locale){if(typeof e=="string"&&(e=Number.parseFloat(e)),!wa(e))throw new ve(`Received value is not a number, found "${e}".`,"intl_format_number");if(!O(t))throw new Me(`options must be an object, found "${t}".`,"intl_format_number");if(typeof r!="string")throw new Me(`locale must be a string, found "${r}".`,"intl_format_number");return new Intl.NumberFormat(r,t).format(e)}function ri(e,t={},r=ge.locale){if(typeof e!="string"&&typeof e!="number"&&!(e instanceof Date))throw new ve(`Received value is not a string, number or Date, found "${e}".`,"intl_format_date");if(e=e instanceof Date?e:new Date(e),!_a(e))throw new Js(e);if(!O(t))throw new Me(`options must be an object, found "${t}".`,"intl_format_date");if(typeof r!="string")throw new Me(`locale must be a string, found "${r}".`,"intl_format_date");return new Intl.DateTimeFormat(r,t)}var ni=Z.fromRegex($s).assertStarting().assertEnding().build().toMatcher();function ai(e){let t=ni(e.toString());if(!t)return{args:[],body:""};let[,r,n]=t.match;return{args:ii(r||""),body:oi(n||"")}}function si(e){let t={};for(let[r,n]of Object.entries(e))t[r]=new Function(...n.args,n.body);return t}function ii(e){return e.trim().split(",").map(t=>t.trim())}function oi(e){return e.trim().endsWith("}")?e.slice(0,-1):e}var li=class{#t={upper:vr,uppercase:vr,lower:yr,lowercase:yr,capitalize:Zs,json:ei,default_nullish:Xs,default:br,default_falsy:br,default_non_string:Qs,intl_format_number:ti,intl_format_date:ri};#e;#r;constructor(e={}){this.#e=e,this.#r={...this.#t,...this.#e}}get default(){return this.#t}get custom(){return this.#e}addFormaters(e){for(let[t,r]of Object.entries(e))this.#r[t]||(this.#r[t]=r,this.#e[t]=r);return this}clear(){this.#e={},this.#r={}}toClientSideObject(){let e={};for(let[t,r]of Object.entries(this.#e))e[t]=ai(r);return e}toObject(){return this.#r}toString(){return JSON.stringify(this.toObject(),null,"	")}},Lt=li,ui=class extends Error{constructor(e){super(e?`Invalid environment: ${e}`:"Invalid environment.")}},ci=ui,Pn=class{#t;#e;constructor(e={},t=""){this.#e=e,this.#t=t}static fromConfig({routes:e,primaryLocale:t}){return new Pn({},t).addSegments(e)}get(e,t,r){return this.#e[t]?.[e]?.[r]||null}getSegmentLocales(e){let t=[];for(let[r,n]of Object.entries(this.#e))n[e]&&t.push(r);return t}addSegments(e){let t=Object.entries(e);for(let[r,n]of t){let a=t.filter(([s])=>s!==r&&s!==this.#t);for(let[s,i]of Object.entries(n)){ke(this.#e,[this.#t,s,r],i),ke(this.#e,[r,i,this.#t],s);for(let[o,l]of a)l[s]&&ke(this.#e,[r,i,o],l[s])}}return this}clear(){this.#t="",this.#e={}}toClientSideObject(){return{...this.#e}}toObject(){return{primaryLocale:this.#t,segments:this.#e}}toString(){return JSON.stringify(this.toObject(),null,"	")}},Et=Pn,fi=class extends Error{constructor(){super("Cannot initialize astro-i18n, it already has been initialized.")}},hi=fi,pi=class extends Error{constructor(e){super(e?`Cannot use filesystem: ${e}`:"Cannot use filesystem.")}},di=pi,gi=class extends Error{constructor(){super(`Could not find the serialized ${Y} state in the DOM. Check your ${Y} config.`)}},vi=gi;function yi(e){if(!O(e))return!1;for(let t of Object.values(e)){if(!O(t))return!1;for(let r of Object.values(t)){if(!O(r))return!1;for(let n of Object.values(r))if(typeof n!="string")return!1}}return!0}function bi(e){if(!O(e))return!1;for(let t of Object.values(e)){if(!O(t))return!1;let r=Object.entries(t);if(r.length<2)return!1;for(let[n,a]of r)switch(n){case"args":{if(!Re(a))return!1;break}case"body":{if(typeof a!="string")return!1;break}}}return!0}function mi(e){if(!O(e))return!1;for(let t of Object.values(e)){if(!O(t))return!1;for(let r of Object.values(t))if(!$i(r))return!1}return!0}function $i(e){if(!O(e))return!1;for(let t of Object.values(e)){if(!O(t))return!1;for(let[r,n]of Object.entries(t))switch(r){case"default":{if(typeof n!="string")return!1;break}case"variants":{if(!Ne(n)||!n.every(a=>wi(a)))return!1;break}default:return!1}}return!0}function wi(e){if(!O(e))return!1;let t=Object.entries(e);if(t.length<4)return!1;for(let[r,n]of t)switch(r){case"raw":{if(typeof n!="string")return!1;break}case"priority":{if(typeof n!="number")return!1;break}case"properties":{if(!Ne(n)||!n.every(a=>_i(a)))return!1;break}case"value":{if(typeof n!="string")return!1;break}default:return!1}return!0}function _i(e){if(!O(e))return!1;let t=Object.entries(e);if(t.length<2)return!1;for(let[r,n]of t)switch(r){case"name":{if(typeof n!="string")return!1;break}case"values":{if(!Ne(n)||!n.every(a=>typeof a=="boolean"||typeof a=="string"||typeof a=="number"||a==null))return!1;break}default:return!1}return!0}function Si(e){if(!O(e))return!1;let t=Object.entries(e);if(t.length<5)return!1;for(let[r,n]of t)switch(r){case"locale":{if(typeof n!="string")return!1;break}case"route":{if(typeof n!="string")return!1;break}case"config":{if(!hs(n))return!1;break}case"translations":{if(!mi(n))return!1;break}case"segments":{if(!yi(n))return!1;break}case"formatters":{if(!bi(n))return!1;break}default:return!1}return!0}function mr(e){return Hs.test(e)}function Oi(e){let t="",r=0;return Xt.exec(e,({match:n,range:[a,s]})=>{if(t+=e.slice(r,a),!n[2]){r=s;return}t+=n[1]?"[\\w/-]+":"[\\w-]+",r=s}),t+=e.slice(r),b.fromString(t.replaceAll("/","\\/"))}var xi=class extends Error{constructor(){super("Cannot perform operation, astro-i18n is not initialized.")}},$r=xi,ji=class extends Error{constructor(){super("Could not redirect, is this code running in the server ?")}},Ti=ji,ze,Q,K,J,A,E,R,W,F,V,ee,N,he,kt,Ln,It,En,Rt,kn,Mt,In,Dt,Rn,Pe,Je,Ve,Nt,Ye,Ft,Le,Ze,Xe,Gt,Wt,Mn,zt,Dn,qt=class{constructor(){m(this,kt),m(this,It),m(this,Rt),m(this,Mt),m(this,Dt),m(this,Pe),m(this,Ve),m(this,Ye),m(this,Le),m(this,Xe),m(this,Wt),m(this,zt),m(this,Q,void 0),m(this,K,""),m(this,J,""),m(this,A,new Ce),m(this,E,new Pt),m(this,R,new Et),m(this,W,new Lt),m(this,F,!1),m(this,V,!1),m(this,ee,{}),m(this,N,null),m(this,he,""),typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"?$(this,Q,le.NODE):typeof window>"u"?$(this,Q,le.NONE):($(this,Q,le.BROWSER),c(this,A).run==="client+server"&&x(this,kt,Ln).call(this))}get environment(){return c(this,Q).toString()}get route(){return c(this,V)?"":c(this,J)}set route(e){mr(e)&&(e=new URL(e).pathname),e=decodeURI(e);let{locale:t,route:r}=x(this,Le,Ze).call(this,e);$(this,J,r),$(this,K,t||x(this,Ye,Ft).call(this,x(this,Xe,Gt).call(this,r))||this.primaryLocale)}get pages(){return c(this,E).getRouteGroups()}get page(){return x(this,Pe,Je).call(this,this.route)}get locale(){return c(this,K)}get locales(){return[c(this,A).primaryLocale,...c(this,A).secondaryLocales]}get primaryLocale(){return c(this,A).primaryLocale}get secondaryLocales(){return c(this,A).secondaryLocales}get fallbackLocale(){return c(this,A).fallbackLocale}get isInitialized(){return c(this,F)}get internals(){return{toHtml:x(this,Wt,Mn).bind(this),config:c(this,A),segments:c(this,R),translations:c(this,E),splitLocaleAndRoute:x(this,Le,Ze).bind(this),toString:x(this,zt,Dn).bind(this),waitInitialization:x(this,It,En).bind(this),setPrivateProperties:x(this,Dt,Rn).bind(this),reinitalize:x(this,Rt,kn).bind(this),getAndClearRedirection:x(this,Mt,In).bind(this)}}t(e,t={},r={}){if(!c(this,F))throw new $r;let{route:n,locale:a,fallbackLocale:s}=r;if(c(this,V))return c(this,E).get(e,"",a||this.locale,s||this.fallbackLocale,t,c(this,W).toObject(),!0);let i=n?x(this,Pe,Je).call(this,n):x(this,Pe,Je).call(this,this.route);return c(this,E).get(e,i||"",a||this.locale,s||this.fallbackLocale,t,c(this,W).toObject())}l(e,t={},r={}){if(!c(this,F))throw new $r;let{targetLocale:n,routeLocale:a,showPrimaryLocale:s,query:i}=r,o=x(this,Xe,Gt).call(this,decodeURI(e)),l=this.locales.includes(o[0]||"")&&o.shift()||"",u=a||l||x(this,Ye,Ft).call(this,o)||this.primaryLocale,p=n||this.locale,f=o.map(v=>c(this,R).get(v,u,p)||v).join("/"),h=Object.entries(t);if(h.length>0)for(let[v,y]of h)f=f.replace(`[${v}]`,String(y).replace("/",""));if((s===void 0?c(this,A).showPrimaryLocale||p!==this.primaryLocale:s)&&(f=f?`${p}/${f}`:p),c(this,A).trailingSlash==="always"&&(f+="/"),f=f.startsWith("/")?f:`/${f}`,!i)return f;let d={};for(let[v,y]of Object.entries(i))d[v]=String(y);let g=new URLSearchParams(d).toString();return g?`${f}?${g}`:f}addTranslations(e){return c(this,E).addTranslations(e),x(this,Ve,Nt).call(this),this}addFormatters(e){return c(this,W).addFormaters(e),this}addTranslationLoadingRules(e){return c(this,E).addTranslationLoadingRules(e),this}addRoutes(e){return c(this,R).addSegments(e),x(this,Ve,Nt).call(this),this}extractRouteLocale(e){return x(this,Le,Ze).call(this,e).locale}redirect(e,t=301){if(this.environment===le.BROWSER)throw new Ti;if(typeof e=="string"){let r=mr(e)?new URL(e):new URL(`${c(this,he)}/${e.replace(/^\//,"")}`);$(this,N,Response.redirect(r,t));return}$(this,N,Response.redirect(e,t))}async initialize(e=void 0,t={}){if(c(this,F))throw new hi;switch(c(this,Q)){case le.NODE:{$(this,A,typeof e=="object"?await new Ce(e).loadFilesystemTranslations():await Ce.fromFilesystem(e));break}case le.NONE:{if(typeof e=="string")throw new di("Cannot load config from filesystem in a non-node environment.");$(this,A,new Ce(e||{}));break}default:throw new ci("Cannot initialize in a browser environment.")}$(this,E,Pt.fromConfig(c(this,A))),$(this,R,Et.fromConfig(c(this,A))),$(this,W,new Lt(t)),$(this,F,!0)}},Nn=qt;ze=new WeakMap,Q=new WeakMap,K=new WeakMap,J=new WeakMap,A=new WeakMap,E=new WeakMap,R=new WeakMap,W=new WeakMap,F=new WeakMap,V=new WeakMap,ee=new WeakMap,N=new WeakMap,he=new WeakMap,kt=new WeakSet,Ln=function(){let e=document.querySelector(`#${c(qt,ze)}`);if(!e||!e.textContent)throw new vi;let t=JSON.parse(e.textContent);De(t,Si),$(this,K,t.locale),$(this,J,t.route),$(this,A,new Ce(t.config)),$(this,E,new Pt(Bs(t.translations))),$(this,R,new Et(t.segments,t.config.primaryLocale)),$(this,W,new Lt(si(t.formatters))),$(this,F,!0),e.remove()},It=new WeakSet,En=async function(){let e=t=>{c(this,F)?t():setTimeout(()=>e(t),25)};return new Promise(e)},Rt=new WeakSet,kn=async function(e=void 0,t={}){$(this,F,!1),c(this,E).clear(),c(this,R).clear(),c(this,W).clear(),await this.initialize(e,t)},Mt=new WeakSet,In=function(){let e=c(this,N);return $(this,N,null),e},Dt=new WeakSet,Rn=function(e={}){let{route:t,locale:r,isGetStaticPaths:n,origin:a}={route:c(this,J),locale:c(this,K),isGetStaticPaths:c(this,V),origin:c(this,he),...e};$(this,J,t),$(this,K,r),$(this,V,n),$(this,he,a)},Pe=new WeakSet,Je=function(e){if(c(this,V))return null;if(c(this,ee)[e])return c(this,ee)[e]||w();let t=this.l(e,void 0,{targetLocale:this.primaryLocale});if(this.pages.includes(t))return t;let r=null;for(let n of this.pages)if(Xt.test(n)&&Oi(n).test(e)){r=n;break}return!r||!this.pages.includes(r)?null:(c(this,ee)[e]=r,r)},Ve=new WeakSet,Nt=function(){$(this,ee,{})},Ye=new WeakSet,Ft=function(e){let t={};for(let n of e)for(let a of c(this,R).getSegmentLocales(n))t[a]||(t[a]=0),t[a]+=1;let r={locale:"",score:0,isExAequo:!0};for(let[n,a]of Object.entries(t)){if(a>r.score){r.locale=n,r.score=a,r.isExAequo=!1;continue}a===r.score&&(r.isExAequo=!0)}return r.isExAequo?null:r.locale||null},Le=new WeakSet,Ze=function(e){e.startsWith("/")||(e=`/${e}`);let t=b.fromString(`\\/(${this.locales.join("|")})(?:\\/.*)?$`),{match:r}=t.match(e)||{},n=r?.[1]||null;return{locale:n,route:n?e.replace(`/${n}`,"").replace(/\/$/,"")||"/":e.replace(/\/$/,"")||"/"}},Xe=new WeakSet,Gt=function(e){return e.replace(/^\//,"").replace(/\/$/,"").split("/")},Wt=new WeakSet,Mn=function(){let e={locale:c(this,K),route:c(this,J),config:c(this,A).toClientSideObject(),translations:c(this,E).toClientSideObject(this.route),segments:c(this,R).toClientSideObject(),formatters:c(this,W).toClientSideObject()};return`<script id="${c(qt,ze)}" type="application/json">${JSON.stringify(e)}<\/script>`},zt=new WeakSet,Dn=function(){let e={};for(let[t,r]of Object.entries(c(this,W).toObject()))e[t]=r.name;return JSON.stringify({environment:this.environment,route:this.route,locale:this.locale,locales:this.locales,primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,isInitialized:this.isInitialized,"#redirection":c(this,N)instanceof Response?{url:c(this,N).url,status:c(this,N).status}:c(this,N),"#origin":c(this,he),"#isGetStaticPaths":c(this,V),"#routePageCache":c(this,ee),"#config":c(this,A).toObject(),"#translations":c(this,E).toObject(),"#segments":c(this,R).toObject(),"#formatters":e},null,"	")},m(Nn,ze,`__${Y}__`);var Ai=Nn,ge=new Ai,Ci=ge.t.bind(ge);ge.l.bind(ge);function tt(e,t){return Ci(e,t)}const Pi=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"],Li="single-direction";function bt(e){return G(Xr,{get each(){return Object.entries(e.object)},children:(t,r)=>r()>0?[e.separator,e.children(t[0],t[1])]:e.children(t[0],t[1])})}function Ei(e){const t={};for(const r of e)ki(t,r);return t}function ki(e,t){const r=mt(e,t.execution,$t),n=mt(r,t.attack,$t),a=mt(n,t.defence,$t);a[t.direction]=t.metadata}function mt(e,t,r){const n=e[t];if(n!=null)return n;const a=r();return e[t]=a,a}function $t(){return{}}var Ii=M('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3M8 5h8v3H8zm8 12v2H8v-4h8zm2-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4z"></path><circle cx=18 cy=11.5 r=1>');const Ri=(e={})=>(()=>{var t=k(Ii);return ua(t,e,!0,!0),Vt(),t})();var Mi=M('<div><div class="flex justify-end"><button class="flex items-center bg-secondary-light p-2 text-sm print:hidden hover:bg-secondary"><!$><!/> <!$><!/></button></div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),Di=M('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),Ni=M('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),Fi=M("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),Gi=M('<span class="text-sm text-secondary">( <!$><!/> )'),wr=M("<span>");const Wi=e=>(()=>{var t=k(Mi),r=t.firstChild,n=r.firstChild,a=n.firstChild,[s,i]=ne(a.nextSibling),o=s.nextSibling,l=o.nextSibling,[u,p]=ne(l.nextSibling),f=r.nextSibling,[h,d]=ne(f.nextSibling),g=h.nextSibling;return n.$$click=()=>window.print(),j(n,G(Ri,{class:"me-1 "}),s,i),j(n,()=>tt("examChooser.print"),u,p),j(t,G(bt,{get object(){return Ei(e.techniques)},children:(v,y)=>(()=>{var _=k(Di),T=_.firstChild,X=T.nextSibling;return j(T,v),j(X,G(bt,{object:y,children:(P,I)=>(()=>{var _e=k(Ni),Se=_e.firstChild,Oe=Se.nextSibling;return j(Se,P),j(Oe,G(bt,{object:I,children:(ht,pt)=>(()=>{var L=k(Fi),oe=L.firstChild,D=oe.nextSibling,B=D.nextSibling,[oa,la]=ne(B.nextSibling);return j(oe,ht),j(L,G(zi,{directions:pt}),oa,la),L})()})),_e})()})),_})()}),h,d),j(g,()=>tt("examChooser.created-by",{url:window.location.origin})),Vt(),t})(),zi=e=>{const t=Object.keys(e.directions);return t.length===1&&t[0]===Li?null:(()=>{var r=k(Gi),n=r.firstChild,a=n.nextSibling,[s,i]=ne(a.nextSibling);return s.nextSibling,j(r,G(Xr,{each:t,children:(o,l)=>l()>0?[", ",(()=>{var u=k(wr);return j(u,o),u})()]:(()=>{var u=k(wr);return j(u,o),u})()}),s,i),r})()};Qr(["click"]);function qi(e){const t=[];for(const r of e)for(const[n,a]of qe(r.techniques))for(const[s,i]of qe(a))for(const[o,l]of qe(i))for(const[u,p]of qe(l))t.push({execution:n,attack:s,defence:o,direction:u,metadata:p});return t}const qe=Object.entries;var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Bi=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,Fn=Bi,Hi=Fn,Ki=typeof self=="object"&&self&&self.Object===Object&&self,Ji=Hi||Ki||Function("return this")(),q=Ji,Vi=q,Yi=Vi.Symbol,it=Yi,_r=it,Gn=Object.prototype,Zi=Gn.hasOwnProperty,Xi=Gn.toString,je=_r?_r.toStringTag:void 0;function Qi(e){var t=Zi.call(e,je),r=e[je];try{e[je]=void 0;var n=!0}catch{}var a=Xi.call(e);return n&&(t?e[je]=r:delete e[je]),a}var eo=Qi,to=Object.prototype,ro=to.toString;function no(e){return ro.call(e)}var ao=no,Sr=it,so=eo,io=ao,oo="[object Null]",lo="[object Undefined]",Or=Sr?Sr.toStringTag:void 0;function uo(e){return e==null?e===void 0?lo:oo:Or&&Or in Object(e)?so(e):io(e)}var Ge=uo;function co(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qt=co,fo=Ge,ho=Qt,po="[object AsyncFunction]",go="[object Function]",vo="[object GeneratorFunction]",yo="[object Proxy]";function bo(e){if(!ho(e))return!1;var t=fo(e);return t==go||t==vo||t==po||t==yo}var Wn=bo,mo=q,$o=mo["__core-js_shared__"],wo=$o,wt=wo,xr=function(){var e=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _o(e){return!!xr&&xr in e}var So=_o,Oo=Function.prototype,xo=Oo.toString;function jo(e){if(e!=null){try{return xo.call(e)}catch{}try{return e+""}catch{}}return""}var zn=jo,To=Wn,Ao=So,Co=Qt,Po=zn,Lo=/[\\^$.*+?()[\]{}|]/g,Eo=/^\[object .+?Constructor\]$/,ko=Function.prototype,Io=Object.prototype,Ro=ko.toString,Mo=Io.hasOwnProperty,Do=RegExp("^"+Ro.call(Mo).replace(Lo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function No(e){if(!Co(e)||Ao(e))return!1;var t=To(e)?Do:Eo;return t.test(Po(e))}var Fo=No;function Go(e,t){return e?.[t]}var Wo=Go,zo=Fo,qo=Wo;function Uo(e,t){var r=qo(e,t);return zo(r)?r:void 0}var ie=Uo,Bo=ie,Ho=function(){try{var e=Bo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ko=Ho,jr=Ko;function Jo(e,t,r){t=="__proto__"&&jr?jr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Vo=Jo;function Yo(e,t,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;){var i=e[a];t(n,i,r(i),e)}return n}var Zo=Yo;function Xo(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(r(s[l],l,s)===!1)break}return t}}var Qo=Xo,el=Qo,tl=el(),rl=tl;function nl(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var al=nl;function sl(e){return e!=null&&typeof e=="object"}var We=sl,il=Ge,ol=We,ll="[object Arguments]";function ul(e){return ol(e)&&il(e)==ll}var cl=ul,Tr=cl,fl=We,qn=Object.prototype,hl=qn.hasOwnProperty,pl=qn.propertyIsEnumerable,dl=Tr(function(){return arguments}())?Tr:function(e){return fl(e)&&hl.call(e,"callee")&&!pl.call(e,"callee")},Un=dl,gl=Array.isArray,U=gl,rt={exports:{}};function vl(){return!1}var yl=vl;rt.exports;(function(e,t){var r=q,n=yl,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(rt,rt.exports);var Bn=rt.exports,bl=9007199254740991,ml=/^(?:0|[1-9]\d*)$/;function $l(e,t){var r=typeof e;return t=t??bl,!!t&&(r=="number"||r!="symbol"&&ml.test(e))&&e>-1&&e%1==0&&e<t}var Hn=$l,wl=9007199254740991;function _l(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wl}var er=_l,Sl=Ge,Ol=er,xl=We,jl="[object Arguments]",Tl="[object Array]",Al="[object Boolean]",Cl="[object Date]",Pl="[object Error]",Ll="[object Function]",El="[object Map]",kl="[object Number]",Il="[object Object]",Rl="[object RegExp]",Ml="[object Set]",Dl="[object String]",Nl="[object WeakMap]",Fl="[object ArrayBuffer]",Gl="[object DataView]",Wl="[object Float32Array]",zl="[object Float64Array]",ql="[object Int8Array]",Ul="[object Int16Array]",Bl="[object Int32Array]",Hl="[object Uint8Array]",Kl="[object Uint8ClampedArray]",Jl="[object Uint16Array]",Vl="[object Uint32Array]",S={};S[Wl]=S[zl]=S[ql]=S[Ul]=S[Bl]=S[Hl]=S[Kl]=S[Jl]=S[Vl]=!0;S[jl]=S[Tl]=S[Fl]=S[Al]=S[Gl]=S[Cl]=S[Pl]=S[Ll]=S[El]=S[kl]=S[Il]=S[Rl]=S[Ml]=S[Dl]=S[Nl]=!1;function Yl(e){return xl(e)&&Ol(e.length)&&!!S[Sl(e)]}var Zl=Yl;function Xl(e){return function(t){return e(t)}}var Ql=Xl,nt={exports:{}};nt.exports;(function(e,t){var r=Fn,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o})(nt,nt.exports);var eu=nt.exports,tu=Zl,ru=Ql,Ar=eu,Cr=Ar&&Ar.isTypedArray,nu=Cr?ru(Cr):tu,Kn=nu,au=al,su=Un,iu=U,ou=Bn,lu=Hn,uu=Kn,cu=Object.prototype,fu=cu.hasOwnProperty;function hu(e,t){var r=iu(e),n=!r&&su(e),a=!r&&!n&&ou(e),s=!r&&!n&&!a&&uu(e),i=r||n||a||s,o=i?au(e.length,String):[],l=o.length;for(var u in e)(t||fu.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lu(u,l)))&&o.push(u);return o}var pu=hu,du=Object.prototype;function gu(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||du;return e===r}var vu=gu;function yu(e,t){return function(r){return e(t(r))}}var bu=yu,mu=bu,$u=mu(Object.keys,Object),wu=$u,_u=vu,Su=wu,Ou=Object.prototype,xu=Ou.hasOwnProperty;function ju(e){if(!_u(e))return Su(e);var t=[];for(var r in Object(e))xu.call(e,r)&&r!="constructor"&&t.push(r);return t}var Tu=ju,Au=Wn,Cu=er;function Pu(e){return e!=null&&Cu(e.length)&&!Au(e)}var Jn=Pu,Lu=pu,Eu=Tu,ku=Jn;function Iu(e){return ku(e)?Lu(e):Eu(e)}var tr=Iu,Ru=rl,Mu=tr;function Du(e,t){return e&&Ru(e,t,Mu)}var Nu=Du,Fu=Jn;function Gu(e,t){return function(r,n){if(r==null)return r;if(!Fu(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var Wu=Gu,zu=Nu,qu=Wu,Uu=qu(zu),Bu=Uu,Hu=Bu;function Ku(e,t,r,n){return Hu(e,function(a,s,i){t(n,a,r(a),i)}),n}var Ju=Ku;function Vu(){this.__data__=[],this.size=0}var Yu=Vu;function Zu(e,t){return e===t||e!==e&&t!==t}var Vn=Zu,Xu=Vn;function Qu(e,t){for(var r=e.length;r--;)if(Xu(e[r][0],t))return r;return-1}var ot=Qu,ec=ot,tc=Array.prototype,rc=tc.splice;function nc(e){var t=this.__data__,r=ec(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rc.call(t,r,1),--this.size,!0}var ac=nc,sc=ot;function ic(e){var t=this.__data__,r=sc(t,e);return r<0?void 0:t[r][1]}var oc=ic,lc=ot;function uc(e){return lc(this.__data__,e)>-1}var cc=uc,fc=ot;function hc(e,t){var r=this.__data__,n=fc(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pc=hc,dc=Yu,gc=ac,vc=oc,yc=cc,bc=pc;function ye(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ye.prototype.clear=dc;ye.prototype.delete=gc;ye.prototype.get=vc;ye.prototype.has=yc;ye.prototype.set=bc;var lt=ye,mc=lt;function $c(){this.__data__=new mc,this.size=0}var wc=$c;function _c(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Sc=_c;function Oc(e){return this.__data__.get(e)}var xc=Oc;function jc(e){return this.__data__.has(e)}var Tc=jc,Ac=ie,Cc=q,Pc=Ac(Cc,"Map"),rr=Pc,Lc=ie,Ec=Lc(Object,"create"),ut=Ec,Pr=ut;function kc(){this.__data__=Pr?Pr(null):{},this.size=0}var Ic=kc;function Rc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mc=Rc,Dc=ut,Nc="__lodash_hash_undefined__",Fc=Object.prototype,Gc=Fc.hasOwnProperty;function Wc(e){var t=this.__data__;if(Dc){var r=t[e];return r===Nc?void 0:r}return Gc.call(t,e)?t[e]:void 0}var zc=Wc,qc=ut,Uc=Object.prototype,Bc=Uc.hasOwnProperty;function Hc(e){var t=this.__data__;return qc?t[e]!==void 0:Bc.call(t,e)}var Kc=Hc,Jc=ut,Vc="__lodash_hash_undefined__";function Yc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Jc&&t===void 0?Vc:t,this}var Zc=Yc,Xc=Ic,Qc=Mc,ef=zc,tf=Kc,rf=Zc;function be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}be.prototype.clear=Xc;be.prototype.delete=Qc;be.prototype.get=ef;be.prototype.has=tf;be.prototype.set=rf;var nf=be,Lr=nf,af=lt,sf=rr;function of(){this.size=0,this.__data__={hash:new Lr,map:new(sf||af),string:new Lr}}var lf=of;function uf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cf=uf,ff=cf;function hf(e,t){var r=e.__data__;return ff(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ct=hf,pf=ct;function df(e){var t=pf(this,e).delete(e);return this.size-=t?1:0,t}var gf=df,vf=ct;function yf(e){return vf(this,e).get(e)}var bf=yf,mf=ct;function $f(e){return mf(this,e).has(e)}var wf=$f,_f=ct;function Sf(e,t){var r=_f(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Of=Sf,xf=lf,jf=gf,Tf=bf,Af=wf,Cf=Of;function me(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}me.prototype.clear=xf;me.prototype.delete=jf;me.prototype.get=Tf;me.prototype.has=Af;me.prototype.set=Cf;var nr=me,Pf=lt,Lf=rr,Ef=nr,kf=200;function If(e,t){var r=this.__data__;if(r instanceof Pf){var n=r.__data__;if(!Lf||n.length<kf-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ef(n)}return r.set(e,t),this.size=r.size,this}var Rf=If,Mf=lt,Df=wc,Nf=Sc,Ff=xc,Gf=Tc,Wf=Rf;function $e(e){var t=this.__data__=new Mf(e);this.size=t.size}$e.prototype.clear=Df;$e.prototype.delete=Nf;$e.prototype.get=Ff;$e.prototype.has=Gf;$e.prototype.set=Wf;var Yn=$e,zf="__lodash_hash_undefined__";function qf(e){return this.__data__.set(e,zf),this}var Uf=qf;function Bf(e){return this.__data__.has(e)}var Hf=Bf,Kf=nr,Jf=Uf,Vf=Hf;function at(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kf;++t<r;)this.add(e[t])}at.prototype.add=at.prototype.push=Jf;at.prototype.has=Vf;var Yf=at;function Zf(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xf=Zf;function Qf(e,t){return e.has(t)}var eh=Qf,th=Yf,rh=Xf,nh=eh,ah=1,sh=2;function ih(e,t,r,n,a,s){var i=r&ah,o=e.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var f=-1,h=!0,d=r&sh?new th:void 0;for(s.set(e,t),s.set(t,e);++f<o;){var g=e[f],v=t[f];if(n)var y=i?n(v,g,f,t,e,s):n(g,v,f,e,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!rh(t,function(_,T){if(!nh(d,T)&&(g===_||a(g,_,r,n,s)))return d.push(T)})){h=!1;break}}else if(!(g===v||a(g,v,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Zn=ih,oh=q,lh=oh.Uint8Array,uh=lh;function ch(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var fh=ch;function hh(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ph=hh,Er=it,kr=uh,dh=Vn,gh=Zn,vh=fh,yh=ph,bh=1,mh=2,$h="[object Boolean]",wh="[object Date]",_h="[object Error]",Sh="[object Map]",Oh="[object Number]",xh="[object RegExp]",jh="[object Set]",Th="[object String]",Ah="[object Symbol]",Ch="[object ArrayBuffer]",Ph="[object DataView]",Ir=Er?Er.prototype:void 0,_t=Ir?Ir.valueOf:void 0;function Lh(e,t,r,n,a,s,i){switch(r){case Ph:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ch:return!(e.byteLength!=t.byteLength||!s(new kr(e),new kr(t)));case $h:case wh:case Oh:return dh(+e,+t);case _h:return e.name==t.name&&e.message==t.message;case xh:case Th:return e==t+"";case Sh:var o=vh;case jh:var l=n&bh;if(o||(o=yh),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=mh,i.set(e,t);var p=gh(o(e),o(t),n,a,s,i);return i.delete(e),p;case Ah:if(_t)return _t.call(e)==_t.call(t)}return!1}var Eh=Lh;function kh(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Ih=kh,Rh=Ih,Mh=U;function Dh(e,t,r){var n=t(e);return Mh(e)?n:Rh(n,r(e))}var Nh=Dh;function Fh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var Gh=Fh;function Wh(){return[]}var zh=Wh,qh=Gh,Uh=zh,Bh=Object.prototype,Hh=Bh.propertyIsEnumerable,Rr=Object.getOwnPropertySymbols,Kh=Rr?function(e){return e==null?[]:(e=Object(e),qh(Rr(e),function(t){return Hh.call(e,t)}))}:Uh,Jh=Kh,Vh=Nh,Yh=Jh,Zh=tr;function Xh(e){return Vh(e,Zh,Yh)}var Qh=Xh,Mr=Qh,ep=1,tp=Object.prototype,rp=tp.hasOwnProperty;function np(e,t,r,n,a,s){var i=r&ep,o=Mr(e),l=o.length,u=Mr(t),p=u.length;if(l!=p&&!i)return!1;for(var f=l;f--;){var h=o[f];if(!(i?h in t:rp.call(t,h)))return!1}var d=s.get(e),g=s.get(t);if(d&&g)return d==t&&g==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=i;++f<l;){h=o[f];var _=e[h],T=t[h];if(n)var X=i?n(T,_,h,t,e,s):n(_,T,h,e,t,s);if(!(X===void 0?_===T||a(_,T,r,n,s):X)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var P=e.constructor,I=t.constructor;P!=I&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof I=="function"&&I instanceof I)&&(v=!1)}return s.delete(e),s.delete(t),v}var ap=np,sp=ie,ip=q,op=sp(ip,"DataView"),lp=op,up=ie,cp=q,fp=up(cp,"Promise"),hp=fp,pp=ie,dp=q,gp=pp(dp,"Set"),vp=gp,yp=ie,bp=q,mp=yp(bp,"WeakMap"),$p=mp,Ut=lp,Bt=rr,Ht=hp,Kt=vp,Jt=$p,Xn=Ge,we=zn,Dr="[object Map]",wp="[object Object]",Nr="[object Promise]",Fr="[object Set]",Gr="[object WeakMap]",Wr="[object DataView]",_p=we(Ut),Sp=we(Bt),Op=we(Ht),xp=we(Kt),jp=we(Jt),te=Xn;(Ut&&te(new Ut(new ArrayBuffer(1)))!=Wr||Bt&&te(new Bt)!=Dr||Ht&&te(Ht.resolve())!=Nr||Kt&&te(new Kt)!=Fr||Jt&&te(new Jt)!=Gr)&&(te=function(e){var t=Xn(e),r=t==wp?e.constructor:void 0,n=r?we(r):"";if(n)switch(n){case _p:return Wr;case Sp:return Dr;case Op:return Nr;case xp:return Fr;case jp:return Gr}return t});var Tp=te,St=Yn,Ap=Zn,Cp=Eh,Pp=ap,zr=Tp,qr=U,Ur=Bn,Lp=Kn,Ep=1,Br="[object Arguments]",Hr="[object Array]",Be="[object Object]",kp=Object.prototype,Kr=kp.hasOwnProperty;function Ip(e,t,r,n,a,s){var i=qr(e),o=qr(t),l=i?Hr:zr(e),u=o?Hr:zr(t);l=l==Br?Be:l,u=u==Br?Be:u;var p=l==Be,f=u==Be,h=l==u;if(h&&Ur(e)){if(!Ur(t))return!1;i=!0,p=!1}if(h&&!p)return s||(s=new St),i||Lp(e)?Ap(e,t,r,n,a,s):Cp(e,t,l,r,n,a,s);if(!(r&Ep)){var d=p&&Kr.call(e,"__wrapped__"),g=f&&Kr.call(t,"__wrapped__");if(d||g){var v=d?e.value():e,y=g?t.value():t;return s||(s=new St),a(v,y,r,n,s)}}return h?(s||(s=new St),Pp(e,t,r,n,a,s)):!1}var Rp=Ip,Mp=Rp,Jr=We;function Qn(e,t,r,n,a){return e===t?!0:e==null||t==null||!Jr(e)&&!Jr(t)?e!==e&&t!==t:Mp(e,t,r,n,Qn,a)}var ea=Qn,Dp=Yn,Np=ea,Fp=1,Gp=2;function Wp(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var o=r[a];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<s;){o=r[a];var l=o[0],u=e[l],p=o[1];if(i&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Dp;if(n)var h=n(u,p,l,e,t,f);if(!(h===void 0?Np(p,u,Fp|Gp,n,f):h))return!1}}return!0}var zp=Wp,qp=Qt;function Up(e){return e===e&&!qp(e)}var ta=Up,Bp=ta,Hp=tr;function Kp(e){for(var t=Hp(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Bp(a)]}return t}var Jp=Kp;function Vp(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ra=Vp,Yp=zp,Zp=Jp,Xp=ra;function Qp(e){var t=Zp(e);return t.length==1&&t[0][2]?Xp(t[0][0],t[0][1]):function(r){return r===e||Yp(r,e,t)}}var ed=Qp,td=Ge,rd=We,nd="[object Symbol]";function ad(e){return typeof e=="symbol"||rd(e)&&td(e)==nd}var ar=ad,sd=U,id=ar,od=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ld=/^\w*$/;function ud(e,t){if(sd(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||id(e)?!0:ld.test(e)||!od.test(e)||t!=null&&e in Object(t)}var sr=ud,na=nr,cd="Expected a function";function ir(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cd);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(ir.Cache||na),r}ir.Cache=na;var fd=ir,hd=fd,pd=500;function dd(e){var t=hd(e,function(n){return r.size===pd&&r.clear(),n}),r=t.cache;return t}var gd=dd,vd=gd,yd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bd=/\\(\\)?/g,md=vd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yd,function(r,n,a,s){t.push(a?s.replace(bd,"$1"):n||r)}),t}),$d=md;function wd(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var _d=wd,Vr=it,Sd=_d,Od=U,xd=ar,jd=1/0,Yr=Vr?Vr.prototype:void 0,Zr=Yr?Yr.toString:void 0;function aa(e){if(typeof e=="string")return e;if(Od(e))return Sd(e,aa)+"";if(xd(e))return Zr?Zr.call(e):"";var t=e+"";return t=="0"&&1/e==-jd?"-0":t}var Td=aa,Ad=Td;function Cd(e){return e==null?"":Ad(e)}var Pd=Cd,Ld=U,Ed=sr,kd=$d,Id=Pd;function Rd(e,t){return Ld(e)?e:Ed(e,t)?[e]:kd(Id(e))}var sa=Rd,Md=ar,Dd=1/0;function Nd(e){if(typeof e=="string"||Md(e))return e;var t=e+"";return t=="0"&&1/e==-Dd?"-0":t}var ft=Nd,Fd=sa,Gd=ft;function Wd(e,t){t=Fd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Gd(t[r++])];return r&&r==n?e:void 0}var ia=Wd,zd=ia;function qd(e,t,r){var n=e==null?void 0:zd(e,t);return n===void 0?r:n}var Ud=qd;function Bd(e,t){return e!=null&&t in Object(e)}var Hd=Bd,Kd=sa,Jd=Un,Vd=U,Yd=Hn,Zd=er,Xd=ft;function Qd(e,t,r){t=Kd(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=Xd(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Zd(a)&&Yd(i,a)&&(Vd(e)||Jd(e)))}var eg=Qd,tg=Hd,rg=eg;function ng(e,t){return e!=null&&rg(e,t,tg)}var ag=ng,sg=ea,ig=Ud,og=ag,lg=sr,ug=ta,cg=ra,fg=ft,hg=1,pg=2;function dg(e,t){return lg(e)&&ug(t)?cg(fg(e),t):function(r){var n=ig(r,e);return n===void 0&&n===t?og(r,e):sg(t,n,hg|pg)}}var gg=dg;function vg(e){return e}var yg=vg;function bg(e){return function(t){return t?.[e]}}var mg=bg,$g=ia;function wg(e){return function(t){return $g(t,e)}}var _g=wg,Sg=mg,Og=_g,xg=sr,jg=ft;function Tg(e){return xg(e)?Sg(jg(e)):Og(e)}var Ag=Tg,Cg=ed,Pg=gg,Lg=yg,Eg=U,kg=Ag;function Ig(e){return typeof e=="function"?e:e==null?Lg:typeof e=="object"?Eg(e)?Pg(e[0],e[1]):Cg(e):kg(e)}var Rg=Ig,Mg=Zo,Dg=Ju,Ng=Rg,Fg=U;function Gg(e,t){return function(r,n){var a=Fg(r)?Mg:Dg,s=t?t():{};return a(r,e,Ng(n),s)}}var Wg=Gg,zg=Vo,qg=Wg,Ug=Object.prototype,Bg=Ug.hasOwnProperty,Hg=qg(function(e,t,r){Bg.call(e,r)?e[r].push(t):zg(e,r,[t])}),Kg=Hg;const Jg=Ui(Kg);function Vg(e,{canonicalExecutionOrder:t=!1}={}){return He(e,"execution",t?Pi:null,n=>He(n,"attack",null,a=>He(a,"defence",null,s=>He(s,"direction",null,i=>i))))}function He(e,t,r,n){const a=Yg(e,t);return r!=null?r.flatMap(s=>n(a[s]??[])):Object.values(a).flatMap(n)}function Yg(e,t){return Jg(e,t)}var Zg=M("<button><input class=print:hidden type=checkbox> <!$><!/>");const Xg=e=>{const[t,r]=en(!1);return tn(()=>{r(!0)}),(()=>{var n=k(Zg),a=n.firstChild,s=a.nextSibling,i=s.nextSibling,[o,l]=ne(i.nextSibling);return n.$$click=()=>e.onChange(!e.value),j(n,()=>e.text,o,l),or(u=>{var p={"flex items-center gap-2 border border-primary rounded p-4 bg-primary-light whitespace-nowrap print:p-1":!0,"print:hidden":!e.value},f=!t(),h=!t();return u.e=ca(n,p,u.e),f!==u.t&&dt(n,"disabled",u.t=f),h!==u.a&&dt(a,"disabled",u.a=h),u},{e:void 0,t:void 0,a:void 0}),or(()=>dt(a,"checked",e.value)),Vt(),n})()};Qr(["click"]);var Qg=M('<div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-4 mb-4 ">');const ev=e=>{function t(r,n){const a=new Set(e.value);n?a.add(r):a.delete(r),e.onChange(a)}return(()=>{var r=k(Qg);return j(r,()=>e.options.map(({id:n,label:a})=>G(Xg,{get value(){return e.value.has(n)},text:a,onChange:s=>t(n,s)}))),r})()};function tv([e,t],{name:r,storage:n,serialize:a=JSON.stringify,deserialize:s=JSON.parse}){const i=n??localStorage,o=i.getItem(r);return setTimeout(()=>{o!=null&&t(s(o))}),tn(()=>{fa(()=>{i.setItem(r,a(e()))})}),[e,t]}var rv=M("<div><div><header class=text-lg></header><!$><!/></div><div>"),nv=M("<div class=my-10>");const ov=e=>{const[t,r]=tv(en(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:a=>JSON.stringify(Array.from(a)),deserialize:a=>new Set(JSON.parse(a))}),n=lr(()=>{const a=e.dojo.details.exams.filter(i=>t().has(i.id)),s=qi(a);return Vg(s,{canonicalExecutionOrder:!0})});return(()=>{var a=k(rv),s=a.firstChild,i=s.firstChild,o=i.nextSibling,[l,u]=ne(o.nextSibling),p=s.nextSibling;return j(i,()=>tt("examChooser.exams.header")),j(s,G(ev,{get options(){return av(e.dojo.details.exams)},get value(){return t()},onChange:r}),l,u),j(p,(()=>{var f=lr(()=>t().size>0);return()=>f()&&(()=>{var h=k(nv);return j(h,G(Wi,{get techniques(){return n()}})),h})()})()),a})()};function av(e){return e.map(t=>({id:t.id,label:tt(t.labelKey)}))}export{ov as T,Ui as a,iv as g};
