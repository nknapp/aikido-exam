import{g as b,j as Ae,r as Y,t as y,b as x,i as d,c as h,h as dr,d as $e,s as J,F as Xr,o as gr,k as hr,l as Yr,a as j,n as Zr,e as Qr,p as Fe,q as et}from"./web.BNk9p1T7.js";import{t as S,S as rt,c as De,a as tt}from"./techniqueStore.BIMTmklH.js";import{F as le,I as at,L as nt}from"./ForEntries.ct2WMMAO.js";import{C as Ce,n as it,S as _e}from"./index.browser.ByjWbkVB.js";import{c as K,g as $r}from"./_commonjsHelpers.BosuxZz1.js";var st=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const ot=(e={})=>(()=>{var r=b(st);return Ae(r,e,!0,!0),Y(),r})();var lt=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const ct=(e={})=>(()=>{var r=b(lt);return Ae(r,e,!0,!0),Y(),r})();var ut=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zM12 5.5v9l6-4.5z">');const ft=(e={})=>(()=>{var r=b(ut);return Ae(r,e,!0,!0),Y(),r})(),vt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];function dt(e){const r={};for(const t of e)gt(r,t);return r}function gt(e,r){const t=ce(e,r.execution,ue),a=ce(t,r.attack,ue),n=ce(a,r.defence,ue);n[r.direction]=r.metadata}function ce(e,r,t){const a=e[r];if(a!=null)return a;const n=t();return e[r]=n,n}function ue(){return{}}function ht(e,r){const t=new Array(e.length*2-1);for(let a=0;a<e.length;a++)t[a*2]=e[a],a>0&&(t[a*2-1]=r);return t}var $t=y('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),_t=y('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),pt=y('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),bt=y("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),yt=y("<span><!$><!/><!$><!/>"),mt=y('<span class="text-sm text-secondary">( <!$><!/> )'),St=y("<span class=print:hidden>"),At=y("<a>");const Ct=e=>(()=>{var r=b($t),t=r.firstChild,[a,n]=x(t.nextSibling),i=a.nextSibling;return d(r,h(le,{get object(){return dt(e.techniques)},children:(s,o)=>(()=>{var l=b(_t),c=l.firstChild,f=c.nextSibling;return d(c,s),d(f,h(le,{object:o,children:(g,u)=>(()=>{var _=b(pt),$=_.firstChild,p=$.nextSibling;return d($,g),d(p,h(le,{object:u,children:(A,C)=>(()=>{var m=b(bt),E=m.firstChild,w=E.nextSibling,P=w.nextSibling,[ie,se]=x(P.nextSibling);return d(E,A),d(m,h(xt,{directions:C}),ie,se),m})()})),_})()})),l})()}),a,n),d(i,()=>S("examChooser.created-by",{url:window.location.origin})),r})(),xt=e=>{const r=Object.keys(e.directions);if(r.length===1&&r[0]===rt)return null;const t=r.map(a=>(()=>{var n=b(yt),i=n.firstChild,[s,o]=x(i.nextSibling),l=s.nextSibling,[c,f]=x(l.nextSibling);return d(n,a,s,o),d(n,(()=>{var g=dr(()=>!!wt("youtube"));return()=>g()&&h(Tt,{get metadata(){return e.directions[a]}})})(),c,f),n})());return(()=>{var a=b(mt),n=a.firstChild,i=n.nextSibling,[s,o]=x(i.nextSibling);return s.nextSibling,d(a,()=>ht(t,", ").flat(),s,o),a})()},Tt=e=>{const r=e.metadata.youtube==null?[]:Array.isArray(e.metadata.youtube)?e.metadata.youtube:[e.metadata.youtube];return(()=>{var t=b(St);return d(t,h(Xr,{each:r,children:a=>(()=>{var n=b(At);return d(n,h(ft,{class:"inline scale-50"})),$e(i=>{var s="https://www.youtube.com/watch?v="+a.videoId+"&t=6",o=a.title;return s!==i.e&&J(n,"href",i.e=s),o!==i.t&&J(n,"title",i.t=o),i},{e:void 0,t:void 0}),n})()})),t})()};function wt(e){return localStorage.getItem("feature__"+e)==="true"}const Ot=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>h(Ce,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function fe([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),gr(()=>{hr(()=>{s.setItem(t,n(e()))})}),[e,r]}var Pt=y('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const ve=e=>(()=>{var r=b(Pt),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return d(n,()=>e.headerLabel),d(i,()=>e.children),r})(),Et=e=>h(Ce,{get label(){return S("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})});var It=y("<div><input type=range min=1 max=100><label>");const Mt=e=>{function r(o,l){e.onChange({...e.value,[o]:l})}const t=it(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return hr(()=>s(e.value.includePercent)),gr(()=>{n(!0)}),[h(Ce,{get label(){return S("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),h(_e,{color:"secondary",icon:ot,get label(){return S("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=b(It),l=o.firstChild,c=l.nextSibling;return l.addEventListener("change",f=>r("includePercent",Number(f.target.value))),l.$$input=f=>s(Number(f.target.value)),J(l,"id",t),J(c,"for",t),d(c,()=>S("examChooser.order.includePercent",{percent:i()})),$e(f=>{var g={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},u=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,_=!a||!e.value.randomize;return f.e=Zr(o,g,f.e),u!==f.t&&Qr(l,f.t=u),_!==f.a&&Fe(l,"disabled",f.a=_),f},{e:void 0,t:void 0,a:void 0}),$e(()=>Fe(l,"value",i())),Y(),o})()]};Yr(["input"]);function jt(e){const r=[];for(const t of e)for(const[a,n]of q(t.techniques))for(const[i,s]of q(n))for(const[o,l]of q(s))for(const[c,f]of q(l))r.push({execution:a,attack:i,defence:o,direction:c,metadata:f});return r}const q=Object.entries,Lt={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function Ft(e){return r=>!e.kneeFriendly||Lt.kneeFriendly.filter(r)}function Dt(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var Rt=Dt,Gt=Math.floor,Nt=Math.random;function zt(e,r){return e+Gt(Nt()*(r-e+1))}var Ht=zt,Bt=Ht;function Kt(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=Bt(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var _r=Kt,qt=Rt,Ut=_r;function kt(e){return Ut(qt(e))}var Jt=kt;function Vt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var pr=Vt,Wt=pr;function Xt(e,r){return Wt(r,function(t){return e[t]})}var Yt=Xt;function Zt(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var Qt=Zt,ea=typeof K=="object"&&K&&K.Object===Object&&K,br=ea,ra=br,ta=typeof self=="object"&&self&&self.Object===Object&&self,aa=ra||ta||Function("return this")(),O=aa,na=O,ia=na.Symbol,Z=ia,Re=Z,yr=Object.prototype,sa=yr.hasOwnProperty,oa=yr.toString,N=Re?Re.toStringTag:void 0;function la(e){var r=sa.call(e,N),t=e[N];try{e[N]=void 0;var a=!0}catch{}var n=oa.call(e);return a&&(r?e[N]=t:delete e[N]),n}var ca=la,ua=Object.prototype,fa=ua.toString;function va(e){return fa.call(e)}var da=va,Ge=Z,ga=ca,ha=da,$a="[object Null]",_a="[object Undefined]",Ne=Ge?Ge.toStringTag:void 0;function pa(e){return e==null?e===void 0?_a:$a:Ne&&Ne in Object(e)?ga(e):ha(e)}var z=pa;function ba(e){return e!=null&&typeof e=="object"}var H=ba,ya=z,ma=H,Sa="[object Arguments]";function Aa(e){return ma(e)&&ya(e)==Sa}var Ca=Aa,ze=Ca,xa=H,mr=Object.prototype,Ta=mr.hasOwnProperty,wa=mr.propertyIsEnumerable,Oa=ze(function(){return arguments}())?ze:function(e){return xa(e)&&Ta.call(e,"callee")&&!wa.call(e,"callee")},Sr=Oa,Pa=Array.isArray,T=Pa,V={exports:{}};function Ea(){return!1}var Ia=Ea;V.exports;(function(e,r){var t=O,a=Ia,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||a;e.exports=c})(V,V.exports);var Ar=V.exports,Ma=9007199254740991,ja=/^(?:0|[1-9]\d*)$/;function La(e,r){var t=typeof e;return r=r??Ma,!!r&&(t=="number"||t!="symbol"&&ja.test(e))&&e>-1&&e%1==0&&e<r}var Cr=La,Fa=9007199254740991;function Da(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fa}var xe=Da,Ra=z,Ga=xe,Na=H,za="[object Arguments]",Ha="[object Array]",Ba="[object Boolean]",Ka="[object Date]",qa="[object Error]",Ua="[object Function]",ka="[object Map]",Ja="[object Number]",Va="[object Object]",Wa="[object RegExp]",Xa="[object Set]",Ya="[object String]",Za="[object WeakMap]",Qa="[object ArrayBuffer]",en="[object DataView]",rn="[object Float32Array]",tn="[object Float64Array]",an="[object Int8Array]",nn="[object Int16Array]",sn="[object Int32Array]",on="[object Uint8Array]",ln="[object Uint8ClampedArray]",cn="[object Uint16Array]",un="[object Uint32Array]",v={};v[rn]=v[tn]=v[an]=v[nn]=v[sn]=v[on]=v[ln]=v[cn]=v[un]=!0;v[za]=v[Ha]=v[Qa]=v[Ba]=v[en]=v[Ka]=v[qa]=v[Ua]=v[ka]=v[Ja]=v[Va]=v[Wa]=v[Xa]=v[Ya]=v[Za]=!1;function fn(e){return Na(e)&&Ga(e.length)&&!!v[Ra(e)]}var vn=fn;function dn(e){return function(r){return e(r)}}var gn=dn,W={exports:{}};W.exports;(function(e,r){var t=br,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var l=n&&n.require&&n.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(W,W.exports);var hn=W.exports,$n=vn,_n=gn,He=hn,Be=He&&He.isTypedArray,pn=Be?_n(Be):$n,xr=pn,bn=Qt,yn=Sr,mn=T,Sn=Ar,An=Cr,Cn=xr,xn=Object.prototype,Tn=xn.hasOwnProperty;function wn(e,r){var t=mn(e),a=!t&&yn(e),n=!t&&!a&&Sn(e),i=!t&&!a&&!n&&Cn(e),s=t||a||n||i,o=s?bn(e.length,String):[],l=o.length;for(var c in e)(r||Tn.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||An(c,l)))&&o.push(c);return o}var On=wn,Pn=Object.prototype;function En(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Pn;return e===t}var In=En;function Mn(e,r){return function(t){return e(r(t))}}var jn=Mn,Ln=jn,Fn=Ln(Object.keys,Object),Dn=Fn,Rn=In,Gn=Dn,Nn=Object.prototype,zn=Nn.hasOwnProperty;function Hn(e){if(!Rn(e))return Gn(e);var r=[];for(var t in Object(e))zn.call(e,t)&&t!="constructor"&&r.push(t);return r}var Bn=Hn;function Kn(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Te=Kn,qn=z,Un=Te,kn="[object AsyncFunction]",Jn="[object Function]",Vn="[object GeneratorFunction]",Wn="[object Proxy]";function Xn(e){if(!Un(e))return!1;var r=qn(e);return r==Jn||r==Vn||r==kn||r==Wn}var Tr=Xn,Yn=Tr,Zn=xe;function Qn(e){return e!=null&&Zn(e.length)&&!Yn(e)}var wr=Qn,ei=On,ri=Bn,ti=wr;function ai(e){return ti(e)?ei(e):ri(e)}var Q=ai,ni=Yt,ii=Q;function si(e){return e==null?[]:ni(e,ii(e))}var oi=si,li=_r,ci=oi;function ui(e){return li(ci(e))}var fi=ui,vi=Jt,di=fi,gi=T;function hi(e){var r=gi(e)?vi:di;return r(e)}var $i=hi;const _i=$r($i);function pi(e){return _i(e)}function bi(e,{includePercent:r=100}={}){const t=pi(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var yi=O,mi=yi["__core-js_shared__"],Si=mi,de=Si,Ke=function(){var e=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ai(e){return!!Ke&&Ke in e}var Ci=Ai,xi=Function.prototype,Ti=xi.toString;function wi(e){if(e!=null){try{return Ti.call(e)}catch{}try{return e+""}catch{}}return""}var Or=wi,Oi=Tr,Pi=Ci,Ei=Te,Ii=Or,Mi=/[\\^$.*+?()[\]{}|]/g,ji=/^\[object .+?Constructor\]$/,Li=Function.prototype,Fi=Object.prototype,Di=Li.toString,Ri=Fi.hasOwnProperty,Gi=RegExp("^"+Di.call(Ri).replace(Mi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ni(e){if(!Ei(e)||Pi(e))return!1;var r=Oi(e)?Gi:ji;return r.test(Ii(e))}var zi=Ni;function Hi(e,r){return e?.[r]}var Bi=Hi,Ki=zi,qi=Bi;function Ui(e,r){var t=qi(e,r);return Ki(t)?t:void 0}var M=Ui,ki=M,Ji=function(){try{var e=ki(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Vi=Ji,qe=Vi;function Wi(e,r,t){r=="__proto__"&&qe?qe(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Xi=Wi;function Yi(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Zi=Yi;function Qi(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var l=s[e?o:++n];if(t(i[l],l,i)===!1)break}return r}}var es=Qi,rs=es,ts=rs(),as=ts,ns=as,is=Q;function ss(e,r){return e&&ns(e,r,is)}var os=ss,ls=wr;function cs(e,r){return function(t,a){if(t==null)return t;if(!ls(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var us=cs,fs=os,vs=us,ds=vs(fs),gs=ds,hs=gs;function $s(e,r,t,a){return hs(e,function(n,i,s){r(a,n,t(n),s)}),a}var _s=$s;function ps(){this.__data__=[],this.size=0}var bs=ps;function ys(e,r){return e===r||e!==e&&r!==r}var Pr=ys,ms=Pr;function Ss(e,r){for(var t=e.length;t--;)if(ms(e[t][0],r))return t;return-1}var ee=Ss,As=ee,Cs=Array.prototype,xs=Cs.splice;function Ts(e){var r=this.__data__,t=As(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():xs.call(r,t,1),--this.size,!0}var ws=Ts,Os=ee;function Ps(e){var r=this.__data__,t=Os(r,e);return t<0?void 0:r[t][1]}var Es=Ps,Is=ee;function Ms(e){return Is(this.__data__,e)>-1}var js=Ms,Ls=ee;function Fs(e,r){var t=this.__data__,a=Ls(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Ds=Fs,Rs=bs,Gs=ws,Ns=Es,zs=js,Hs=Ds;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=Rs;L.prototype.delete=Gs;L.prototype.get=Ns;L.prototype.has=zs;L.prototype.set=Hs;var re=L,Bs=re;function Ks(){this.__data__=new Bs,this.size=0}var qs=Ks;function Us(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var ks=Us;function Js(e){return this.__data__.get(e)}var Vs=Js;function Ws(e){return this.__data__.has(e)}var Xs=Ws,Ys=M,Zs=O,Qs=Ys(Zs,"Map"),we=Qs,eo=M,ro=eo(Object,"create"),te=ro,Ue=te;function to(){this.__data__=Ue?Ue(null):{},this.size=0}var ao=to;function no(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var io=no,so=te,oo="__lodash_hash_undefined__",lo=Object.prototype,co=lo.hasOwnProperty;function uo(e){var r=this.__data__;if(so){var t=r[e];return t===oo?void 0:t}return co.call(r,e)?r[e]:void 0}var fo=uo,vo=te,go=Object.prototype,ho=go.hasOwnProperty;function $o(e){var r=this.__data__;return vo?r[e]!==void 0:ho.call(r,e)}var _o=$o,po=te,bo="__lodash_hash_undefined__";function yo(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=po&&r===void 0?bo:r,this}var mo=yo,So=ao,Ao=io,Co=fo,xo=_o,To=mo;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=So;F.prototype.delete=Ao;F.prototype.get=Co;F.prototype.has=xo;F.prototype.set=To;var wo=F,ke=wo,Oo=re,Po=we;function Eo(){this.size=0,this.__data__={hash:new ke,map:new(Po||Oo),string:new ke}}var Io=Eo;function Mo(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var jo=Mo,Lo=jo;function Fo(e,r){var t=e.__data__;return Lo(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ae=Fo,Do=ae;function Ro(e){var r=Do(this,e).delete(e);return this.size-=r?1:0,r}var Go=Ro,No=ae;function zo(e){return No(this,e).get(e)}var Ho=zo,Bo=ae;function Ko(e){return Bo(this,e).has(e)}var qo=Ko,Uo=ae;function ko(e,r){var t=Uo(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Jo=ko,Vo=Io,Wo=Go,Xo=Ho,Yo=qo,Zo=Jo;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=Vo;D.prototype.delete=Wo;D.prototype.get=Xo;D.prototype.has=Yo;D.prototype.set=Zo;var Oe=D,Qo=re,el=we,rl=Oe,tl=200;function al(e,r){var t=this.__data__;if(t instanceof Qo){var a=t.__data__;if(!el||a.length<tl-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new rl(a)}return t.set(e,r),this.size=t.size,this}var nl=al,il=re,sl=qs,ol=ks,ll=Vs,cl=Xs,ul=nl;function R(e){var r=this.__data__=new il(e);this.size=r.size}R.prototype.clear=sl;R.prototype.delete=ol;R.prototype.get=ll;R.prototype.has=cl;R.prototype.set=ul;var Er=R,fl="__lodash_hash_undefined__";function vl(e){return this.__data__.set(e,fl),this}var dl=vl;function gl(e){return this.__data__.has(e)}var hl=gl,$l=Oe,_l=dl,pl=hl;function X(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new $l;++r<t;)this.add(e[r])}X.prototype.add=X.prototype.push=_l;X.prototype.has=pl;var bl=X;function yl(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var ml=yl;function Sl(e,r){return e.has(r)}var Al=Sl,Cl=bl,xl=ml,Tl=Al,wl=1,Ol=2;function Pl(e,r,t,a,n,i){var s=t&wl,o=e.length,l=r.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(r);if(c&&f)return c==r&&f==e;var g=-1,u=!0,_=t&Ol?new Cl:void 0;for(i.set(e,r),i.set(r,e);++g<o;){var $=e[g],p=r[g];if(a)var A=s?a(p,$,g,r,e,i):a($,p,g,e,r,i);if(A!==void 0){if(A)continue;u=!1;break}if(_){if(!xl(r,function(C,m){if(!Tl(_,m)&&($===C||n($,C,t,a,i)))return _.push(m)})){u=!1;break}}else if(!($===p||n($,p,t,a,i))){u=!1;break}}return i.delete(e),i.delete(r),u}var Ir=Pl,El=O,Il=El.Uint8Array,Ml=Il;function jl(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var Ll=jl;function Fl(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Dl=Fl,Je=Z,Ve=Ml,Rl=Pr,Gl=Ir,Nl=Ll,zl=Dl,Hl=1,Bl=2,Kl="[object Boolean]",ql="[object Date]",Ul="[object Error]",kl="[object Map]",Jl="[object Number]",Vl="[object RegExp]",Wl="[object Set]",Xl="[object String]",Yl="[object Symbol]",Zl="[object ArrayBuffer]",Ql="[object DataView]",We=Je?Je.prototype:void 0,ge=We?We.valueOf:void 0;function ec(e,r,t,a,n,i,s){switch(t){case Ql:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Zl:return!(e.byteLength!=r.byteLength||!i(new Ve(e),new Ve(r)));case Kl:case ql:case Jl:return Rl(+e,+r);case Ul:return e.name==r.name&&e.message==r.message;case Vl:case Xl:return e==r+"";case kl:var o=Nl;case Wl:var l=a&Hl;if(o||(o=zl),e.size!=r.size&&!l)return!1;var c=s.get(e);if(c)return c==r;a|=Bl,s.set(e,r);var f=Gl(o(e),o(r),a,n,i,s);return s.delete(e),f;case Yl:if(ge)return ge.call(e)==ge.call(r)}return!1}var rc=ec;function tc(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var ac=tc,nc=ac,ic=T;function sc(e,r,t){var a=r(e);return ic(e)?a:nc(a,t(e))}var oc=sc;function lc(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var cc=lc;function uc(){return[]}var fc=uc,vc=cc,dc=fc,gc=Object.prototype,hc=gc.propertyIsEnumerable,Xe=Object.getOwnPropertySymbols,$c=Xe?function(e){return e==null?[]:(e=Object(e),vc(Xe(e),function(r){return hc.call(e,r)}))}:dc,_c=$c,pc=oc,bc=_c,yc=Q;function mc(e){return pc(e,yc,bc)}var Sc=mc,Ye=Sc,Ac=1,Cc=Object.prototype,xc=Cc.hasOwnProperty;function Tc(e,r,t,a,n,i){var s=t&Ac,o=Ye(e),l=o.length,c=Ye(r),f=c.length;if(l!=f&&!s)return!1;for(var g=l;g--;){var u=o[g];if(!(s?u in r:xc.call(r,u)))return!1}var _=i.get(e),$=i.get(r);if(_&&$)return _==r&&$==e;var p=!0;i.set(e,r),i.set(r,e);for(var A=s;++g<l;){u=o[g];var C=e[u],m=r[u];if(a)var E=s?a(m,C,u,r,e,i):a(C,m,u,e,r,i);if(!(E===void 0?C===m||n(C,m,t,a,i):E)){p=!1;break}A||(A=u=="constructor")}if(p&&!A){var w=e.constructor,P=r.constructor;w!=P&&"constructor"in e&&"constructor"in r&&!(typeof w=="function"&&w instanceof w&&typeof P=="function"&&P instanceof P)&&(p=!1)}return i.delete(e),i.delete(r),p}var wc=Tc,Oc=M,Pc=O,Ec=Oc(Pc,"DataView"),Ic=Ec,Mc=M,jc=O,Lc=Mc(jc,"Promise"),Fc=Lc,Dc=M,Rc=O,Gc=Dc(Rc,"Set"),Nc=Gc,zc=M,Hc=O,Bc=zc(Hc,"WeakMap"),Kc=Bc,pe=Ic,be=we,ye=Fc,me=Nc,Se=Kc,Mr=z,G=Or,Ze="[object Map]",qc="[object Object]",Qe="[object Promise]",er="[object Set]",rr="[object WeakMap]",tr="[object DataView]",Uc=G(pe),kc=G(be),Jc=G(ye),Vc=G(me),Wc=G(Se),I=Mr;(pe&&I(new pe(new ArrayBuffer(1)))!=tr||be&&I(new be)!=Ze||ye&&I(ye.resolve())!=Qe||me&&I(new me)!=er||Se&&I(new Se)!=rr)&&(I=function(e){var r=Mr(e),t=r==qc?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case Uc:return tr;case kc:return Ze;case Jc:return Qe;case Vc:return er;case Wc:return rr}return r});var Xc=I,he=Er,Yc=Ir,Zc=rc,Qc=wc,ar=Xc,nr=T,ir=Ar,eu=xr,ru=1,sr="[object Arguments]",or="[object Array]",U="[object Object]",tu=Object.prototype,lr=tu.hasOwnProperty;function au(e,r,t,a,n,i){var s=nr(e),o=nr(r),l=s?or:ar(e),c=o?or:ar(r);l=l==sr?U:l,c=c==sr?U:c;var f=l==U,g=c==U,u=l==c;if(u&&ir(e)){if(!ir(r))return!1;s=!0,f=!1}if(u&&!f)return i||(i=new he),s||eu(e)?Yc(e,r,t,a,n,i):Zc(e,r,l,t,a,n,i);if(!(t&ru)){var _=f&&lr.call(e,"__wrapped__"),$=g&&lr.call(r,"__wrapped__");if(_||$){var p=_?e.value():e,A=$?r.value():r;return i||(i=new he),n(p,A,t,a,i)}}return u?(i||(i=new he),Qc(e,r,t,a,n,i)):!1}var nu=au,iu=nu,cr=H;function jr(e,r,t,a,n){return e===r?!0:e==null||r==null||!cr(e)&&!cr(r)?e!==e&&r!==r:iu(e,r,t,a,jr,n)}var Lr=jr,su=Er,ou=Lr,lu=1,cu=2;function uu(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var g=new su;if(a)var u=a(c,f,l,e,r,g);if(!(u===void 0?ou(f,c,lu|cu,a,g):u))return!1}}return!0}var fu=uu,vu=Te;function du(e){return e===e&&!vu(e)}var Fr=du,gu=Fr,hu=Q;function $u(e){for(var r=hu(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,gu(n)]}return r}var _u=$u;function pu(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dr=pu,bu=fu,yu=_u,mu=Dr;function Su(e){var r=yu(e);return r.length==1&&r[0][2]?mu(r[0][0],r[0][1]):function(t){return t===e||bu(t,e,r)}}var Au=Su,Cu=z,xu=H,Tu="[object Symbol]";function wu(e){return typeof e=="symbol"||xu(e)&&Cu(e)==Tu}var Pe=wu,Ou=T,Pu=Pe,Eu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iu=/^\w*$/;function Mu(e,r){if(Ou(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Pu(e)?!0:Iu.test(e)||!Eu.test(e)||r!=null&&e in Object(r)}var Ee=Mu,Rr=Oe,ju="Expected a function";function Ie(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(ju);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(Ie.Cache||Rr),t}Ie.Cache=Rr;var Lu=Ie,Fu=Lu,Du=500;function Ru(e){var r=Fu(e,function(a){return t.size===Du&&t.clear(),a}),t=r.cache;return r}var Gu=Ru,Nu=Gu,zu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hu=/\\(\\)?/g,Bu=Nu(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(zu,function(t,a,n,i){r.push(n?i.replace(Hu,"$1"):a||t)}),r}),Ku=Bu,ur=Z,qu=pr,Uu=T,ku=Pe,Ju=1/0,fr=ur?ur.prototype:void 0,vr=fr?fr.toString:void 0;function Gr(e){if(typeof e=="string")return e;if(Uu(e))return qu(e,Gr)+"";if(ku(e))return vr?vr.call(e):"";var r=e+"";return r=="0"&&1/e==-Ju?"-0":r}var Vu=Gr,Wu=Vu;function Xu(e){return e==null?"":Wu(e)}var Yu=Xu,Zu=T,Qu=Ee,ef=Ku,rf=Yu;function tf(e,r){return Zu(e)?e:Qu(e,r)?[e]:ef(rf(e))}var Nr=tf,af=Pe,nf=1/0;function sf(e){if(typeof e=="string"||af(e))return e;var r=e+"";return r=="0"&&1/e==-nf?"-0":r}var ne=sf,of=Nr,lf=ne;function cf(e,r){r=of(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[lf(r[t++])];return t&&t==a?e:void 0}var zr=cf,uf=zr;function ff(e,r,t){var a=e==null?void 0:uf(e,r);return a===void 0?t:a}var vf=ff;function df(e,r){return e!=null&&r in Object(e)}var gf=df,hf=Nr,$f=Sr,_f=T,pf=Cr,bf=xe,yf=ne;function mf(e,r,t){r=hf(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=yf(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&bf(n)&&pf(s,n)&&(_f(e)||$f(e)))}var Sf=mf,Af=gf,Cf=Sf;function xf(e,r){return e!=null&&Cf(e,r,Af)}var Tf=xf,wf=Lr,Of=vf,Pf=Tf,Ef=Ee,If=Fr,Mf=Dr,jf=ne,Lf=1,Ff=2;function Df(e,r){return Ef(e)&&If(r)?Mf(jf(e),r):function(t){var a=Of(t,e);return a===void 0&&a===r?Pf(t,e):wf(r,a,Lf|Ff)}}var Rf=Df;function Gf(e){return e}var Nf=Gf;function zf(e){return function(r){return r?.[e]}}var Hf=zf,Bf=zr;function Kf(e){return function(r){return Bf(r,e)}}var qf=Kf,Uf=Hf,kf=qf,Jf=Ee,Vf=ne;function Wf(e){return Jf(e)?Uf(Vf(e)):kf(e)}var Xf=Wf,Yf=Au,Zf=Rf,Qf=Nf,ev=T,rv=Xf;function tv(e){return typeof e=="function"?e:e==null?Qf:typeof e=="object"?ev(e)?Zf(e[0],e[1]):Yf(e):rv(e)}var av=tv,nv=Zi,iv=_s,sv=av,ov=T;function lv(e,r){return function(t,a){var n=ov(t)?nv:iv,i=r?r():{};return n(t,e,sv(a),i)}}var cv=lv,uv=Xi,fv=cv,vv=Object.prototype,dv=vv.hasOwnProperty,gv=fv(function(e,r,t){dv.call(e,t)?e[t].push(r):uv(e,t,[r])}),hv=gv;const $v=$r(hv);function _v(e,{orderExecutions:r=!1}={}){return k(e,"execution",r?vt:null,a=>k(a,"attack",null,n=>k(n,"defence",null,i=>k(i,"direction",null,s=>s))))}function k(e,r,t,a){const n=pv(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function pv(e,r){return $v(e,r)}function bv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=jt(e.filter(l=>t.has(l.id)));return o=o.filter(Ft(a)),n&&(o=bi(o,{includePercent:i})),_v(o,{orderExecutions:s})}var yv=y("<div><!$><!/><!$><!/><!$><!/><div>"),mv=y('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><span>');const Ov=e=>{const[r,t]=fe(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:u=>JSON.stringify(Array.from(u)),deserialize:u=>new Set(JSON.parse(u))}),[a,n]=fe(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=fe(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,l]=j(!1);function c(){l(u=>!u)}const f=et(()=>(o(),bv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),g=async()=>{const{save:u}=tt(e.dojo.info.id);await u(f()),document.location.href=De(`/${e.dojo.info.id}/reader`)};return(()=>{var u=b(yv),_=u.firstChild,[$,p]=x(_.nextSibling),A=$.nextSibling,[C,m]=x(A.nextSibling),E=C.nextSibling,[w,P]=x(E.nextSibling),ie=w.nextSibling;return d(u,h(ve,{get headerLabel(){return S("examChooser.exams.header")},get children(){return h(Ot,{get options(){return Sv(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),$,p),d(u,h(ve,{get headerLabel(){return S("examChooser.filters.header")},get children(){return h(Et,{get value(){return a()},onChange:n})}}),C,m),d(u,h(ve,{get headerLabel(){return S("examChooser.order.header")},get children(){return h(Mt,{get value(){return i()},onChange:s,onForceRefresh:c})}}),w,P),d(ie,(()=>{var se=dr(()=>r().size>0);return()=>se()&&(()=>{var oe=b(mv),B=oe.firstChild,Hr=B.firstChild,[Me,Br]=x(Hr.nextSibling),Kr=Me.nextSibling,[qr,Ur]=x(Kr.nextSibling),kr=B.nextSibling,[je,Jr]=x(kr.nextSibling),Vr=je.nextSibling,Le=Vr.firstChild,Wr=Le.nextSibling;return d(B,h(_e,{size:"small",color:"primary",icon:ct,get label(){return S("examChooser.read")},onClick:g}),Me,Br),d(B,h(_e,{size:"small",color:"secondary",icon:at,get label(){return S("examChooser.print")},onClick:()=>window.print()}),qr,Ur),d(oe,h(Ct,{get techniques(){return f()}}),je,Jr),d(Le,()=>S("donations.question")),d(Wr,h(nt,{size:"small",get label(){return S("donations.action")},get href(){return De("/donations")}})),oe})()})()),u})()};function Sv(e){return e.map(r=>({id:r.id,label:S(r.labelKey)}))}export{Ov as TechniqueChooser};
