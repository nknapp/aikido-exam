import{g as b,j as vr,r as Se,t as y,b as x,i as d,c as h,h as dr,d as he,s as J,F as Wr,o as gr,k as hr,l as Xr,a as j,n as Zr,e as Qr,p as Le,q as et}from"./web.CyVLF7YK.js";import{t as S,p as rt,y as tt,S as at,c as Fe,a as nt}from"./techniqueStore.Q_mPk7YU.js";import{F as oe,I as it,L as st}from"./ForEntries.ktORMmvk.js";import{I as ot}from"./video_library.C52Xc_My.js";import{C as Ae,n as lt,S as $e}from"./index.browser.DakfiRJi.js";import{c as K,g as $r}from"./_commonjsHelpers.BosuxZz1.js";var ct=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const ut=(e={})=>(()=>{var r=b(ct);return vr(r,e,!0,!0),Se(),r})();var ft=y('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const vt=(e={})=>(()=>{var r=b(ft);return vr(r,e,!0,!0),Se(),r})(),dt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];function gt(e){const r={};for(const t of e)ht(r,t);return r}function ht(e,r){const t=le(e,r.execution,ce),a=le(t,r.attack,ce),n=le(a,r.defence,ce);n[r.direction]=r.metadata}function le(e,r,t){const a=e[r];if(a!=null)return a;const n=t();return e[r]=n,n}function ce(){return{}}function $t(e,r){const t=new Array(e.length*2-1);for(let a=0;a<e.length;a++)t[a*2]=e[a],a>0&&(t[a*2-1]=r);return t}var _t=y('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),pt=y('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),bt=y('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),yt=y("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),mt=y("<span><!$><!/><!$><!/>"),St=y('<span class="text-sm text-secondary">( <!$><!/> )'),At=y("<span class=print:hidden>"),Ct=y("<a>");const xt=e=>(()=>{var r=b(_t),t=r.firstChild,[a,n]=x(t.nextSibling),i=a.nextSibling;return d(r,h(oe,{get object(){return gt(e.techniques)},children:(s,o)=>(()=>{var l=b(pt),c=l.firstChild,f=c.nextSibling;return d(c,s),d(f,h(oe,{object:o,children:(g,u)=>(()=>{var _=b(bt),$=_.firstChild,p=$.nextSibling;return d($,g),d(p,h(oe,{object:u,children:(A,C)=>(()=>{var m=b(yt),E=m.firstChild,w=E.nextSibling,P=w.nextSibling,[ne,ie]=x(P.nextSibling);return d(E,A),d(m,h(Tt,{directions:C}),ne,ie),m})()})),_})()})),l})()}),a,n),d(i,()=>S("examChooser.created-by",{url:window.location.origin})),r})(),Tt=e=>{const r=rt(tt),t=Object.keys(e.directions);if(t.length===1&&t[0]===at)return null;const a=t.map(n=>(()=>{var i=b(mt),s=i.firstChild,[o,l]=x(s.nextSibling),c=o.nextSibling,[f,g]=x(c.nextSibling);return d(i,n,o,l),d(i,(()=>{var u=dr(()=>!!r());return()=>u()&&h(wt,{get metadata(){return e.directions[n]}})})(),f,g),i})());return(()=>{var n=b(St),i=n.firstChild,s=i.nextSibling,[o,l]=x(s.nextSibling);return o.nextSibling,d(n,()=>$t(a,", ").flat(),o,l),n})()},wt=e=>{const r=e.metadata.youtube==null?[]:Array.isArray(e.metadata.youtube)?e.metadata.youtube:[e.metadata.youtube];return(()=>{var t=b(At);return d(t,h(Wr,{each:r,children:a=>(()=>{var n=b(Ct);return d(n,h(ot,{class:"inline scale-50"})),he(i=>{var s="https://www.youtube.com/watch?v="+a.videoId+"&t=6",o=a.title;return s!==i.e&&J(n,"href",i.e=s),o!==i.t&&J(n,"title",i.t=o),i},{e:void 0,t:void 0}),n})()})),t})()},Ot=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>h(Ae,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function ue([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),gr(()=>{hr(()=>{s.setItem(t,n(e()))})}),[e,r]}var Pt=y('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const fe=e=>(()=>{var r=b(Pt),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return d(n,()=>e.headerLabel),d(i,()=>e.children),r})(),Et=e=>h(Ae,{get label(){return S("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})});var It=y("<div><input type=range min=1 max=100><label>");const Mt=e=>{function r(o,l){e.onChange({...e.value,[o]:l})}const t=lt(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return hr(()=>s(e.value.includePercent)),gr(()=>{n(!0)}),[h(Ae,{get label(){return S("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),h($e,{color:"secondary",icon:ut,get label(){return S("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=b(It),l=o.firstChild,c=l.nextSibling;return l.addEventListener("change",f=>r("includePercent",Number(f.target.value))),l.$$input=f=>s(Number(f.target.value)),J(l,"id",t),J(c,"for",t),d(c,()=>S("examChooser.order.includePercent",{percent:i()})),he(f=>{var g={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},u=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,_=!a||!e.value.randomize;return f.e=Zr(o,g,f.e),u!==f.t&&Qr(l,f.t=u),_!==f.a&&Le(l,"disabled",f.a=_),f},{e:void 0,t:void 0,a:void 0}),he(()=>Le(l,"value",i())),Se(),o})()]};Xr(["input"]);function jt(e){const r=[];for(const t of e)for(const[a,n]of q(t.techniques))for(const[i,s]of q(n))for(const[o,l]of q(s))for(const[c,f]of q(l))r.push({execution:a,attack:i,defence:o,direction:c,metadata:f});return r}const q=Object.entries,Lt={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function Ft(e){return r=>!e.kneeFriendly||Lt.kneeFriendly.filter(r)}function Dt(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var Rt=Dt,Gt=Math.floor,Nt=Math.random;function zt(e,r){return e+Gt(Nt()*(r-e+1))}var Bt=zt,Ht=Bt;function Kt(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=Ht(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var _r=Kt,qt=Rt,Ut=_r;function kt(e){return Ut(qt(e))}var Jt=kt;function Yt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var pr=Yt,Vt=pr;function Wt(e,r){return Vt(r,function(t){return e[t]})}var Xt=Wt;function Zt(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var Qt=Zt,ea=typeof K=="object"&&K&&K.Object===Object&&K,br=ea,ra=br,ta=typeof self=="object"&&self&&self.Object===Object&&self,aa=ra||ta||Function("return this")(),O=aa,na=O,ia=na.Symbol,X=ia,De=X,yr=Object.prototype,sa=yr.hasOwnProperty,oa=yr.toString,N=De?De.toStringTag:void 0;function la(e){var r=sa.call(e,N),t=e[N];try{e[N]=void 0;var a=!0}catch{}var n=oa.call(e);return a&&(r?e[N]=t:delete e[N]),n}var ca=la,ua=Object.prototype,fa=ua.toString;function va(e){return fa.call(e)}var da=va,Re=X,ga=ca,ha=da,$a="[object Null]",_a="[object Undefined]",Ge=Re?Re.toStringTag:void 0;function pa(e){return e==null?e===void 0?_a:$a:Ge&&Ge in Object(e)?ga(e):ha(e)}var z=pa;function ba(e){return e!=null&&typeof e=="object"}var B=ba,ya=z,ma=B,Sa="[object Arguments]";function Aa(e){return ma(e)&&ya(e)==Sa}var Ca=Aa,Ne=Ca,xa=B,mr=Object.prototype,Ta=mr.hasOwnProperty,wa=mr.propertyIsEnumerable,Oa=Ne(function(){return arguments}())?Ne:function(e){return xa(e)&&Ta.call(e,"callee")&&!wa.call(e,"callee")},Sr=Oa,Pa=Array.isArray,T=Pa,Y={exports:{}};function Ea(){return!1}var Ia=Ea;Y.exports;(function(e,r){var t=O,a=Ia,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||a;e.exports=c})(Y,Y.exports);var Ar=Y.exports,Ma=9007199254740991,ja=/^(?:0|[1-9]\d*)$/;function La(e,r){var t=typeof e;return r=r??Ma,!!r&&(t=="number"||t!="symbol"&&ja.test(e))&&e>-1&&e%1==0&&e<r}var Cr=La,Fa=9007199254740991;function Da(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fa}var Ce=Da,Ra=z,Ga=Ce,Na=B,za="[object Arguments]",Ba="[object Array]",Ha="[object Boolean]",Ka="[object Date]",qa="[object Error]",Ua="[object Function]",ka="[object Map]",Ja="[object Number]",Ya="[object Object]",Va="[object RegExp]",Wa="[object Set]",Xa="[object String]",Za="[object WeakMap]",Qa="[object ArrayBuffer]",en="[object DataView]",rn="[object Float32Array]",tn="[object Float64Array]",an="[object Int8Array]",nn="[object Int16Array]",sn="[object Int32Array]",on="[object Uint8Array]",ln="[object Uint8ClampedArray]",cn="[object Uint16Array]",un="[object Uint32Array]",v={};v[rn]=v[tn]=v[an]=v[nn]=v[sn]=v[on]=v[ln]=v[cn]=v[un]=!0;v[za]=v[Ba]=v[Qa]=v[Ha]=v[en]=v[Ka]=v[qa]=v[Ua]=v[ka]=v[Ja]=v[Ya]=v[Va]=v[Wa]=v[Xa]=v[Za]=!1;function fn(e){return Na(e)&&Ga(e.length)&&!!v[Ra(e)]}var vn=fn;function dn(e){return function(r){return e(r)}}var gn=dn,V={exports:{}};V.exports;(function(e,r){var t=br,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var l=n&&n.require&&n.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(V,V.exports);var hn=V.exports,$n=vn,_n=gn,ze=hn,Be=ze&&ze.isTypedArray,pn=Be?_n(Be):$n,xr=pn,bn=Qt,yn=Sr,mn=T,Sn=Ar,An=Cr,Cn=xr,xn=Object.prototype,Tn=xn.hasOwnProperty;function wn(e,r){var t=mn(e),a=!t&&yn(e),n=!t&&!a&&Sn(e),i=!t&&!a&&!n&&Cn(e),s=t||a||n||i,o=s?bn(e.length,String):[],l=o.length;for(var c in e)(r||Tn.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||An(c,l)))&&o.push(c);return o}var On=wn,Pn=Object.prototype;function En(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Pn;return e===t}var In=En;function Mn(e,r){return function(t){return e(r(t))}}var jn=Mn,Ln=jn,Fn=Ln(Object.keys,Object),Dn=Fn,Rn=In,Gn=Dn,Nn=Object.prototype,zn=Nn.hasOwnProperty;function Bn(e){if(!Rn(e))return Gn(e);var r=[];for(var t in Object(e))zn.call(e,t)&&t!="constructor"&&r.push(t);return r}var Hn=Bn;function Kn(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var xe=Kn,qn=z,Un=xe,kn="[object AsyncFunction]",Jn="[object Function]",Yn="[object GeneratorFunction]",Vn="[object Proxy]";function Wn(e){if(!Un(e))return!1;var r=qn(e);return r==Jn||r==Yn||r==kn||r==Vn}var Tr=Wn,Xn=Tr,Zn=Ce;function Qn(e){return e!=null&&Zn(e.length)&&!Xn(e)}var wr=Qn,ei=On,ri=Hn,ti=wr;function ai(e){return ti(e)?ei(e):ri(e)}var Z=ai,ni=Xt,ii=Z;function si(e){return e==null?[]:ni(e,ii(e))}var oi=si,li=_r,ci=oi;function ui(e){return li(ci(e))}var fi=ui,vi=Jt,di=fi,gi=T;function hi(e){var r=gi(e)?vi:di;return r(e)}var $i=hi;const _i=$r($i);function pi(e){return _i(e)}function bi(e,{includePercent:r=100}={}){const t=pi(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var yi=O,mi=yi["__core-js_shared__"],Si=mi,ve=Si,He=function(){var e=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ai(e){return!!He&&He in e}var Ci=Ai,xi=Function.prototype,Ti=xi.toString;function wi(e){if(e!=null){try{return Ti.call(e)}catch{}try{return e+""}catch{}}return""}var Or=wi,Oi=Tr,Pi=Ci,Ei=xe,Ii=Or,Mi=/[\\^$.*+?()[\]{}|]/g,ji=/^\[object .+?Constructor\]$/,Li=Function.prototype,Fi=Object.prototype,Di=Li.toString,Ri=Fi.hasOwnProperty,Gi=RegExp("^"+Di.call(Ri).replace(Mi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ni(e){if(!Ei(e)||Pi(e))return!1;var r=Oi(e)?Gi:ji;return r.test(Ii(e))}var zi=Ni;function Bi(e,r){return e?.[r]}var Hi=Bi,Ki=zi,qi=Hi;function Ui(e,r){var t=qi(e,r);return Ki(t)?t:void 0}var M=Ui,ki=M,Ji=function(){try{var e=ki(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yi=Ji,Ke=Yi;function Vi(e,r,t){r=="__proto__"&&Ke?Ke(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Wi=Vi;function Xi(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Zi=Xi;function Qi(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var l=s[e?o:++n];if(t(i[l],l,i)===!1)break}return r}}var es=Qi,rs=es,ts=rs(),as=ts,ns=as,is=Z;function ss(e,r){return e&&ns(e,r,is)}var os=ss,ls=wr;function cs(e,r){return function(t,a){if(t==null)return t;if(!ls(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var us=cs,fs=os,vs=us,ds=vs(fs),gs=ds,hs=gs;function $s(e,r,t,a){return hs(e,function(n,i,s){r(a,n,t(n),s)}),a}var _s=$s;function ps(){this.__data__=[],this.size=0}var bs=ps;function ys(e,r){return e===r||e!==e&&r!==r}var Pr=ys,ms=Pr;function Ss(e,r){for(var t=e.length;t--;)if(ms(e[t][0],r))return t;return-1}var Q=Ss,As=Q,Cs=Array.prototype,xs=Cs.splice;function Ts(e){var r=this.__data__,t=As(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():xs.call(r,t,1),--this.size,!0}var ws=Ts,Os=Q;function Ps(e){var r=this.__data__,t=Os(r,e);return t<0?void 0:r[t][1]}var Es=Ps,Is=Q;function Ms(e){return Is(this.__data__,e)>-1}var js=Ms,Ls=Q;function Fs(e,r){var t=this.__data__,a=Ls(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Ds=Fs,Rs=bs,Gs=ws,Ns=Es,zs=js,Bs=Ds;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=Rs;L.prototype.delete=Gs;L.prototype.get=Ns;L.prototype.has=zs;L.prototype.set=Bs;var ee=L,Hs=ee;function Ks(){this.__data__=new Hs,this.size=0}var qs=Ks;function Us(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var ks=Us;function Js(e){return this.__data__.get(e)}var Ys=Js;function Vs(e){return this.__data__.has(e)}var Ws=Vs,Xs=M,Zs=O,Qs=Xs(Zs,"Map"),Te=Qs,eo=M,ro=eo(Object,"create"),re=ro,qe=re;function to(){this.__data__=qe?qe(null):{},this.size=0}var ao=to;function no(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var io=no,so=re,oo="__lodash_hash_undefined__",lo=Object.prototype,co=lo.hasOwnProperty;function uo(e){var r=this.__data__;if(so){var t=r[e];return t===oo?void 0:t}return co.call(r,e)?r[e]:void 0}var fo=uo,vo=re,go=Object.prototype,ho=go.hasOwnProperty;function $o(e){var r=this.__data__;return vo?r[e]!==void 0:ho.call(r,e)}var _o=$o,po=re,bo="__lodash_hash_undefined__";function yo(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=po&&r===void 0?bo:r,this}var mo=yo,So=ao,Ao=io,Co=fo,xo=_o,To=mo;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=So;F.prototype.delete=Ao;F.prototype.get=Co;F.prototype.has=xo;F.prototype.set=To;var wo=F,Ue=wo,Oo=ee,Po=Te;function Eo(){this.size=0,this.__data__={hash:new Ue,map:new(Po||Oo),string:new Ue}}var Io=Eo;function Mo(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var jo=Mo,Lo=jo;function Fo(e,r){var t=e.__data__;return Lo(r)?t[typeof r=="string"?"string":"hash"]:t.map}var te=Fo,Do=te;function Ro(e){var r=Do(this,e).delete(e);return this.size-=r?1:0,r}var Go=Ro,No=te;function zo(e){return No(this,e).get(e)}var Bo=zo,Ho=te;function Ko(e){return Ho(this,e).has(e)}var qo=Ko,Uo=te;function ko(e,r){var t=Uo(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Jo=ko,Yo=Io,Vo=Go,Wo=Bo,Xo=qo,Zo=Jo;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=Yo;D.prototype.delete=Vo;D.prototype.get=Wo;D.prototype.has=Xo;D.prototype.set=Zo;var we=D,Qo=ee,el=Te,rl=we,tl=200;function al(e,r){var t=this.__data__;if(t instanceof Qo){var a=t.__data__;if(!el||a.length<tl-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new rl(a)}return t.set(e,r),this.size=t.size,this}var nl=al,il=ee,sl=qs,ol=ks,ll=Ys,cl=Ws,ul=nl;function R(e){var r=this.__data__=new il(e);this.size=r.size}R.prototype.clear=sl;R.prototype.delete=ol;R.prototype.get=ll;R.prototype.has=cl;R.prototype.set=ul;var Er=R,fl="__lodash_hash_undefined__";function vl(e){return this.__data__.set(e,fl),this}var dl=vl;function gl(e){return this.__data__.has(e)}var hl=gl,$l=we,_l=dl,pl=hl;function W(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new $l;++r<t;)this.add(e[r])}W.prototype.add=W.prototype.push=_l;W.prototype.has=pl;var bl=W;function yl(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var ml=yl;function Sl(e,r){return e.has(r)}var Al=Sl,Cl=bl,xl=ml,Tl=Al,wl=1,Ol=2;function Pl(e,r,t,a,n,i){var s=t&wl,o=e.length,l=r.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(r);if(c&&f)return c==r&&f==e;var g=-1,u=!0,_=t&Ol?new Cl:void 0;for(i.set(e,r),i.set(r,e);++g<o;){var $=e[g],p=r[g];if(a)var A=s?a(p,$,g,r,e,i):a($,p,g,e,r,i);if(A!==void 0){if(A)continue;u=!1;break}if(_){if(!xl(r,function(C,m){if(!Tl(_,m)&&($===C||n($,C,t,a,i)))return _.push(m)})){u=!1;break}}else if(!($===p||n($,p,t,a,i))){u=!1;break}}return i.delete(e),i.delete(r),u}var Ir=Pl,El=O,Il=El.Uint8Array,Ml=Il;function jl(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var Ll=jl;function Fl(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Dl=Fl,ke=X,Je=Ml,Rl=Pr,Gl=Ir,Nl=Ll,zl=Dl,Bl=1,Hl=2,Kl="[object Boolean]",ql="[object Date]",Ul="[object Error]",kl="[object Map]",Jl="[object Number]",Yl="[object RegExp]",Vl="[object Set]",Wl="[object String]",Xl="[object Symbol]",Zl="[object ArrayBuffer]",Ql="[object DataView]",Ye=ke?ke.prototype:void 0,de=Ye?Ye.valueOf:void 0;function ec(e,r,t,a,n,i,s){switch(t){case Ql:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Zl:return!(e.byteLength!=r.byteLength||!i(new Je(e),new Je(r)));case Kl:case ql:case Jl:return Rl(+e,+r);case Ul:return e.name==r.name&&e.message==r.message;case Yl:case Wl:return e==r+"";case kl:var o=Nl;case Vl:var l=a&Bl;if(o||(o=zl),e.size!=r.size&&!l)return!1;var c=s.get(e);if(c)return c==r;a|=Hl,s.set(e,r);var f=Gl(o(e),o(r),a,n,i,s);return s.delete(e),f;case Xl:if(de)return de.call(e)==de.call(r)}return!1}var rc=ec;function tc(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var ac=tc,nc=ac,ic=T;function sc(e,r,t){var a=r(e);return ic(e)?a:nc(a,t(e))}var oc=sc;function lc(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var cc=lc;function uc(){return[]}var fc=uc,vc=cc,dc=fc,gc=Object.prototype,hc=gc.propertyIsEnumerable,Ve=Object.getOwnPropertySymbols,$c=Ve?function(e){return e==null?[]:(e=Object(e),vc(Ve(e),function(r){return hc.call(e,r)}))}:dc,_c=$c,pc=oc,bc=_c,yc=Z;function mc(e){return pc(e,yc,bc)}var Sc=mc,We=Sc,Ac=1,Cc=Object.prototype,xc=Cc.hasOwnProperty;function Tc(e,r,t,a,n,i){var s=t&Ac,o=We(e),l=o.length,c=We(r),f=c.length;if(l!=f&&!s)return!1;for(var g=l;g--;){var u=o[g];if(!(s?u in r:xc.call(r,u)))return!1}var _=i.get(e),$=i.get(r);if(_&&$)return _==r&&$==e;var p=!0;i.set(e,r),i.set(r,e);for(var A=s;++g<l;){u=o[g];var C=e[u],m=r[u];if(a)var E=s?a(m,C,u,r,e,i):a(C,m,u,e,r,i);if(!(E===void 0?C===m||n(C,m,t,a,i):E)){p=!1;break}A||(A=u=="constructor")}if(p&&!A){var w=e.constructor,P=r.constructor;w!=P&&"constructor"in e&&"constructor"in r&&!(typeof w=="function"&&w instanceof w&&typeof P=="function"&&P instanceof P)&&(p=!1)}return i.delete(e),i.delete(r),p}var wc=Tc,Oc=M,Pc=O,Ec=Oc(Pc,"DataView"),Ic=Ec,Mc=M,jc=O,Lc=Mc(jc,"Promise"),Fc=Lc,Dc=M,Rc=O,Gc=Dc(Rc,"Set"),Nc=Gc,zc=M,Bc=O,Hc=zc(Bc,"WeakMap"),Kc=Hc,_e=Ic,pe=Te,be=Fc,ye=Nc,me=Kc,Mr=z,G=Or,Xe="[object Map]",qc="[object Object]",Ze="[object Promise]",Qe="[object Set]",er="[object WeakMap]",rr="[object DataView]",Uc=G(_e),kc=G(pe),Jc=G(be),Yc=G(ye),Vc=G(me),I=Mr;(_e&&I(new _e(new ArrayBuffer(1)))!=rr||pe&&I(new pe)!=Xe||be&&I(be.resolve())!=Ze||ye&&I(new ye)!=Qe||me&&I(new me)!=er)&&(I=function(e){var r=Mr(e),t=r==qc?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case Uc:return rr;case kc:return Xe;case Jc:return Ze;case Yc:return Qe;case Vc:return er}return r});var Wc=I,ge=Er,Xc=Ir,Zc=rc,Qc=wc,tr=Wc,ar=T,nr=Ar,eu=xr,ru=1,ir="[object Arguments]",sr="[object Array]",U="[object Object]",tu=Object.prototype,or=tu.hasOwnProperty;function au(e,r,t,a,n,i){var s=ar(e),o=ar(r),l=s?sr:tr(e),c=o?sr:tr(r);l=l==ir?U:l,c=c==ir?U:c;var f=l==U,g=c==U,u=l==c;if(u&&nr(e)){if(!nr(r))return!1;s=!0,f=!1}if(u&&!f)return i||(i=new ge),s||eu(e)?Xc(e,r,t,a,n,i):Zc(e,r,l,t,a,n,i);if(!(t&ru)){var _=f&&or.call(e,"__wrapped__"),$=g&&or.call(r,"__wrapped__");if(_||$){var p=_?e.value():e,A=$?r.value():r;return i||(i=new ge),n(p,A,t,a,i)}}return u?(i||(i=new ge),Qc(e,r,t,a,n,i)):!1}var nu=au,iu=nu,lr=B;function jr(e,r,t,a,n){return e===r?!0:e==null||r==null||!lr(e)&&!lr(r)?e!==e&&r!==r:iu(e,r,t,a,jr,n)}var Lr=jr,su=Er,ou=Lr,lu=1,cu=2;function uu(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var g=new su;if(a)var u=a(c,f,l,e,r,g);if(!(u===void 0?ou(f,c,lu|cu,a,g):u))return!1}}return!0}var fu=uu,vu=xe;function du(e){return e===e&&!vu(e)}var Fr=du,gu=Fr,hu=Z;function $u(e){for(var r=hu(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,gu(n)]}return r}var _u=$u;function pu(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dr=pu,bu=fu,yu=_u,mu=Dr;function Su(e){var r=yu(e);return r.length==1&&r[0][2]?mu(r[0][0],r[0][1]):function(t){return t===e||bu(t,e,r)}}var Au=Su,Cu=z,xu=B,Tu="[object Symbol]";function wu(e){return typeof e=="symbol"||xu(e)&&Cu(e)==Tu}var Oe=wu,Ou=T,Pu=Oe,Eu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iu=/^\w*$/;function Mu(e,r){if(Ou(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Pu(e)?!0:Iu.test(e)||!Eu.test(e)||r!=null&&e in Object(r)}var Pe=Mu,Rr=we,ju="Expected a function";function Ee(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(ju);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(Ee.Cache||Rr),t}Ee.Cache=Rr;var Lu=Ee,Fu=Lu,Du=500;function Ru(e){var r=Fu(e,function(a){return t.size===Du&&t.clear(),a}),t=r.cache;return r}var Gu=Ru,Nu=Gu,zu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bu=/\\(\\)?/g,Hu=Nu(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(zu,function(t,a,n,i){r.push(n?i.replace(Bu,"$1"):a||t)}),r}),Ku=Hu,cr=X,qu=pr,Uu=T,ku=Oe,Ju=1/0,ur=cr?cr.prototype:void 0,fr=ur?ur.toString:void 0;function Gr(e){if(typeof e=="string")return e;if(Uu(e))return qu(e,Gr)+"";if(ku(e))return fr?fr.call(e):"";var r=e+"";return r=="0"&&1/e==-Ju?"-0":r}var Yu=Gr,Vu=Yu;function Wu(e){return e==null?"":Vu(e)}var Xu=Wu,Zu=T,Qu=Pe,ef=Ku,rf=Xu;function tf(e,r){return Zu(e)?e:Qu(e,r)?[e]:ef(rf(e))}var Nr=tf,af=Oe,nf=1/0;function sf(e){if(typeof e=="string"||af(e))return e;var r=e+"";return r=="0"&&1/e==-nf?"-0":r}var ae=sf,of=Nr,lf=ae;function cf(e,r){r=of(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[lf(r[t++])];return t&&t==a?e:void 0}var zr=cf,uf=zr;function ff(e,r,t){var a=e==null?void 0:uf(e,r);return a===void 0?t:a}var vf=ff;function df(e,r){return e!=null&&r in Object(e)}var gf=df,hf=Nr,$f=Sr,_f=T,pf=Cr,bf=Ce,yf=ae;function mf(e,r,t){r=hf(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=yf(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&bf(n)&&pf(s,n)&&(_f(e)||$f(e)))}var Sf=mf,Af=gf,Cf=Sf;function xf(e,r){return e!=null&&Cf(e,r,Af)}var Tf=xf,wf=Lr,Of=vf,Pf=Tf,Ef=Pe,If=Fr,Mf=Dr,jf=ae,Lf=1,Ff=2;function Df(e,r){return Ef(e)&&If(r)?Mf(jf(e),r):function(t){var a=Of(t,e);return a===void 0&&a===r?Pf(t,e):wf(r,a,Lf|Ff)}}var Rf=Df;function Gf(e){return e}var Nf=Gf;function zf(e){return function(r){return r?.[e]}}var Bf=zf,Hf=zr;function Kf(e){return function(r){return Hf(r,e)}}var qf=Kf,Uf=Bf,kf=qf,Jf=Pe,Yf=ae;function Vf(e){return Jf(e)?Uf(Yf(e)):kf(e)}var Wf=Vf,Xf=Au,Zf=Rf,Qf=Nf,ev=T,rv=Wf;function tv(e){return typeof e=="function"?e:e==null?Qf:typeof e=="object"?ev(e)?Zf(e[0],e[1]):Xf(e):rv(e)}var av=tv,nv=Zi,iv=_s,sv=av,ov=T;function lv(e,r){return function(t,a){var n=ov(t)?nv:iv,i=r?r():{};return n(t,e,sv(a),i)}}var cv=lv,uv=Wi,fv=cv,vv=Object.prototype,dv=vv.hasOwnProperty,gv=fv(function(e,r,t){dv.call(e,t)?e[t].push(r):uv(e,t,[r])}),hv=gv;const $v=$r(hv);function _v(e,{orderExecutions:r=!1}={}){return k(e,"execution",r?dt:null,a=>k(a,"attack",null,n=>k(n,"defence",null,i=>k(i,"direction",null,s=>s))))}function k(e,r,t,a){const n=pv(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function pv(e,r){return $v(e,r)}function bv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=jt(e.filter(l=>t.has(l.id)));return o=o.filter(Ft(a)),n&&(o=bi(o,{includePercent:i})),_v(o,{orderExecutions:s})}var yv=y("<div><!$><!/><!$><!/><!$><!/><div>"),mv=y('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><span>');const Pv=e=>{const[r,t]=ue(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:u=>JSON.stringify(Array.from(u)),deserialize:u=>new Set(JSON.parse(u))}),[a,n]=ue(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=ue(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,l]=j(!1);function c(){l(u=>!u)}const f=et(()=>(o(),bv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),g=async()=>{const{save:u}=nt(e.dojo.info.id);await u(f()),document.location.href=Fe(`/${e.dojo.info.id}/reader`)};return(()=>{var u=b(yv),_=u.firstChild,[$,p]=x(_.nextSibling),A=$.nextSibling,[C,m]=x(A.nextSibling),E=C.nextSibling,[w,P]=x(E.nextSibling),ne=w.nextSibling;return d(u,h(fe,{get headerLabel(){return S("examChooser.exams.header")},get children(){return h(Ot,{get options(){return Sv(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),$,p),d(u,h(fe,{get headerLabel(){return S("examChooser.filters.header")},get children(){return h(Et,{get value(){return a()},onChange:n})}}),C,m),d(u,h(fe,{get headerLabel(){return S("examChooser.order.header")},get children(){return h(Mt,{get value(){return i()},onChange:s,onForceRefresh:c})}}),w,P),d(ne,(()=>{var ie=dr(()=>r().size>0);return()=>ie()&&(()=>{var se=b(mv),H=se.firstChild,Br=H.firstChild,[Ie,Hr]=x(Br.nextSibling),Kr=Ie.nextSibling,[qr,Ur]=x(Kr.nextSibling),kr=H.nextSibling,[Me,Jr]=x(kr.nextSibling),Yr=Me.nextSibling,je=Yr.firstChild,Vr=je.nextSibling;return d(H,h($e,{size:"small",color:"primary",icon:vt,get label(){return S("examChooser.read")},onClick:g}),Ie,Hr),d(H,h($e,{size:"small",color:"secondary",icon:it,get label(){return S("examChooser.print")},onClick:()=>window.print()}),qr,Ur),d(se,h(xt,{get techniques(){return f()}}),Me,Jr),d(je,()=>S("donations.question")),d(Vr,h(st,{size:"small",get label(){return S("donations.action")},get href(){return Fe("/donations")}})),se})()})()),u})()};function Sv(e){return e.map(r=>({id:r.id,label:S(r.labelKey)}))}export{Pv as TechniqueChooser};
