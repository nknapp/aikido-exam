function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/main.Be6Gapd8.js","_astro/_commonjsHelpers.BosuxZz1.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
const rr="modulepreload",nr=function(t){return"/"+t},ie={},ye=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=Promise.all(r.map(l=>{if(l=nr(l),l in ie)return;ie[l]=!0;const c=l.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===l&&(!c||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${p}`))return;const w=document.createElement("link");if(w.rel=c?"stylesheet":rr,c||(w.as="script",w.crossOrigin=""),w.href=l,o&&w.setAttribute("nonce",o),document.head.appendChild(w),c)return new Promise((h,d)=>{w.addEventListener("load",h),w.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};var sr={},ar=Object.defineProperty,ir=(t,e,r)=>e in t?ar(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,be=(t,e,r)=>(ir(t,typeof e!="symbol"?e+"":e,r),r),te=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},u=(t,e,r)=>(te(t,e,"read from private field"),r?r.call(t):e.get(t)),g=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},b=(t,e,r,n)=>(te(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),S=(t,e,r)=>(te(t,e,"access private method"),r),q="astro-i18n",or=`${q}.config`,oe="github.com/alexandre-fernandez/astro-i18n/issues",lr=class extends Error{constructor(t){super(t?`${q}: Unreachable code executed (at "${t}"), please open an issue at "${oe}".`:`${q}: Unreachable code executed, please open an issue at "${oe}".`)}},ur=lr;function v(){throw new ur}function cr(t=new Error("Something went wrong.")){throw t}var Nt,ve,at=class{constructor(t){g(this,Nt),be(this,"regexp"),this.regexp=new RegExp(t.source,t.flags)}static fromString(t,e){return new at(new RegExp(t,e))}get source(){return this.regexp.source}get flags(){return this.regexp.flags}add(t){return this.regexp=new RegExp(`${this.regexp.source}${t.source}`,this.regexp.flags),this}test(t){return this.regexp.test(t)}exec(t,e){let r=S(this,Nt,ve).call(this,t),n=r.next();for(;!n.done&&e(n.value)!==at.BREAK;)n=r.next();return this}match(t){let e=null;return this.exec(t,r=>(e=r,at.BREAK)),e}clone(){return new at(new RegExp(this.regexp.source,this.regexp.flags))}toMatcher(){return this.match.bind(this)}},$e=at;Nt=new WeakSet,ve=function*(t){let e=this.regexp;e.flags.includes("g")||(e=new RegExp(this.regexp.source,`${this.regexp.flags}g`));let r=e.exec(t);for(;r!==null;)r&&(yield{range:[r.index,r.index+r[0].length],match:[...r]}),r=e.exec(t)},be($e,"BREAK","break");var m=$e,Se=class{#e;#t;constructor({source:t,flags:e}){this.#e=t,this.#t=e}static fromRegex(t){return new Se(t.regexp)}appendPattern(t){return this.#e=`${this.#e}${t}`,this}matchTrimifiable(){return this.#e=`\\s*${this.#e}\\s*`,this}assertStarting(){return this.#e=`^${this.#e}`,this}assertEnding(){return this.#e=`${this.#e}$`,this}addGroup(){return this.#e=`(${this.#e})`,this}addGlobalFlag(){return this.#t.includes("g")||(this.#t=`${this.#t}g`),this}build(){return new m(new RegExp(this.#e,this.#t))}},F=Se;function mt(t,e,r){if(!e(t)){let n="";throw t?typeof t=="object"?n=`
${t.constructor.name}
${JSON.stringify(t,null,4)}`:typeof t=="symbol"?n=`Symbol("${t.description}")`:n=typeof t=="string"?`"${t}"`:`${t}`:n=`${t}`,!r&&e.name.startsWith("is")&&(r=e.name.slice(2)),new TypeError(r?`Unexpected type (expecting \`${r}\`), found: ${n}`:`Unexpected type, found: ${n}`)}}function fr(t){return typeof t=="number"&&!Number.isNaN(t)}function hr(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function gt(t){return Array.isArray(t)}function pt(t){return gt(t)&&t.every(e=>typeof e=="string")}function $(t){return!!t&&typeof t=="object"}function le(t){return $(t)?Object.getPrototypeOf(t)===Object.prototype:!1}var st,H,it,It=class{static get path(){return S(this,H,it).call(this,"path")}static get posix(){return this.path.then(({posix:t})=>t)}static get fs(){return S(this,H,it).call(this,"fs")}static get url(){return S(this,H,it).call(this,"url")}static get module(){return S(this,H,it).call(this,"module")}};st=new WeakMap,H=new WeakSet,it=async function(t){if(u(this,st)[t])return u(this,st)[t];let e=await ye(()=>import(`node:${t}`),[]);return u(this,st)[t]=e,e},g(It,H),g(It,st,{});var x=It;async function vt(t){let{sep:e,posix:r}=await x.path;return t.split(e).join(r.sep)}async function ct(t){let e=await dr(t),r=t.split(e);return r.pop(),r.join(e)}function pr(t){switch(t){case"":return!0;case"/":return!0;case"\\":return!0;default:return!/[/\\]/.test(t)}}async function dr(t){let{sep:e}=await x.path,r=t.split("/").length-1,n=t.split("\\").length-1;return r>n?"/":n>r?"\\":e}function N(t,e,r){let{mode:n,mutable:s}={mode:"replace",mutable:!0,...r},i=s?t:structuredClone(t);for(let[a,o]of Object.entries(e)){let l=i[a];if(Object.hasOwn(i,a)){Tt(l)&&Tt(o)?N(l,o):n==="replace"&&(i[a]=e[a]);continue}i[a]=e[a]}return s?void 0:i}function ft(t,e,r){let n=typeof e=="string"?[e]:e,s=t;for(let[i,a]of n.entries()){if(i===n.length-1){s[a]=r;break}Tt(s[a])||(s[a]={}),s=s[a]}}function Tt(t){return typeof t!="object"?!1:Object.getPrototypeOf(t)===Object.prototype}var mr=class extends Error{constructor(t){super(t?`Peer dependency \`${t}\` was not found, if it's not already done try installing it.`:"A dependency was not found.")}},gr=mr,wr=class extends Error{constructor(t){super(t?`No file was found for the given path (${t}).`:"No file was found for the given path.")}},je=wr,yr=class extends Error{constructor(t=[]){super(t.length>0?`Invalid file type, supported formats are: "${t.join('", "')}"`:"Invalid file type, format not supported.")}},ke=yr,br=class extends Error{constructor(t){super(t?`Invalid format, could not parse JSON (${t}).`:"Invalid format, could not parse JSON.")}},vr=br;async function T(t){if(!t)return!1;let{existsSync:e,lstatSync:r}=await x.fs;return e(t)&&r(t).isDirectory()}async function Ot(t){if(!t)return!1;let{existsSync:e,lstatSync:r}=await x.fs;return e(t)&&!r(t).isDirectory()}async function $r(t){let{accessSync:e,constants:r}=await x.fs;try{return e(t,r.R_OK),!0}catch{return!1}}async function xe(t,e){let{readdirSync:r}=await x.fs,n=r(t);await e(await vt(t),n);for(let s of n){let i=`${t}/${s}`;await T(i)&&await xe(i,e)}}async function Sr(t){let e=null;e=await ye(()=>import("./main.Be6Gapd8.js").then(n=>n.m),__vite__mapDeps([0,1]));let r=/\.(js|cjs|mjs|ts)$/;if(!Ot(t))throw new je(t);if(!r.test(t))throw new ke(["js","cjs","mjs","ts"]);try{let{outputFiles:n}=await e.build({entryPoints:[t],bundle:!0,external:["esbuild"],format:"cjs",platform:"node",write:!1}),s=new TextDecoder().decode(n[0]?.contents);return s?jr(s,t.replace(r,".cjs")):{}}catch{throw new gr("esbuild")}}async function wt(t){if(!Ot(t))throw new je(t);if(!/\.json$/.test(t))throw new ke(["json"]);let{readFileSync:e}=await x.fs,r=e(t,{encoding:"utf8"});try{return JSON.parse(r)}catch{throw new vr(t)}}async function jr(t,e){let{Module:r}=await x.module,n=e.split("/").slice(0,-1).join("/"),s={module:new r(e),require(i){return this.module.require(i)}};return s.module.paths=r._nodeModulePaths(n),s.module.filename=e,s.module.exports={},s.require=i=>s.module.require(i),Object.assign(s.require,{resolve:i=>r._resolveFilename(i,s.module)}),new Function("exports","require","module","__filename","__dirname",t)(s.module.exports,s.require,s.module,e,n),s.module.exports}var G="break",kr=["json","js","cjs","mjs","ts"],Dt="i18n",ht="pages",xr=class extends Error{constructor(){super(`Could not find astro "${ht}" directory.`)}},Or=xr,Lr=new m(/(\/[^\s/]+)?(\/[^\s/]+)\.astro$/),Pt=new m(/^---\n([\S\s]+)\n---\n/),Rr=new m(/export\s*(?:const\s+prerender|var\s+prerender|let\s+prerender|prerender)(?:\s*=\s*)?(true|false)?|export\s*?{\s*?prerender\s*?}/),Er=new m(/export\s+(?:async\s+)?(?:function\s+|const\s+|var\s+|let\s+)getStaticPaths|export\s*{\s*getStaticPaths\s*}/),_r=class{#e;#t;#r;#o;#l;#a=void 0;#n=void 0;#s=null;#i=null;constructor({name:t,route:e,path:r,translations:n,routes:s}){this.#e=t,this.#t=e,this.#r=r,this.#o=n,this.#l=s}get name(){return this.#e}get route(){return this.#t}get path(){return this.#r}get translations(){return this.#o}get routes(){return this.#l}async getContent(){if(this.#s)return this.#s;let{readFileSync:t}=await x.fs;return this.#s=t(this.#r,{encoding:"utf8"}),this.#i=Pt.match(this.#s)?.match[0]||null,this.#s}async getFrontmatter(){return this.#i?this.#i:(this.getContent(),this.#i)}async hasGetStaticPaths(){if(typeof this.#a<"u")return this.#a;let{readFileSync:t}=await x.fs,e=t(this.#r,{encoding:"utf8"}),r=Pt.match(e)?.match[0];return this.#a=r?Er.test(r):!1,this.#a}async prerender(){if(typeof this.#n<"u")return this.#n;let{readFileSync:t}=await x.fs,e=t(this.#r,{encoding:"utf8"}),r=Pt.match(e)?.match[0];if(!r)return this.#n=!1,this.#n;let{match:n}=Rr.match(r)||{};return n?n[1]?this.#n=n[1]==="true":this.#n=!0:this.#n=null,this.#n}async getProxy(t,e){let r=this.path.lastIndexOf("src/pages");if(r=r<0?null:r+9,!r)return null;let n="";t=t.replace(/\/$/,"")||"/";let s=this.#r.slice(r),i=t.split("/").length-1,a=`${"../".repeat(i)}${s.slice(1)}`;if(n+=`---
import Page from "${a}"
`,await this.hasGetStaticPaths()){let{locale:l,route:c}=e.internals.splitLocaleAndRoute(t);n+=`import { getStaticPaths as proxyGetStaticPaths } from "${a}"
/* @ts-ignore */
export const getStaticPaths = (props) => proxyGetStaticPaths({ ...props, astroI18n: `,n+=`{ locale: "${l}", route: "${c}", primaryLocale: "${e.primaryLocale}", secondaryLocales: ["${e.secondaryLocales.join('", "')}"] } })
`}let o=await this.prerender();return typeof o=="boolean"&&(n+=o?`export const prerender = true
`:`export const prerender = false
`),n+=`const { props } = Astro
---
<Page {...props} />`,n}},ue=_r,Pr=class extends Error{constructor(t){super(t?`Invalid pattern (${t.source}) given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).`:"Invalid pattern given, the pattern should match the route name at index 1 (optional), the route locale at index 2 and the translated name at index 3 (optional).")}},Wr=Pr;function tt(t,e=!0){if(e){if(!$(t))return!1;for(let r of Object.values(t))if(!tt(r,!1))return!1;return!0}if(typeof t=="string")return!0;if(!$(t))return!1;for(let r of Object.values(t))if(!tt(r,!1))return!1;return!0}async function Cr(t,e={}){let{join:r}=await x.path,n=`${t}/${e.srcDir}/${ht}`;if(!await T(n))throw new Or;let s={},i=(e.secondaryLocales||[]).map(h=>`/${e.srcDir}/${ht}/${h}`),a={i18n:Dt,pages:Dt,...e.translationDirectory},o=[e.primaryLocale||"en",...e.secondaryLocales||[]],l=m.fromString(`(\\/[^\\/\\s]+)?(?:\\/_?${a.pages})?\\/_?(${o.join("|")})(\\.[^\\.\\s]+)?\\.json$`),c=m.fromString(`_?${a.pages}`),p=e.showPrimaryLocale?r(n,e.primaryLocale||"en"):n;await xe(p,async(h,d)=>{if(!i.some(y=>h.includes(y)))for(let y of d){let j=`${h}/${y}`;if(await T(j))continue;let O=j.replace(n,"");if(O.endsWith(".astro")){let{match:C,range:_t}=Lr.match(O)||{};if(!C||!C[2]||!_t)continue;let I="index",K="/";if(C[1]?C[2]==="/index"?(I=C[1].replace("/",""),K=`${O.slice(0,_t[0])}/${I}`):(I=C[2].replace("/",""),K=`${O.slice(0,_t[0]+C[1].length)}/${I}`):C[2]!=="/index"&&(I=C[2].replace("/",""),K=`/${I}`),I.startsWith("_"))continue;s[K]={...s[K],name:I,route:K,path:j};continue}if(!O.endsWith(".json"))continue;let{match:V,range:ne}=l.match(O)||{};if(!V||!ne)continue;let E=`${O.slice(0,ne[0])}${V[1]||"/"}`;c.test(E)&&(E="/");let yt=V[2]||v(),se=E.split("/").slice(-1).join("")||"index",ae=V[3]?V[3].replace(".",""):null,Et=await wt(j);mt(Et,tt,`${yt}.PageTranslations`),N(Et,s[E]?.translations?.[yt]||{});let tr={...s[E]?.translations,[yt]:Et},er=ae?{...s[E]?.routes,[yt]:{[se]:ae}}:{...s[E]?.routes};s[E]={...s[E],name:se,route:E,translations:tr,routes:er}}});let f=[];for(let h of Object.values(s))!h.path||!h.name||!h.route||f.push({translations:{},routes:{},...h});let w=`${t}/${e.srcDir}/${a.i18n}/${ht}`;if(!await T(w))return f.map(h=>new ue(h));for(let h of f){let d=`${w}${h.route}`.replace(/\/$/,"");if(!await T(d))continue;let y=await ce(d,h.name,l);for(let{translations:j,routes:O}of y)N(h.translations,j),N(h.routes,O);if(d=`${d}/${a.pages}`,!!await T(d)){y=await ce(d,h.name,l);for(let{translations:j,routes:O}of y)N(h.translations,j),N(h.routes,O)}}return f.map(h=>new ue(h))}async function ce(t,e,r){let{readdirSync:n}=await x.fs,s=[];for(let i of n(t,{encoding:"utf8"})){let{match:a}=r.match(`/${i}`)||{};if(!a)continue;let o=a[2]||cr(new Wr),l=a[3]?a[3].replace(".",""):null,c=await wt(`${t}/${i}`);mt(c,tt,`${o}.PageTranslations`),s.push({translations:{[o]:c},routes:l?{[o]:{[e]:l}}:{}})}return s}var Nr=class extends Error{constructor(t){super(t?`Unable to find project root. ${t}`:"Unable to find project root.")}},Ir=Nr,Tr=m.fromString(`${q}\\.config\\.(${kr.join("|")})`),Dr=m.fromString("astro\\.config\\.(js|cjs|mjs|ts)"),Mr=new m(/[/\\]?node_modules/),Ar=new m(/.+?node_modules/),qr=new m(/(?:package|deno)\.json/),Fr=new m(/package\.json/),Vr=new m(/deno\.jsonc?/),Ur=new m(/deps\.ts/),Wt=".",J="common",zr=F.fromRegex(Tr).assertEnding().build(),Oe=F.fromRegex(Dr).assertEnding().build();function Jr(t){let e={routes:[],extra:[],common:void 0};for(let r of Object.keys(t)){if(r.startsWith("/")){e.routes.push(r);continue}if(r===J){e.common=J;continue}e.extra.push(r)}return e}async function Gr(t,e={}){let r=`${t}/${e.srcDir}/${e.translationDirectory?.i18n||Dt}`,n={};if(!await T(r))return n;let{readdirSync:s}=await x.fs,i=[e.primaryLocale||"en",...e.secondaryLocales||[]],a=m.fromString(`(${i.join("|")})\\.json`);for(let o of s(r)){if(o===ht)continue;let l=`${r}/${o}`;if(await T(l))for(let c of s(l)){let{match:p}=a.match(c)||{};if(!p?.[1])continue;let f=p[1],w=await wt(`${l}/${c}`);mt(w,tt,`${f}.GroupTranslations`),ft(n,[o,f],w)}}return n}async function Ct(t){return Q(Le(t),zr.regexp)}async function Br(t){let e=await Q(Le(t),Oe.regexp);if(!e)return null;let{readdirSync:r}=await x.fs,n=await ct(e),s=r(n),i=s.find(a=>Fr.test(a));if(i){let a=await wt(`${n}/${i}`);if(le(a)&&le(a.dependencies)&&a.dependencies[q])return n}return s.find(a=>Vr.test(a))||s.find(a=>Ur.test(a))?n:null}async function Kr(t){let{readdirSync:e}=await x.fs;return typeof e(t).find(r=>Oe.test(r))=="string"}function Le(t){let{match:e}=Ar.match(t)||{};return e?e[0]?.replace(Mr.regexp,"")||"/":t}async function Q(t,e,r=1,n=!0){let{readdirSync:s}=await x.fs;if(await Ot(t))return e.test(t)?t:n?Q(await ct(t),e,1,!1):null;if(!await $r(t)||pr(t))return null;let i=s(t),a=i.find(l=>e.test(l));if(a)return`${t}/${a}`;if(r>0&&typeof i.find(l=>qr.test(l))!="string")return Q(await ct(t),e,1,!1);let o=i.filter(l=>{switch(l){case"node_modules":return!1;case"src":return!1;case"public":return!1;case"dist":return!1;case"build":return!1;default:return!l.startsWith(".")}});for(let l of o){let c=`${t}/${l}`;if(await Ot(t))continue;let p=await Q(c,e,-1,!1);if(typeof p=="string")return p}return r>0?Q(await ct(t),e,1,!1):null}var Yr=class extends Error{constructor(){super(`Unable to find ${or}.`)}},Zr=Yr;function Hr(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e))if(typeof r!="string")return!1}return!0}function Qr(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e))if(!tt(r))return!1}return!0}function Xr(t){if(!gt(t))return!1;for(let e of t){if(!$(e))return!1;let r=Object.entries(e);if(r.length<2)return!1;for(let[n,s]of r)switch(n){case"groups":{if(!pt(s))return!1;break}case"routes":{if(!pt(s))return!1;break}default:return!1}}return!0}function tn(t){if(!$(t))return!1;for(let[e,r]of Object.entries(t))if(e!=="i18n"&&e!=="pages"||typeof r!="string")return!1;return!0}function en(t){if(!$(t))return!1;for(let[e,r]of Object.entries(t))switch(e){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!pt(r))return!1;break}case"fallbackLocale":{if(typeof r!="string")return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}case"run":{if(r!=="server"&&r!=="client+server")return!1;break}case"translations":{if(!Qr(r))return!1;break}case"translationLoadingRules":{if(!Xr(r))return!1;break}case"translationDirectory":{if(!tn(r))return!1;break}case"routes":{if(!Hr(r))return!1;break}case"srcDir":{if(typeof r!="string")return!1;break}default:return!1}return!0}function rn(t){if(!$(t))return!1;for(let[e,r]of Object.entries(t))switch(e){case"primaryLocale":{if(typeof r!="string")return!1;break}case"secondaryLocales":{if(!pt(r))return!1;break}case"showPrimaryLocale":{if(typeof r!="boolean")return!1;break}case"trailingSlash":{if(r!=="always"&&r!=="never")return!1;break}default:return!1}return!0}var nn=class extends Error{constructor(t){super(t?`Your primaryLocale ("${t}") cannot be contained in your secondaryLocales array.`:"Your primaryLocale cannot be contained in your secondaryLocales array.")}},sn=nn,Re=class{primaryLocale;secondaryLocales;fallbackLocale;showPrimaryLocale;trailingSlash;run;translations;translationLoadingRules;translationDirectory;routes;path;srcDir;constructor({primaryLocale:t,secondaryLocales:e,fallbackLocale:r,showPrimaryLocale:n,trailingSlash:s,run:i,translations:a,translationLoadingRules:o,translationDirectory:l,routes:c,srcDir:p}={},f=""){if(this.primaryLocale=t||"en",this.secondaryLocales=e||[],this.fallbackLocale=r??(t||""),this.showPrimaryLocale=n||!1,this.trailingSlash=s||"never",this.run=i||"client+server",this.translations=a||{},this.translationLoadingRules=o||[],this.translationDirectory=l||{},this.routes=c||{},this.path=f||"",this.srcDir=p||"src",this.secondaryLocales.includes(this.primaryLocale))throw new sn(this.primaryLocale)}get pages(){return Object.keys(this.translations).filter(t=>t.startsWith("/"))}static async fromFilesystem(t=null){let{fileURLToPath:e}=await x.url;if(!t){let n="";typeof process<"u"&&(n=sr.PWD||""),t=await Ct(await vt(n))}if(!t){let n="";typeof process<"u"&&(n=process.cwd()),t=await Ct(await vt(n))}if(!t){let n="";typeof import.meta=="object"&&typeof import.meta.url=="string"?n=e(import.meta.url):typeof __filename=="string"&&(n=__filename),n&&(t=await Ct(await vt(n)))}if(!t)throw new Zr;let r=t.endsWith(".json")?await wt(t):(await Sr(t)).default;return mt(r,en,"AstroI18nConfig"),new Re(r,t).loadFilesystemTranslations()}async loadFilesystemTranslations(){if(!this.path)return this;let t=await ct(this.path);if(!await Kr(t)){let n=await Br(this.path);if(!n)throw new Ir;t=n}let e=await Cr(t,this);for(let n of e)this.translations[n.route]||(this.translations[n.route]={}),N(this.translations[n.route]||v(),n.translations),this.routes||(this.routes={}),N(this.routes,n.routes);let r=await Gr(t,this);return N(this.translations,r),this}toClientSideObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash}}toObject(){return{primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,showPrimaryLocale:this.showPrimaryLocale,trailingSlash:this.trailingSlash,run:this.run,translations:this.translations,translationLoadingRules:this.translationLoadingRules,translationDirectory:this.translationDirectory,routes:this.routes}}toString(){return JSON.stringify(this.toObject(),null,"	")}},ot=Re,Ee=(t=>(t.NONE="none",t.NODE="node",t.BROWSER="browser",t))(Ee||{}),Y=Ee,an=new m(/[$A-Z_a-z]/),ee=F.fromRegex(an).appendPattern("[\\w$]*").build(),on=new m(/-?\d+(?:\.\d+)?/),ln=new m(/^\s*$/),fe=new m(/{{(.+)}}/),_e=new m(/{#(.+?)#}/),un=m.fromString(`\\(\\s*(${ee.source})\\s*\\)`),cn=m.fromString(`>\\s*(${ee.source})\\s*(\\()?`),fn=new m(/(?:function)?\s*[\w$]*\s*\(([\S\s]*?)\)\s*(?:=>)?\s*{?([\S\s]*)/),hn=class extends Error{constructor(t=""){if(t){let e=t.slice(0,20);e.length===20&&(t=`${e.slice(0,17)}...`)}super(t?`Cannot parse unknown value (${t}).`:"Cannot parse unknown value")}},Pe=hn,pn=class extends Error{constructor(t=""){super(t?`Cannot procces untrimmed value ("${t}").`:"Cannot procces untrimmed value")}},We=pn,Ce=F.fromRegex(on).assertStarting().build().toMatcher(),Ne=F.fromRegex(ee).assertStarting().build().toMatcher();function dn(t){return ln.test(t)?{range:[0,0],match:[""]}:null}function Ie(t){return t.startsWith("undefined")?{range:[0,9],match:["undefined"]}:null}function Te(t){return t.startsWith("null")?{range:[0,4],match:["null"]}:null}function De(t){return t.startsWith("true")?{range:[0,4],match:["true"]}:t.startsWith("false")?{range:[0,5],match:["false"]}:null}function Me(t){let e=t[0];if(e!=='"'&&e!=="'"&&e!=="`")return null;let r=t.slice(1).indexOf(e);return r===-1?null:(r+=2,{range:[0,r],match:[t.slice(0,r)]})}function mn(t){if(!t.startsWith("{"))return null;let e=0;for(let r=0;r<t.length;r+=1){let n=t[r];if(n==="{"?e+=1:n==="}"&&(e-=1),e===0){let s=r+1;return{range:[0,s],match:[t.slice(0,s)]}}}return null}function Ae(t){if(!t.startsWith("["))return null;let e=0;for(let r=0;r<t.length;r+=1){let n=t[r];if(n==="["?e+=1:n==="]"&&(e-=1),e===0){let s=r+1;return{range:[0,s],match:[t.slice(0,s)]}}}return null}function B(t,e){let r=0,n=!1,s=null;for(let i=0;i<t.length;i+=1){let a=t[i]||v(),o=a==='"'||a==="'"||a==="`",l=!1,c=!1;if(a==="{"||a==="["?(r+=1,l=!0):a==="}"||a==="]"?(r-=1,c=!0):!n&&o?(r+=1,n=!0,s=a,l=!0):n&&a===s&&(r-=1,n=!1,s=null,c=!0),e(a,i,r,l,c)===G)break}}var gn=F.fromRegex(un).assertStarting().build().toMatcher(),wn=F.fromRegex(cn).assertStarting().build().toMatcher();function qe(t){t=t.trim();let e=t,{value:r,type:n,end:s}=yn(t);t=t.slice(s).trim();let i=null,a=gn(t);if(a){let{match:l,range:c}=a;i=l[1]||v(),t=t.slice(c[1]).trim()}let o=[];for(;t.length>0;){t[0]===")"&&(t=t.slice(1));let{match:l,range:c}=wn(t)||{};if(!l?.[1]||!c)break;if(t=t.slice(c[1]).trim(),!l[2]){o.push({name:l[1],args:[]});continue}let{args:p,end:f}=bn(t);t=t.slice(f).trim(),o.push({name:l[1],args:p})}return{raw:e,value:r,type:n,alias:i,formatters:o}}function Z(t){let e=[];t=t.trim();let{type:r,value:n,alias:s,formatters:i}=qe(t);for(let a of i)for(let o of a.args)for(let l of Z(o))e.push(l);switch(r){case 4:{e.push(s||n);break}case 6:{let a="",o=!0;B(t,(l,c,p,f)=>{if(p===0){for(let w of Z(a))e.push(w);return G}if(o){if(f&&l==="{"||/\s/.test(l))return null;if(l===":")return o=!1,null}else if(l===","){for(let w of Z(a))e.push(w);return a="",o=!0,null}return o||(a+=l),null});break}case 7:{let a="";B(t,(o,l,c,p)=>{if(c===0){for(let f of Z(a))e.push(f);return G}if(p&&o==="[")return null;if(o===","){for(let f of Z(a))e.push(f);return a="",null}return a+=o,null});break}}return e}function yn(t){if(/^\s+\S/.test(t))throw new We(t);let e=dn(t);if(e)return{value:"undefined",type:0,end:e.range[1]};if(e=Ie(t),e)return{value:e.match[0]||v(),type:0,end:e.range[1]};if(e=Te(t),e)return{value:e.match[0]||v(),type:1,end:e.range[1]};if(e=De(t),e)return{value:e.match[0]||v(),type:2,end:e.range[1]};if(e=Ce(t),e)return{value:e.match[0]||v(),type:3,end:e.range[1]};if(e=Ne(t),e)return{value:e.match[0]||v(),type:4,end:e.range[1]};if(e=Me(t),e)return{value:e.match[0]||v(),type:5,end:e.range[1]};if(e=mn(t),e)return{value:e.match[0]||v(),type:6,end:e.range[1]};if(e=Ae(t),e)return{value:e.match[0]||v(),type:7,end:e.range[1]};throw new Pe(t)}function bn(t){let e={args:[],end:0},r="",n=!1;return B(t,(s,i,a)=>(s==="("&&(n=!0),a>0?(r+=s,null):s===","?(e.args.push(r.trim()),r="",null):s===")"?(n&&(r+=s),e.args.push(r.trim()),e.end=i+1,r="",G):(r+=s,null))),e}function vn(t,e,r,n,s,i){let a;switch(r){case 0:{a=void 0;break}case 1:{a=null;break}case 2:{if(t==="true"){a=!0;break}if(t==="false"){a=!1;break}}case 3:{a=t.includes(".")?Number.parseFloat(t):Number.parseInt(t,10);break}case 4:{if(e){a=s[e];break}a=s[t];break}case 5:{a=t.slice(1,-1);break}case 6:{a=$n(t,s,i);break}case 7:{a=Sn(t,s,i);break}default:throw new Pe(t)}for(let{name:o,args:l}of n){let c=i[o];if(!c)return;let p=l.map(f=>new et(f,s,i).value);a=c(a,...p)}return a}function $n(t,e,r){let n={},s="",i="",a=!0;return B(t,(o,l,c,p)=>{if(c===0)return n[s]=new et(i,e,r).value,G;if(c===1){if(a){if(p||/\s/.test(o))return null;if(o===":")return a=!1,null;s+=o}else if(o===",")return n[s]=new et(i,e,r).value,s="",i="",a=!0,null}return a||(i+=o),null}),n}function Sn(t,e,r){let n=[],s="";return B(t,(i,a,o,l)=>{if(o===0)return n.push(new et(s,e,r).value),G;if(o===1){if(l)return null;if(i===",")return n.push(new et(s,e,r).value),s="",null}return s+=i,null}),n}var jn=class{raw;value;alias=null;constructor(t,e,r){let{raw:n,value:s,type:i,alias:a,formatters:o}=qe(t);this.raw=n,this.alias=a,this.value=vn(s,a,i,o,e,r)}},et=jn,kn=class extends Error{constructor(t){super(t?`Variant priority must be of type number (found: (${t})).`:"Variant priority must be of type number.")}},xn=kn,On=class extends Error{constructor(t){super(t?`Invalid variant property key (${t}), it must be a valid variable name.`:"Invalid variant property value, it must be a valid variable name.")}},Ln=On,he="undefined, null, number, string, boolean and flat arrays of these types.",Rn=class extends Error{constructor(t){super(t?`Invalid variant property value (${t}), accepted types are: ${he}.`:`Invalid variant property value, accepted types are: ${he}.`)}},Rt=Rn;function Mt(t){if(/^\s/.test(t))throw new We(t);let e=Ie(t);if(e)return{value:e.match[0]||v(),type:0,end:e.range[1]};if(e=Te(t),e)return{value:e.match[0]||v(),type:1,end:e.range[1]};if(e=De(t),e)return{value:e.match[0]||v(),type:2,end:e.range[1]};if(e=Ce(t),e)return{value:e.match[0]||v(),type:3,end:e.range[1]};if(e=Me(t),e)return{value:e.match[0]||v(),type:5,end:e.range[1]};if(e=Ae(t),e)return{value:e.match[0]||v(),type:7,end:e.range[1]};throw new Rt(t)}function Fe(t){return t===null||typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"}function En(t){return Array.isArray(t)?t.every(e=>Fe(e)):!1}function Lt(t,e){let r;switch(e){case 0:{r=void 0;break}case 1:{r=null;break}case 2:{if(t==="true"){r=!0;break}if(t==="false"){r=!1;break}}case 3:{r=t.includes(".")?Number.parseFloat(t):Number.parseInt(t,10);break}case 5:{r=t.slice(1,-1);break}case 7:{r=_n(t);break}default:throw new Rt(t)}return r}function _n(t){let e=[],r="";return B(t,(n,s,i,a)=>{if(i===0){let{value:o,type:l}=Mt(r.trim()),c=Lt(o,l);if(!Fe(c))throw new Rt(r);return e.push(c),G}if(i===1){if(a)return null;if(n===","){let{value:o,type:l}=Mt(r.trim());return e.push(Lt(o,l)),r="",null}}return r+=n,null}),e}var Pn="$priority",Ve=class{raw;priority;properties;value;constructor({raw:t,priority:e,properties:r,value:n}={}){this.raw=t||"",this.priority=e||0,this.properties=r||[],this.value=n||""}static fromString(t,e){let r=new Ve;r.value=e;let n=t.trim();r.raw=n;let s="",i="",a=!0;return B(n,(o,l,c)=>{let p=l===n.length-1;if(a)return/\s/.test(o)?null:o===":"?(a=!1,null):(s+=o,null);if(c>0)return i+=o,null;if(p&&(i+=o),o===","||p){let f=Ne(s.trim())?.match[0];if(!f)throw new Ln(s);let{value:w,type:h}=Mt(i.trim());if(f===Pn){let j=Lt(w,h);if(typeof j!="number")throw new xn(w);return r.priority=j*.001,null}let d=Lt(w,h),y=Array.isArray(d)?d:[d];if(!En(y))throw new Rt(i);return r.properties.push({name:f,values:y}),s="",i="",a=!0,null}return i+=o,null}),r}calculateMatchingScore(t){let e=0;for(let{name:r,values:n}of this.properties){if(!Object.hasOwn(t,r))continue;let s=t[r],i=[];for(let a of n){if(typeof s=="number"&&typeof a=="number"){let o=s-a;if(o===0){i.push(1e3);continue}i.push(Math.abs(1e3/o)-1);continue}s===a&&i.push(1e3)}i.length!==0&&(e+=Math.max(...i))}return e>0?e+this.priority:e}},At=Ve,Wn=class extends Error{constructor(){super("Cannot use a variant on a key which value is not a string.")}},Cn=Wn;function Ue(t,e="",r={}){for(let[n,s]of Object.entries(t)){if(typeof s=="string"){let{match:i,range:a}=fe.match(n)||{};if(!i?.[1]||!a){let l=`${e}${Wt}${n}`.replace(/^\./,"");if(r[l]){r[l].default=s;continue}r[l]={default:s,variants:[]};continue}let o=`${e}${Wt}${n.slice(0,a[0])+n.slice(a[1])}`.replace(/^\./,"");if(r[o]){r[o].variants.push(At.fromString(i[1],s));continue}r[o]={variants:[At.fromString(i[1],s)]};continue}if(fe.test(n))throw new Cn;Ue(s,`${e}${Wt}${n}`.replace(/^\./,""),r)}return r}function Nn(t,e,r){let n=[];_e.exec(t,({match:i,range:a})=>{if(!i[1])return;let{value:o}=new et(i[1],e,r);n.push({value:In(o),range:a})});let s=t;for(let i=n.length-1;i>=0;i-=1){let{value:a,range:o}=n[i]||v();s=s.slice(0,o[0])+a+s.slice(o[1])}return s}function In(t){switch(typeof t){case"undefined":return"";case"string":return t;case"bigint":return t.toString();case"number":return t.toString();case"boolean":return t.toString();case"symbol":return`Symbol(${t.description})`||"Symbol";case"function":return t.name;case"object":return t?Object.hasOwn(t,"toString")&&typeof t.toString=="function"?t.toString():JSON.stringify(t,null,"	"):"";default:return""}}function Tn(t){for(let e of Object.values(t))for(let r of Object.values(e))for(let n of Object.values(r))n.variants=n.variants.map(s=>new At(s));return t}var re=new m(/\[(\.{3})?([\w-]+)]/),Dn=new m(/(?:https?:\/{2})?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b[\w#%&()+./:=?@~-]*/),ze=class{#e={};#t;constructor(t={},e={}){this.#t=t,this.#e=e}static fromConfig({translations:t,translationLoadingRules:e}){return new ze().addTranslations(t).addTranslationLoadingRules(e)}get(t,e,r,n="",s={},i={},a=!1){let o=this.#r(t,e,r,a);!o&&n&&n!==r&&(o=this.#r(t,e,n,a));let l={score:0,value:o?.default||t};for(let c of o?.variants||[]){let p=c.calculateMatchingScore(s);p>l.score&&(l.score=p,l.value=c.value)}return Nn(l.value,s,i)}getRouteGroups(){return Object.keys(this.#t).filter(t=>t.startsWith("/"))}getParamRouteGroups(){return Object.keys(this.#t).filter(t=>t.startsWith("/")&&re.test(t))}getLocaleTranslationVariables(t){let e={};for(let r of Object.values(this.#t)){if(!r[t])continue;let n=Object.entries(r[t]||v());for(let[s,{default:i,variants:a}]of n){let o={interpolationVars:[],variantVars:[],isVariantRequired:!1},l=[];if(i===void 0?o.isVariantRequired=!0:l.push(i),a.length>0){let d={};for(let{value:y,properties:j}of a){l.push(y);for(let{name:O,values:V}of j)d[O]=[...d[O]||[],...V]}o.variantVars=Object.entries(d).map(([y,j])=>({name:y,values:j}))}for(let d of l)_e.exec(d,({match:y})=>{y[1]&&(o.interpolationVars=[...new Set([...o.interpolationVars,...Z(y[1])])])});if(!e[s]){e[s]=o;continue}let{interpolationVars:c,variantVars:p,isVariantRequired:f}=e[s]||{},w=[...new Set([...c||[],...o.interpolationVars])],h=[];for(let d of o.variantVars){let y=p?.find(j=>j.name===d.name);h.push(y?{name:d.name,values:[...new Set([...y?.values||[],...d.values])]}:d)}e[s]={interpolationVars:w,variantVars:h,isVariantRequired:(f||!1)&&o.isVariantRequired}}}return e}addTranslations(t){for(let[e,r]of Object.entries(t)){let n=Object.entries(r);if(n.length===0&&!this.#t[e]){this.#t[e]={};continue}for(let[s,i]of n)ft(this.#t,[e,s],Ue(i))}return this}addTranslationLoadingRules(t){if(t.length===0)return this;let{routes:e}=Jr(this.#t);for(let r of t){let n=[];for(let s of r.groups){let i=m.fromString(s);n.push(...Object.keys(this.#t).filter(a=>i.test(a)))}for(let s of r.routes){let i=m.fromString(s),a=e.filter(o=>i.test(o));for(let o of a){if(!this.#e[o]){this.#e[o]=[...new Set(n)];continue}this.#e[o]=[...new Set([...this.#e[o]||v(),...n])]}}}return this}clear(){this.#e={},this.#t={}}toClientSideObject(t){let e={};if(this.#e[t])for(let r of this.#e[t]||v())e[r]=this.#t[r]||{};return this.#t[t]&&(e[t]=this.#t[t]||{}),this.#t[J]&&(e[J]=this.#t[J]||{}),e}toObject(){return{loadDirectives:this.#e,translations:this.#t}}toString(){return JSON.stringify(this.toObject(),null,"	")}#r(t,e,r,n=!1){let s=null;if(n){let i=this.getRouteGroups();for(let a of i)for(let o of this.#e[a]||[]){let l=this.#t[o]?.[r]?.[t];if(l){s=l;break}}if(!s)for(let a of i)this.#t[a]?.[r]?.[t]&&(s=this.#t[a]?.[r]?.[t]||v())}else{for(let i of this.#e[e]||[]){let a=this.#t[i]?.[r]?.[t];if(a){s=a;break}}!s&&this.#t[e]?.[r]?.[t]&&(s=this.#t[e]?.[r]?.[t]||v())}return!s&&this.#t[J]?.[r]?.[t]&&(s=this.#t[J]?.[r]?.[t]||v()),s}},qt=ze,Mn=class extends Error{constructor(t){super(t?`Invalid date (${t}).`:"Invalid date.")}},An=Mn,qn=class extends TypeError{constructor(t,e){t?super(e?`Invalid formatter (${e}) parameter: ${t}`:`Invalid formatter parameter: ${t}`):super(e?`Invalid formatter (${e}) parameter.`:"Invalid formatter parameter.")}},dt=qn,Fn=class extends TypeError{constructor(t,e){t?super(e?`Invalid formatter (${e}) value: ${t}`:`Invalid formatter value: ${t}`):super(e?`Invalid formatter (${e}) value.`:"Invalid formatter value.")}},nt=Fn;function pe(t){if(typeof t!="string")throw new nt(`Received value is not a string, found "${t}".`,"upper");return t.toUpperCase()}function de(t){if(typeof t!="string")throw new nt(`Received value is not a string, found "${t}".`,"lower");return t.toLowerCase()}function Vn(t){if(typeof t!="string")throw new nt(`Received value is not a string, found "${t}".`,"capitalize");return`${t.slice(0,1).toUpperCase()}${t.slice(1).toLowerCase()}`}function Un(t,e){return t??e}function me(t,e){return t||e}function zn(t,e){return typeof t=="string"?t:e}function Jn(t,e=!0){if(typeof t=="symbol")throw new nt(`Received value cannot be a symbol, found "${t.toString()}".`,"json");if(typeof e!="boolean")throw new dt(`format must be a boolean, found "${e}".`,"json");return e?JSON.stringify(t,null,"	"):JSON.stringify(t)}function Gn(t,e={},r=rt.locale){if(typeof t=="string"&&(t=Number.parseFloat(t)),!fr(t))throw new nt(`Received value is not a number, found "${t}".`,"intl_format_number");if(!$(e))throw new dt(`options must be an object, found "${e}".`,"intl_format_number");if(typeof r!="string")throw new dt(`locale must be a string, found "${r}".`,"intl_format_number");return new Intl.NumberFormat(r,e).format(t)}function Bn(t,e={},r=rt.locale){if(typeof t!="string"&&typeof t!="number"&&!(t instanceof Date))throw new nt(`Received value is not a string, number or Date, found "${t}".`,"intl_format_date");if(t=t instanceof Date?t:new Date(t),!hr(t))throw new An(t);if(!$(e))throw new dt(`options must be an object, found "${e}".`,"intl_format_date");if(typeof r!="string")throw new dt(`locale must be a string, found "${r}".`,"intl_format_date");return new Intl.DateTimeFormat(r,e)}var Kn=F.fromRegex(fn).assertStarting().assertEnding().build().toMatcher();function Yn(t){let e=Kn(t.toString());if(!e)return{args:[],body:""};let[,r,n]=e.match;return{args:Hn(r||""),body:Qn(n||"")}}function Zn(t){let e={};for(let[r,n]of Object.entries(t))e[r]=new Function(...n.args,n.body);return e}function Hn(t){return t.trim().split(",").map(e=>e.trim())}function Qn(t){return t.trim().endsWith("}")?t.slice(0,-1):t}var Xn=class{#e={upper:pe,uppercase:pe,lower:de,lowercase:de,capitalize:Vn,json:Jn,default_nullish:Un,default:me,default_falsy:me,default_non_string:zn,intl_format_number:Gn,intl_format_date:Bn};#t;#r;constructor(t={}){this.#t=t,this.#r={...this.#e,...this.#t}}get default(){return this.#e}get custom(){return this.#t}addFormaters(t){for(let[e,r]of Object.entries(t))this.#r[e]||(this.#r[e]=r,this.#t[e]=r);return this}clear(){this.#t={},this.#r={}}toClientSideObject(){let t={};for(let[e,r]of Object.entries(this.#t))t[e]=Yn(r);return t}toObject(){return this.#r}toString(){return JSON.stringify(this.toObject(),null,"	")}},Ft=Xn,ts=class extends Error{constructor(t){super(t?`Invalid environment: ${t}`:"Invalid environment.")}},es=ts,Je=class{#e;#t;constructor(t={},e=""){this.#t=t,this.#e=e}static fromConfig({routes:t,primaryLocale:e}){return new Je({},e).addSegments(t)}get(t,e,r){return this.#t[e]?.[t]?.[r]||null}getSegmentLocales(t){let e=[];for(let[r,n]of Object.entries(this.#t))n[t]&&e.push(r);return e}addSegments(t){let e=Object.entries(t);for(let[r,n]of e){let s=e.filter(([i])=>i!==r&&i!==this.#e);for(let[i,a]of Object.entries(n)){ft(this.#t,[this.#e,i,r],a),ft(this.#t,[r,a,this.#e],i);for(let[o,l]of s)l[i]&&ft(this.#t,[r,a,o],l[i])}}return this}clear(){this.#e="",this.#t={}}toClientSideObject(){return{...this.#t}}toObject(){return{primaryLocale:this.#e,segments:this.#t}}toString(){return JSON.stringify(this.toObject(),null,"	")}},Vt=Je,rs=class extends Error{constructor(){super("Cannot initialize astro-i18n, it already has been initialized.")}},ns=rs,ss=class extends Error{constructor(t){super(t?`Cannot use filesystem: ${t}`:"Cannot use filesystem.")}},as=ss,is=class extends Error{constructor(){super(`Could not find the serialized ${q} state in the DOM. Check your ${q} config.`)}},os=is;function ls(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e)){if(!$(r))return!1;for(let n of Object.values(r))if(typeof n!="string")return!1}}return!0}function us(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;let r=Object.entries(e);if(r.length<2)return!1;for(let[n,s]of r)switch(n){case"args":{if(!pt(s))return!1;break}case"body":{if(typeof s!="string")return!1;break}}}return!0}function cs(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let r of Object.values(e))if(!fs(r))return!1}return!0}function fs(t){if(!$(t))return!1;for(let e of Object.values(t)){if(!$(e))return!1;for(let[r,n]of Object.entries(e))switch(r){case"default":{if(typeof n!="string")return!1;break}case"variants":{if(!gt(n)||!n.every(s=>hs(s)))return!1;break}default:return!1}}return!0}function hs(t){if(!$(t))return!1;let e=Object.entries(t);if(e.length<4)return!1;for(let[r,n]of e)switch(r){case"raw":{if(typeof n!="string")return!1;break}case"priority":{if(typeof n!="number")return!1;break}case"properties":{if(!gt(n)||!n.every(s=>ps(s)))return!1;break}case"value":{if(typeof n!="string")return!1;break}default:return!1}return!0}function ps(t){if(!$(t))return!1;let e=Object.entries(t);if(e.length<2)return!1;for(let[r,n]of e)switch(r){case"name":{if(typeof n!="string")return!1;break}case"values":{if(!gt(n)||!n.every(s=>typeof s=="boolean"||typeof s=="string"||typeof s=="number"||s==null))return!1;break}default:return!1}return!0}function ds(t){if(!$(t))return!1;let e=Object.entries(t);if(e.length<5)return!1;for(let[r,n]of e)switch(r){case"locale":{if(typeof n!="string")return!1;break}case"route":{if(typeof n!="string")return!1;break}case"config":{if(!rn(n))return!1;break}case"translations":{if(!cs(n))return!1;break}case"segments":{if(!ls(n))return!1;break}case"formatters":{if(!us(n))return!1;break}default:return!1}return!0}function ge(t){return Dn.test(t)}function ms(t){let e="",r=0;return re.exec(t,({match:n,range:[s,i]})=>{if(e+=t.slice(r,s),!n[2]){r=i;return}e+=n[1]?"[\\w/-]+":"[\\w-]+",r=i}),e+=t.slice(r),m.fromString(e.replaceAll("/","\\/"))}var gs=class extends Error{constructor(){super("Cannot perform operation, astro-i18n is not initialized.")}},we=gs,ws=class extends Error{constructor(){super("Could not redirect, is this code running in the server ?")}},ys=ws,bt,U,D,M,k,L,R,W,P,A,z,_,X,Ut,Ge,zt,Be,Jt,Ke,Gt,Ye,Bt,Ze,lt,$t,St,Kt,jt,Yt,ut,kt,xt,Zt,Ht,He,Qt,Qe,Xt=class{constructor(){g(this,Ut),g(this,zt),g(this,Jt),g(this,Gt),g(this,Bt),g(this,lt),g(this,St),g(this,jt),g(this,ut),g(this,xt),g(this,Ht),g(this,Qt),g(this,U,void 0),g(this,D,""),g(this,M,""),g(this,k,new ot),g(this,L,new qt),g(this,R,new Vt),g(this,W,new Ft),g(this,P,!1),g(this,A,!1),g(this,z,{}),g(this,_,null),g(this,X,""),typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"?b(this,U,Y.NODE):typeof window>"u"?b(this,U,Y.NONE):(b(this,U,Y.BROWSER),u(this,k).run==="client+server"&&S(this,Ut,Ge).call(this))}get environment(){return u(this,U).toString()}get route(){return u(this,A)?"":u(this,M)}set route(t){ge(t)&&(t=new URL(t).pathname),t=decodeURI(t);let{locale:e,route:r}=S(this,ut,kt).call(this,t);b(this,M,r),b(this,D,e||S(this,jt,Yt).call(this,S(this,xt,Zt).call(this,r))||this.primaryLocale)}get pages(){return u(this,L).getRouteGroups()}get page(){return S(this,lt,$t).call(this,this.route)}get locale(){return u(this,D)}get locales(){return[u(this,k).primaryLocale,...u(this,k).secondaryLocales]}get primaryLocale(){return u(this,k).primaryLocale}get secondaryLocales(){return u(this,k).secondaryLocales}get fallbackLocale(){return u(this,k).fallbackLocale}get isInitialized(){return u(this,P)}get internals(){return{toHtml:S(this,Ht,He).bind(this),config:u(this,k),segments:u(this,R),translations:u(this,L),splitLocaleAndRoute:S(this,ut,kt).bind(this),toString:S(this,Qt,Qe).bind(this),waitInitialization:S(this,zt,Be).bind(this),setPrivateProperties:S(this,Bt,Ze).bind(this),reinitalize:S(this,Jt,Ke).bind(this),getAndClearRedirection:S(this,Gt,Ye).bind(this)}}t(t,e={},r={}){if(!u(this,P))throw new we;let{route:n,locale:s,fallbackLocale:i}=r;if(u(this,A))return u(this,L).get(t,"",s||this.locale,i||this.fallbackLocale,e,u(this,W).toObject(),!0);let a=n?S(this,lt,$t).call(this,n):S(this,lt,$t).call(this,this.route);return u(this,L).get(t,a||"",s||this.locale,i||this.fallbackLocale,e,u(this,W).toObject())}l(t,e={},r={}){if(!u(this,P))throw new we;let{targetLocale:n,routeLocale:s,showPrimaryLocale:i,query:a}=r,o=S(this,xt,Zt).call(this,decodeURI(t)),l=this.locales.includes(o[0]||"")&&o.shift()||"",c=s||l||S(this,jt,Yt).call(this,o)||this.primaryLocale,p=n||this.locale,f=o.map(y=>u(this,R).get(y,c,p)||y).join("/"),w=Object.entries(e);if(w.length>0)for(let[y,j]of w)f=f.replace(`[${y}]`,String(j).replace("/",""));if((i===void 0?u(this,k).showPrimaryLocale||p!==this.primaryLocale:i)&&(f=f?`${p}/${f}`:p),u(this,k).trailingSlash==="always"&&(f+="/"),f=f.startsWith("/")?f:`/${f}`,!a)return f;let h={};for(let[y,j]of Object.entries(a))h[y]=String(j);let d=new URLSearchParams(h).toString();return d?`${f}?${d}`:f}addTranslations(t){return u(this,L).addTranslations(t),S(this,St,Kt).call(this),this}addFormatters(t){return u(this,W).addFormaters(t),this}addTranslationLoadingRules(t){return u(this,L).addTranslationLoadingRules(t),this}addRoutes(t){return u(this,R).addSegments(t),S(this,St,Kt).call(this),this}extractRouteLocale(t){return S(this,ut,kt).call(this,t).locale}redirect(t,e=301){if(this.environment===Y.BROWSER)throw new ys;if(typeof t=="string"){let r=ge(t)?new URL(t):new URL(`${u(this,X)}/${t.replace(/^\//,"")}`);b(this,_,Response.redirect(r,e));return}b(this,_,Response.redirect(t,e))}async initialize(t=void 0,e={}){if(u(this,P))throw new ns;switch(u(this,U)){case Y.NODE:{b(this,k,typeof t=="object"?await new ot(t).loadFilesystemTranslations():await ot.fromFilesystem(t));break}case Y.NONE:{if(typeof t=="string")throw new as("Cannot load config from filesystem in a non-node environment.");b(this,k,new ot(t||{}));break}default:throw new es("Cannot initialize in a browser environment.")}b(this,L,qt.fromConfig(u(this,k))),b(this,R,Vt.fromConfig(u(this,k))),b(this,W,new Ft(e)),b(this,P,!0)}},Xe=Xt;bt=new WeakMap,U=new WeakMap,D=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,R=new WeakMap,W=new WeakMap,P=new WeakMap,A=new WeakMap,z=new WeakMap,_=new WeakMap,X=new WeakMap,Ut=new WeakSet,Ge=function(){let t=document.querySelector(`#${u(Xt,bt)}`);if(!t||!t.textContent)throw new os;let e=JSON.parse(t.textContent);mt(e,ds),b(this,D,e.locale),b(this,M,e.route),b(this,k,new ot(e.config)),b(this,L,new qt(Tn(e.translations))),b(this,R,new Vt(e.segments,e.config.primaryLocale)),b(this,W,new Ft(Zn(e.formatters))),b(this,P,!0),t.remove()},zt=new WeakSet,Be=async function(){let t=e=>{u(this,P)?e():setTimeout(()=>t(e),25)};return new Promise(t)},Jt=new WeakSet,Ke=async function(t=void 0,e={}){b(this,P,!1),u(this,L).clear(),u(this,R).clear(),u(this,W).clear(),await this.initialize(t,e)},Gt=new WeakSet,Ye=function(){let t=u(this,_);return b(this,_,null),t},Bt=new WeakSet,Ze=function(t={}){let{route:e,locale:r,isGetStaticPaths:n,origin:s}={route:u(this,M),locale:u(this,D),isGetStaticPaths:u(this,A),origin:u(this,X),...t};b(this,M,e),b(this,D,r),b(this,A,n),b(this,X,s)},lt=new WeakSet,$t=function(t){if(u(this,A))return null;if(u(this,z)[t])return u(this,z)[t]||v();let e=this.l(t,void 0,{targetLocale:this.primaryLocale});if(this.pages.includes(e))return e;let r=null;for(let n of this.pages)if(re.test(n)&&ms(n).test(t)){r=n;break}return!r||!this.pages.includes(r)?null:(u(this,z)[t]=r,r)},St=new WeakSet,Kt=function(){b(this,z,{})},jt=new WeakSet,Yt=function(t){let e={};for(let n of t)for(let s of u(this,R).getSegmentLocales(n))e[s]||(e[s]=0),e[s]+=1;let r={locale:"",score:0,isExAequo:!0};for(let[n,s]of Object.entries(e)){if(s>r.score){r.locale=n,r.score=s,r.isExAequo=!1;continue}s===r.score&&(r.isExAequo=!0)}return r.isExAequo?null:r.locale||null},ut=new WeakSet,kt=function(t){t.startsWith("/")||(t=`/${t}`);let e=m.fromString(`\\/(${this.locales.join("|")})(?:\\/.*)?$`),{match:r}=e.match(t)||{},n=r?.[1]||null;return{locale:n,route:n?t.replace(`/${n}`,"").replace(/\/$/,"")||"/":t.replace(/\/$/,"")||"/"}},xt=new WeakSet,Zt=function(t){return t.replace(/^\//,"").replace(/\/$/,"").split("/")},Ht=new WeakSet,He=function(){let t={locale:u(this,D),route:u(this,M),config:u(this,k).toClientSideObject(),translations:u(this,L).toClientSideObject(this.route),segments:u(this,R).toClientSideObject(),formatters:u(this,W).toClientSideObject()};return`<script id="${u(Xt,bt)}" type="application/json">${JSON.stringify(t)}<\/script>`},Qt=new WeakSet,Qe=function(){let t={};for(let[e,r]of Object.entries(u(this,W).toObject()))t[e]=r.name;return JSON.stringify({environment:this.environment,route:this.route,locale:this.locale,locales:this.locales,primaryLocale:this.primaryLocale,secondaryLocales:this.secondaryLocales,fallbackLocale:this.fallbackLocale,isInitialized:this.isInitialized,"#redirection":u(this,_)instanceof Response?{url:u(this,_).url,status:u(this,_).status}:u(this,_),"#origin":u(this,X),"#isGetStaticPaths":u(this,A),"#routePageCache":u(this,z),"#config":u(this,k).toObject(),"#translations":u(this,L).toObject(),"#segments":u(this,R).toObject(),"#formatters":t},null,"	")},g(Xe,bt,`__${q}__`);var bs=Xe,rt=new bs,vs=rt.t.bind(rt),$s=rt.l.bind(rt);function Ss(t,e){return vs(t,e)}const js="single-direction";function ks(t){const e=`currentTechniques:${t}`;return{async save(r){localStorage.setItem(e,JSON.stringify(r))},async load(){const r=localStorage.getItem(e);return r==null?[]:Promise.resolve(JSON.parse(r))}}}export{js as S,$s as a,ks as c,Ss as t};
