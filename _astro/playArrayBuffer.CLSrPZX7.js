import{a as d,g as u,v as f,d as m,e as y,t as p}from"./web.CzWjSvCR.js";import{c as g}from"./CheckButton.qBGektmF.js";import{n as v}from"./index.browser.CocxCElG.js";var w=p('<div><div class="bg-primary h-full w-0">');const L=e=>{const[t,a]=d();async function o(n,r){const s=t();if(s==null)return;const l=s.animate([{width:"0%"},{width:"100%"}],{fill:"forwards",easing:"linear",duration:n*1e3}),c=()=>{l.cancel()};r.addEventListener("abort",c);try{await l.finished}catch{}r.removeEventListener("abort",c)}return e.setDelayControl({animateDelay:o}),(()=>{var n=u(w),r=n.firstChild;return f(a,r),m(()=>y(n,g("w-full h-1",e.disabled?"bg-secondary-lightest":"bg-primary-lightest"))),n})()};function h(){let e=null,t=null;const a=new Promise((o,n)=>{e=o,t=n});return a.id="pwr--"+v(4),{promise:a,resolve:e,reject:t}}function b(e){const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}const B=async(e,t={})=>{const a=E(),{resolve:o,promise:n}=h(),r=a.createBufferSource(),s=b(e);if(r.buffer=await a.decodeAudioData(s),r.connect(a.destination),!t.abortSignal?.aborted)return t.abortSignal?.addEventListener("abort",()=>r.stop()),r.start(),r.addEventListener("ended",()=>o()),n};let i=null;function E(){return i==null&&(i=new AudioContext),i}export{L as D,B as p};
