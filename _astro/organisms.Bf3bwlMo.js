import{g as m,j as gr,r as ye,t as C,b as x,i as d,c as h,F as Vr,o as hr,k as $r,l as Qr,a as j,s as je,d as Le,n as et,e as rt,p as Fe,q as tt,h as at}from"./web.BNk9p1T7.js";import{t as y,S as nt,c as De,a as it}from"./techniqueStore.BIMTmklH.js";import{F as se,I as st,L as ot}from"./ForEntries.CUG-2f2P.js";import{C as me,n as ct,S as ge}from"./index.browser.ByjWbkVB.js";import{c as K,g as _r}from"./_commonjsHelpers.BosuxZz1.js";var lt=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const ut=(e={})=>(()=>{var r=m(lt);return gr(r,e,!0,!0),ye(),r})();var ft=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const vt=(e={})=>(()=>{var r=m(ft);return gr(r,e,!0,!0),ye(),r})(),dt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];function gt(e){const r={};for(const t of e)ht(r,t);return r}function ht(e,r){const t=oe(e,r.execution,ce),a=oe(t,r.attack,ce),n=oe(a,r.defence,ce);n[r.direction]=r.metadata}function oe(e,r,t){const a=e[r];if(a!=null)return a;const n=t();return e[r]=n,n}function ce(){return{}}var $t=C('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),_t=C('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),pt=C('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),bt=C("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),yt=C('<span class="text-sm text-secondary">( <!$><!/> )'),Re=C("<span>");const mt=e=>(()=>{var r=m($t),t=r.firstChild,[a,n]=x(t.nextSibling),i=a.nextSibling;return d(r,h(se,{get object(){return gt(e.techniques)},children:(s,o)=>(()=>{var c=m(_t),l=c.firstChild,f=l.nextSibling;return d(l,s),d(f,h(se,{object:o,children:(g,u)=>(()=>{var _=m(pt),$=_.firstChild,p=$.nextSibling;return d($,g),d(p,h(se,{object:u,children:(S,A)=>(()=>{var b=m(bt),E=b.firstChild,w=E.nextSibling,P=w.nextSibling,[ae,ne]=x(P.nextSibling);return d(E,S),d(b,h(St,{directions:A}),ae,ne),b})()})),_})()})),c})()}),a,n),d(i,()=>y("examChooser.created-by",{url:window.location.origin})),r})(),St=e=>{const r=Object.keys(e.directions);return r.length===1&&r[0]===nt?null:(()=>{var t=m(yt),a=t.firstChild,n=a.nextSibling,[i,s]=x(n.nextSibling);return i.nextSibling,d(t,h(Vr,{each:r,children:(o,c)=>c()>0?[", ",(()=>{var l=m(Re);return d(l,o),l})()]:(()=>{var l=m(Re);return d(l,o),l})()}),i,s),t})()},At=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>h(me,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function le([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),hr(()=>{$r(()=>{s.setItem(t,n(e()))})}),[e,r]}var Ct=C('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const ue=e=>(()=>{var r=m(Ct),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return d(n,()=>e.headerLabel),d(i,()=>e.children),r})(),xt=e=>h(me,{get label(){return y("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})});var Tt=C("<div><input type=range min=1 max=100><label>");const wt=e=>{function r(o,c){e.onChange({...e.value,[o]:c})}const t=ct(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return $r(()=>s(e.value.includePercent)),hr(()=>{n(!0)}),[h(me,{get label(){return y("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),h(ge,{color:"secondary",icon:ut,get label(){return y("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=m(Tt),c=o.firstChild,l=c.nextSibling;return c.addEventListener("change",f=>r("includePercent",Number(f.target.value))),c.$$input=f=>s(Number(f.target.value)),je(c,"id",t),je(l,"for",t),d(l,()=>y("examChooser.order.includePercent",{percent:i()})),Le(f=>{var g={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},u=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,_=!a||!e.value.randomize;return f.e=et(o,g,f.e),u!==f.t&&rt(c,f.t=u),_!==f.a&&Fe(c,"disabled",f.a=_),f},{e:void 0,t:void 0,a:void 0}),Le(()=>Fe(c,"value",i())),ye(),o})()]};Qr(["input"]);function Ot(e){const r=[];for(const t of e)for(const[a,n]of q(t.techniques))for(const[i,s]of q(n))for(const[o,c]of q(s))for(const[l,f]of q(c))r.push({execution:a,attack:i,defence:o,direction:l,metadata:f});return r}const q=Object.entries,Pt={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function Et(e){return r=>!e.kneeFriendly||Pt.kneeFriendly.filter(r)}function It(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var Mt=It,jt=Math.floor,Lt=Math.random;function Ft(e,r){return e+jt(Lt()*(r-e+1))}var Dt=Ft,Rt=Dt;function Gt(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=Rt(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var pr=Gt,Nt=Mt,zt=pr;function Bt(e){return zt(Nt(e))}var Ht=Bt;function Kt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var br=Kt,qt=br;function Ut(e,r){return qt(r,function(t){return e[t]})}var kt=Ut;function Jt(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var Wt=Jt,Xt=typeof K=="object"&&K&&K.Object===Object&&K,yr=Xt,Yt=yr,Zt=typeof self=="object"&&self&&self.Object===Object&&self,Vt=Yt||Zt||Function("return this")(),O=Vt,Qt=O,ea=Qt.Symbol,Y=ea,Ge=Y,mr=Object.prototype,ra=mr.hasOwnProperty,ta=mr.toString,N=Ge?Ge.toStringTag:void 0;function aa(e){var r=ra.call(e,N),t=e[N];try{e[N]=void 0;var a=!0}catch{}var n=ta.call(e);return a&&(r?e[N]=t:delete e[N]),n}var na=aa,ia=Object.prototype,sa=ia.toString;function oa(e){return sa.call(e)}var ca=oa,Ne=Y,la=na,ua=ca,fa="[object Null]",va="[object Undefined]",ze=Ne?Ne.toStringTag:void 0;function da(e){return e==null?e===void 0?va:fa:ze&&ze in Object(e)?la(e):ua(e)}var z=da;function ga(e){return e!=null&&typeof e=="object"}var B=ga,ha=z,$a=B,_a="[object Arguments]";function pa(e){return $a(e)&&ha(e)==_a}var ba=pa,Be=ba,ya=B,Sr=Object.prototype,ma=Sr.hasOwnProperty,Sa=Sr.propertyIsEnumerable,Aa=Be(function(){return arguments}())?Be:function(e){return ya(e)&&ma.call(e,"callee")&&!Sa.call(e,"callee")},Ar=Aa,Ca=Array.isArray,T=Ca,J={exports:{}};function xa(){return!1}var Ta=xa;J.exports;(function(e,r){var t=O,a=Ta,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,c=o?o.isBuffer:void 0,l=c||a;e.exports=l})(J,J.exports);var Cr=J.exports,wa=9007199254740991,Oa=/^(?:0|[1-9]\d*)$/;function Pa(e,r){var t=typeof e;return r=r??wa,!!r&&(t=="number"||t!="symbol"&&Oa.test(e))&&e>-1&&e%1==0&&e<r}var xr=Pa,Ea=9007199254740991;function Ia(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ea}var Se=Ia,Ma=z,ja=Se,La=B,Fa="[object Arguments]",Da="[object Array]",Ra="[object Boolean]",Ga="[object Date]",Na="[object Error]",za="[object Function]",Ba="[object Map]",Ha="[object Number]",Ka="[object Object]",qa="[object RegExp]",Ua="[object Set]",ka="[object String]",Ja="[object WeakMap]",Wa="[object ArrayBuffer]",Xa="[object DataView]",Ya="[object Float32Array]",Za="[object Float64Array]",Va="[object Int8Array]",Qa="[object Int16Array]",en="[object Int32Array]",rn="[object Uint8Array]",tn="[object Uint8ClampedArray]",an="[object Uint16Array]",nn="[object Uint32Array]",v={};v[Ya]=v[Za]=v[Va]=v[Qa]=v[en]=v[rn]=v[tn]=v[an]=v[nn]=!0;v[Fa]=v[Da]=v[Wa]=v[Ra]=v[Xa]=v[Ga]=v[Na]=v[za]=v[Ba]=v[Ha]=v[Ka]=v[qa]=v[Ua]=v[ka]=v[Ja]=!1;function sn(e){return La(e)&&ja(e.length)&&!!v[Ma(e)]}var on=sn;function cn(e){return function(r){return e(r)}}var ln=cn,W={exports:{}};W.exports;(function(e,r){var t=yr,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var c=n&&n.require&&n.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(W,W.exports);var un=W.exports,fn=on,vn=ln,He=un,Ke=He&&He.isTypedArray,dn=Ke?vn(Ke):fn,Tr=dn,gn=Wt,hn=Ar,$n=T,_n=Cr,pn=xr,bn=Tr,yn=Object.prototype,mn=yn.hasOwnProperty;function Sn(e,r){var t=$n(e),a=!t&&hn(e),n=!t&&!a&&_n(e),i=!t&&!a&&!n&&bn(e),s=t||a||n||i,o=s?gn(e.length,String):[],c=o.length;for(var l in e)(r||mn.call(e,l))&&!(s&&(l=="length"||n&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||pn(l,c)))&&o.push(l);return o}var An=Sn,Cn=Object.prototype;function xn(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Cn;return e===t}var Tn=xn;function wn(e,r){return function(t){return e(r(t))}}var On=wn,Pn=On,En=Pn(Object.keys,Object),In=En,Mn=Tn,jn=In,Ln=Object.prototype,Fn=Ln.hasOwnProperty;function Dn(e){if(!Mn(e))return jn(e);var r=[];for(var t in Object(e))Fn.call(e,t)&&t!="constructor"&&r.push(t);return r}var Rn=Dn;function Gn(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Ae=Gn,Nn=z,zn=Ae,Bn="[object AsyncFunction]",Hn="[object Function]",Kn="[object GeneratorFunction]",qn="[object Proxy]";function Un(e){if(!zn(e))return!1;var r=Nn(e);return r==Hn||r==Kn||r==Bn||r==qn}var wr=Un,kn=wr,Jn=Se;function Wn(e){return e!=null&&Jn(e.length)&&!kn(e)}var Or=Wn,Xn=An,Yn=Rn,Zn=Or;function Vn(e){return Zn(e)?Xn(e):Yn(e)}var Z=Vn,Qn=kt,ei=Z;function ri(e){return e==null?[]:Qn(e,ei(e))}var ti=ri,ai=pr,ni=ti;function ii(e){return ai(ni(e))}var si=ii,oi=Ht,ci=si,li=T;function ui(e){var r=li(e)?oi:ci;return r(e)}var fi=ui;const vi=_r(fi);function di(e){return vi(e)}function gi(e,{includePercent:r=100}={}){const t=di(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var hi=O,$i=hi["__core-js_shared__"],_i=$i,fe=_i,qe=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pi(e){return!!qe&&qe in e}var bi=pi,yi=Function.prototype,mi=yi.toString;function Si(e){if(e!=null){try{return mi.call(e)}catch{}try{return e+""}catch{}}return""}var Pr=Si,Ai=wr,Ci=bi,xi=Ae,Ti=Pr,wi=/[\\^$.*+?()[\]{}|]/g,Oi=/^\[object .+?Constructor\]$/,Pi=Function.prototype,Ei=Object.prototype,Ii=Pi.toString,Mi=Ei.hasOwnProperty,ji=RegExp("^"+Ii.call(Mi).replace(wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Li(e){if(!xi(e)||Ci(e))return!1;var r=Ai(e)?ji:Oi;return r.test(Ti(e))}var Fi=Li;function Di(e,r){return e?.[r]}var Ri=Di,Gi=Fi,Ni=Ri;function zi(e,r){var t=Ni(e,r);return Gi(t)?t:void 0}var M=zi,Bi=M,Hi=function(){try{var e=Bi(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ki=Hi,Ue=Ki;function qi(e,r,t){r=="__proto__"&&Ue?Ue(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Ui=qi;function ki(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Ji=ki;function Wi(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var c=s[e?o:++n];if(t(i[c],c,i)===!1)break}return r}}var Xi=Wi,Yi=Xi,Zi=Yi(),Vi=Zi,Qi=Vi,es=Z;function rs(e,r){return e&&Qi(e,r,es)}var ts=rs,as=Or;function ns(e,r){return function(t,a){if(t==null)return t;if(!as(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var is=ns,ss=ts,os=is,cs=os(ss),ls=cs,us=ls;function fs(e,r,t,a){return us(e,function(n,i,s){r(a,n,t(n),s)}),a}var vs=fs;function ds(){this.__data__=[],this.size=0}var gs=ds;function hs(e,r){return e===r||e!==e&&r!==r}var Er=hs,$s=Er;function _s(e,r){for(var t=e.length;t--;)if($s(e[t][0],r))return t;return-1}var V=_s,ps=V,bs=Array.prototype,ys=bs.splice;function ms(e){var r=this.__data__,t=ps(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():ys.call(r,t,1),--this.size,!0}var Ss=ms,As=V;function Cs(e){var r=this.__data__,t=As(r,e);return t<0?void 0:r[t][1]}var xs=Cs,Ts=V;function ws(e){return Ts(this.__data__,e)>-1}var Os=ws,Ps=V;function Es(e,r){var t=this.__data__,a=Ps(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Is=Es,Ms=gs,js=Ss,Ls=xs,Fs=Os,Ds=Is;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=Ms;L.prototype.delete=js;L.prototype.get=Ls;L.prototype.has=Fs;L.prototype.set=Ds;var Q=L,Rs=Q;function Gs(){this.__data__=new Rs,this.size=0}var Ns=Gs;function zs(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Bs=zs;function Hs(e){return this.__data__.get(e)}var Ks=Hs;function qs(e){return this.__data__.has(e)}var Us=qs,ks=M,Js=O,Ws=ks(Js,"Map"),Ce=Ws,Xs=M,Ys=Xs(Object,"create"),ee=Ys,ke=ee;function Zs(){this.__data__=ke?ke(null):{},this.size=0}var Vs=Zs;function Qs(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var eo=Qs,ro=ee,to="__lodash_hash_undefined__",ao=Object.prototype,no=ao.hasOwnProperty;function io(e){var r=this.__data__;if(ro){var t=r[e];return t===to?void 0:t}return no.call(r,e)?r[e]:void 0}var so=io,oo=ee,co=Object.prototype,lo=co.hasOwnProperty;function uo(e){var r=this.__data__;return oo?r[e]!==void 0:lo.call(r,e)}var fo=uo,vo=ee,go="__lodash_hash_undefined__";function ho(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=vo&&r===void 0?go:r,this}var $o=ho,_o=Vs,po=eo,bo=so,yo=fo,mo=$o;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=_o;F.prototype.delete=po;F.prototype.get=bo;F.prototype.has=yo;F.prototype.set=mo;var So=F,Je=So,Ao=Q,Co=Ce;function xo(){this.size=0,this.__data__={hash:new Je,map:new(Co||Ao),string:new Je}}var To=xo;function wo(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Oo=wo,Po=Oo;function Eo(e,r){var t=e.__data__;return Po(r)?t[typeof r=="string"?"string":"hash"]:t.map}var re=Eo,Io=re;function Mo(e){var r=Io(this,e).delete(e);return this.size-=r?1:0,r}var jo=Mo,Lo=re;function Fo(e){return Lo(this,e).get(e)}var Do=Fo,Ro=re;function Go(e){return Ro(this,e).has(e)}var No=Go,zo=re;function Bo(e,r){var t=zo(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Ho=Bo,Ko=To,qo=jo,Uo=Do,ko=No,Jo=Ho;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=Ko;D.prototype.delete=qo;D.prototype.get=Uo;D.prototype.has=ko;D.prototype.set=Jo;var xe=D,Wo=Q,Xo=Ce,Yo=xe,Zo=200;function Vo(e,r){var t=this.__data__;if(t instanceof Wo){var a=t.__data__;if(!Xo||a.length<Zo-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new Yo(a)}return t.set(e,r),this.size=t.size,this}var Qo=Vo,ec=Q,rc=Ns,tc=Bs,ac=Ks,nc=Us,ic=Qo;function R(e){var r=this.__data__=new ec(e);this.size=r.size}R.prototype.clear=rc;R.prototype.delete=tc;R.prototype.get=ac;R.prototype.has=nc;R.prototype.set=ic;var Ir=R,sc="__lodash_hash_undefined__";function oc(e){return this.__data__.set(e,sc),this}var cc=oc;function lc(e){return this.__data__.has(e)}var uc=lc,fc=xe,vc=cc,dc=uc;function X(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new fc;++r<t;)this.add(e[r])}X.prototype.add=X.prototype.push=vc;X.prototype.has=dc;var gc=X;function hc(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var $c=hc;function _c(e,r){return e.has(r)}var pc=_c,bc=gc,yc=$c,mc=pc,Sc=1,Ac=2;function Cc(e,r,t,a,n,i){var s=t&Sc,o=e.length,c=r.length;if(o!=c&&!(s&&c>o))return!1;var l=i.get(e),f=i.get(r);if(l&&f)return l==r&&f==e;var g=-1,u=!0,_=t&Ac?new bc:void 0;for(i.set(e,r),i.set(r,e);++g<o;){var $=e[g],p=r[g];if(a)var S=s?a(p,$,g,r,e,i):a($,p,g,e,r,i);if(S!==void 0){if(S)continue;u=!1;break}if(_){if(!yc(r,function(A,b){if(!mc(_,b)&&($===A||n($,A,t,a,i)))return _.push(b)})){u=!1;break}}else if(!($===p||n($,p,t,a,i))){u=!1;break}}return i.delete(e),i.delete(r),u}var Mr=Cc,xc=O,Tc=xc.Uint8Array,wc=Tc;function Oc(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var Pc=Oc;function Ec(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Ic=Ec,We=Y,Xe=wc,Mc=Er,jc=Mr,Lc=Pc,Fc=Ic,Dc=1,Rc=2,Gc="[object Boolean]",Nc="[object Date]",zc="[object Error]",Bc="[object Map]",Hc="[object Number]",Kc="[object RegExp]",qc="[object Set]",Uc="[object String]",kc="[object Symbol]",Jc="[object ArrayBuffer]",Wc="[object DataView]",Ye=We?We.prototype:void 0,ve=Ye?Ye.valueOf:void 0;function Xc(e,r,t,a,n,i,s){switch(t){case Wc:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Jc:return!(e.byteLength!=r.byteLength||!i(new Xe(e),new Xe(r)));case Gc:case Nc:case Hc:return Mc(+e,+r);case zc:return e.name==r.name&&e.message==r.message;case Kc:case Uc:return e==r+"";case Bc:var o=Lc;case qc:var c=a&Dc;if(o||(o=Fc),e.size!=r.size&&!c)return!1;var l=s.get(e);if(l)return l==r;a|=Rc,s.set(e,r);var f=jc(o(e),o(r),a,n,i,s);return s.delete(e),f;case kc:if(ve)return ve.call(e)==ve.call(r)}return!1}var Yc=Xc;function Zc(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var Vc=Zc,Qc=Vc,el=T;function rl(e,r,t){var a=r(e);return el(e)?a:Qc(a,t(e))}var tl=rl;function al(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var nl=al;function il(){return[]}var sl=il,ol=nl,cl=sl,ll=Object.prototype,ul=ll.propertyIsEnumerable,Ze=Object.getOwnPropertySymbols,fl=Ze?function(e){return e==null?[]:(e=Object(e),ol(Ze(e),function(r){return ul.call(e,r)}))}:cl,vl=fl,dl=tl,gl=vl,hl=Z;function $l(e){return dl(e,hl,gl)}var _l=$l,Ve=_l,pl=1,bl=Object.prototype,yl=bl.hasOwnProperty;function ml(e,r,t,a,n,i){var s=t&pl,o=Ve(e),c=o.length,l=Ve(r),f=l.length;if(c!=f&&!s)return!1;for(var g=c;g--;){var u=o[g];if(!(s?u in r:yl.call(r,u)))return!1}var _=i.get(e),$=i.get(r);if(_&&$)return _==r&&$==e;var p=!0;i.set(e,r),i.set(r,e);for(var S=s;++g<c;){u=o[g];var A=e[u],b=r[u];if(a)var E=s?a(b,A,u,r,e,i):a(A,b,u,e,r,i);if(!(E===void 0?A===b||n(A,b,t,a,i):E)){p=!1;break}S||(S=u=="constructor")}if(p&&!S){var w=e.constructor,P=r.constructor;w!=P&&"constructor"in e&&"constructor"in r&&!(typeof w=="function"&&w instanceof w&&typeof P=="function"&&P instanceof P)&&(p=!1)}return i.delete(e),i.delete(r),p}var Sl=ml,Al=M,Cl=O,xl=Al(Cl,"DataView"),Tl=xl,wl=M,Ol=O,Pl=wl(Ol,"Promise"),El=Pl,Il=M,Ml=O,jl=Il(Ml,"Set"),Ll=jl,Fl=M,Dl=O,Rl=Fl(Dl,"WeakMap"),Gl=Rl,he=Tl,$e=Ce,_e=El,pe=Ll,be=Gl,jr=z,G=Pr,Qe="[object Map]",Nl="[object Object]",er="[object Promise]",rr="[object Set]",tr="[object WeakMap]",ar="[object DataView]",zl=G(he),Bl=G($e),Hl=G(_e),Kl=G(pe),ql=G(be),I=jr;(he&&I(new he(new ArrayBuffer(1)))!=ar||$e&&I(new $e)!=Qe||_e&&I(_e.resolve())!=er||pe&&I(new pe)!=rr||be&&I(new be)!=tr)&&(I=function(e){var r=jr(e),t=r==Nl?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case zl:return ar;case Bl:return Qe;case Hl:return er;case Kl:return rr;case ql:return tr}return r});var Ul=I,de=Ir,kl=Mr,Jl=Yc,Wl=Sl,nr=Ul,ir=T,sr=Cr,Xl=Tr,Yl=1,or="[object Arguments]",cr="[object Array]",U="[object Object]",Zl=Object.prototype,lr=Zl.hasOwnProperty;function Vl(e,r,t,a,n,i){var s=ir(e),o=ir(r),c=s?cr:nr(e),l=o?cr:nr(r);c=c==or?U:c,l=l==or?U:l;var f=c==U,g=l==U,u=c==l;if(u&&sr(e)){if(!sr(r))return!1;s=!0,f=!1}if(u&&!f)return i||(i=new de),s||Xl(e)?kl(e,r,t,a,n,i):Jl(e,r,c,t,a,n,i);if(!(t&Yl)){var _=f&&lr.call(e,"__wrapped__"),$=g&&lr.call(r,"__wrapped__");if(_||$){var p=_?e.value():e,S=$?r.value():r;return i||(i=new de),n(p,S,t,a,i)}}return u?(i||(i=new de),Wl(e,r,t,a,n,i)):!1}var Ql=Vl,eu=Ql,ur=B;function Lr(e,r,t,a,n){return e===r?!0:e==null||r==null||!ur(e)&&!ur(r)?e!==e&&r!==r:eu(e,r,t,a,Lr,n)}var Fr=Lr,ru=Ir,tu=Fr,au=1,nu=2;function iu(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var c=o[0],l=e[c],f=o[1];if(s&&o[2]){if(l===void 0&&!(c in e))return!1}else{var g=new ru;if(a)var u=a(l,f,c,e,r,g);if(!(u===void 0?tu(f,l,au|nu,a,g):u))return!1}}return!0}var su=iu,ou=Ae;function cu(e){return e===e&&!ou(e)}var Dr=cu,lu=Dr,uu=Z;function fu(e){for(var r=uu(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,lu(n)]}return r}var vu=fu;function du(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Rr=du,gu=su,hu=vu,$u=Rr;function _u(e){var r=hu(e);return r.length==1&&r[0][2]?$u(r[0][0],r[0][1]):function(t){return t===e||gu(t,e,r)}}var pu=_u,bu=z,yu=B,mu="[object Symbol]";function Su(e){return typeof e=="symbol"||yu(e)&&bu(e)==mu}var Te=Su,Au=T,Cu=Te,xu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tu=/^\w*$/;function wu(e,r){if(Au(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Cu(e)?!0:Tu.test(e)||!xu.test(e)||r!=null&&e in Object(r)}var we=wu,Gr=xe,Ou="Expected a function";function Oe(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Ou);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(Oe.Cache||Gr),t}Oe.Cache=Gr;var Pu=Oe,Eu=Pu,Iu=500;function Mu(e){var r=Eu(e,function(a){return t.size===Iu&&t.clear(),a}),t=r.cache;return r}var ju=Mu,Lu=ju,Fu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Du=/\\(\\)?/g,Ru=Lu(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Fu,function(t,a,n,i){r.push(n?i.replace(Du,"$1"):a||t)}),r}),Gu=Ru,fr=Y,Nu=br,zu=T,Bu=Te,Hu=1/0,vr=fr?fr.prototype:void 0,dr=vr?vr.toString:void 0;function Nr(e){if(typeof e=="string")return e;if(zu(e))return Nu(e,Nr)+"";if(Bu(e))return dr?dr.call(e):"";var r=e+"";return r=="0"&&1/e==-Hu?"-0":r}var Ku=Nr,qu=Ku;function Uu(e){return e==null?"":qu(e)}var ku=Uu,Ju=T,Wu=we,Xu=Gu,Yu=ku;function Zu(e,r){return Ju(e)?e:Wu(e,r)?[e]:Xu(Yu(e))}var zr=Zu,Vu=Te,Qu=1/0;function ef(e){if(typeof e=="string"||Vu(e))return e;var r=e+"";return r=="0"&&1/e==-Qu?"-0":r}var te=ef,rf=zr,tf=te;function af(e,r){r=rf(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[tf(r[t++])];return t&&t==a?e:void 0}var Br=af,nf=Br;function sf(e,r,t){var a=e==null?void 0:nf(e,r);return a===void 0?t:a}var of=sf;function cf(e,r){return e!=null&&r in Object(e)}var lf=cf,uf=zr,ff=Ar,vf=T,df=xr,gf=Se,hf=te;function $f(e,r,t){r=uf(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=hf(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&gf(n)&&df(s,n)&&(vf(e)||ff(e)))}var _f=$f,pf=lf,bf=_f;function yf(e,r){return e!=null&&bf(e,r,pf)}var mf=yf,Sf=Fr,Af=of,Cf=mf,xf=we,Tf=Dr,wf=Rr,Of=te,Pf=1,Ef=2;function If(e,r){return xf(e)&&Tf(r)?wf(Of(e),r):function(t){var a=Af(t,e);return a===void 0&&a===r?Cf(t,e):Sf(r,a,Pf|Ef)}}var Mf=If;function jf(e){return e}var Lf=jf;function Ff(e){return function(r){return r?.[e]}}var Df=Ff,Rf=Br;function Gf(e){return function(r){return Rf(r,e)}}var Nf=Gf,zf=Df,Bf=Nf,Hf=we,Kf=te;function qf(e){return Hf(e)?zf(Kf(e)):Bf(e)}var Uf=qf,kf=pu,Jf=Mf,Wf=Lf,Xf=T,Yf=Uf;function Zf(e){return typeof e=="function"?e:e==null?Wf:typeof e=="object"?Xf(e)?Jf(e[0],e[1]):kf(e):Yf(e)}var Vf=Zf,Qf=Ji,ev=vs,rv=Vf,tv=T;function av(e,r){return function(t,a){var n=tv(t)?Qf:ev,i=r?r():{};return n(t,e,rv(a),i)}}var nv=av,iv=Ui,sv=nv,ov=Object.prototype,cv=ov.hasOwnProperty,lv=sv(function(e,r,t){cv.call(e,t)?e[t].push(r):iv(e,t,[r])}),uv=lv;const fv=_r(uv);function vv(e,{orderExecutions:r=!1}={}){return k(e,"execution",r?dt:null,a=>k(a,"attack",null,n=>k(n,"defence",null,i=>k(i,"direction",null,s=>s))))}function k(e,r,t,a){const n=dv(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function dv(e,r){return fv(e,r)}function gv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=Ot(e.filter(c=>t.has(c.id)));return o=o.filter(Et(a)),n&&(o=gi(o,{includePercent:i})),vv(o,{orderExecutions:s})}var hv=C("<div><!$><!/><!$><!/><!$><!/><div>"),$v=C('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><!$><!/>');const Av=e=>{const[r,t]=le(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:u=>JSON.stringify(Array.from(u)),deserialize:u=>new Set(JSON.parse(u))}),[a,n]=le(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=le(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,c]=j(!1);function l(){c(u=>!u)}const f=tt(()=>(o(),gv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),g=async()=>{const{save:u}=it(e.dojo.info.id);await u(f()),document.location.href=De(`/${e.dojo.info.id}/reader`)};return(()=>{var u=m(hv),_=u.firstChild,[$,p]=x(_.nextSibling),S=$.nextSibling,[A,b]=x(S.nextSibling),E=A.nextSibling,[w,P]=x(E.nextSibling),ae=w.nextSibling;return d(u,h(ue,{get headerLabel(){return y("examChooser.exams.header")},get children(){return h(At,{get options(){return _v(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),$,p),d(u,h(ue,{get headerLabel(){return y("examChooser.filters.header")},get children(){return h(xt,{get value(){return a()},onChange:n})}}),A,b),d(u,h(ue,{get headerLabel(){return y("examChooser.order.header")},get children(){return h(wt,{get value(){return i()},onChange:s,onForceRefresh:l})}}),w,P),d(ae,(()=>{var ne=at(()=>r().size>0);return()=>ne()&&(()=>{var ie=m($v),H=ie.firstChild,Hr=H.firstChild,[Pe,Kr]=x(Hr.nextSibling),qr=Pe.nextSibling,[Ur,kr]=x(qr.nextSibling),Jr=H.nextSibling,[Ee,Wr]=x(Jr.nextSibling),Ie=Ee.nextSibling,Me=Ie.firstChild,Xr=Me.nextSibling,[Yr,Zr]=x(Xr.nextSibling);return d(H,h(ge,{size:"small",color:"primary",icon:vt,get label(){return y("examChooser.read")},onClick:g}),Pe,Kr),d(H,h(ge,{size:"small",color:"secondary",icon:st,get label(){return y("examChooser.print")},onClick:()=>window.print()}),Ur,kr),d(ie,h(mt,{get techniques(){return f()}}),Ee,Wr),d(Me,()=>y("donations.question")),d(Ie,h(ot,{size:"small",get label(){return y("donations.action")},get href(){return De("/donations")}}),Yr,Zr),ie})()})()),u})()};function _v(e){return e.map(r=>({id:r.id,label:y(r.labelKey)}))}export{Av as TechniqueChooser};
