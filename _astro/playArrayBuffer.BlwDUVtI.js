import{a as l,g as c,u,d,e as f,t as m}from"./web.BNk9p1T7.js";import{c as y,n as w}from"./index.browser.ByjWbkVB.js";var g=m('<div><div class="bg-primary h-full w-0">');const C=t=>{const[n,a]=l();async function s(r){const e=n();if(e==null)return;const i=e.animate([{width:"0%"},{width:"100%"}],{fill:"forwards",easing:"linear",duration:r*1e3});await i.finished,i.cancel(),e.style.width="0"}return t.setDelayControl({animateDelay:s}),(()=>{var r=c(g),e=r.firstChild;return u(a,e),d(()=>f(r,y("w-full h-1",t.disabled?"bg-secondary-lightest":"bg-primary-lightest"))),r})()};function p(){let t=null,n=null;const a=new Promise((s,r)=>{t=s,n=r});return a.id="pwr--"+w(4),{promise:a,resolve:t,reject:n}}function h(t){const n=new ArrayBuffer(t.byteLength);return new Uint8Array(n).set(new Uint8Array(t)),n}const x=async(t,n={})=>{const a=b(),{resolve:s,promise:r}=p(),e=a.createBufferSource(),i=h(t);if(e.buffer=await a.decodeAudioData(i),e.connect(a.destination),!n.abortSignal?.aborted)return n.abortSignal?.addEventListener("abort",()=>e.stop()),e.start(),e.addEventListener("ended",()=>s()),r};let o=null;function b(){return o==null&&(o=new AudioContext),o}export{C as D,x as p};
