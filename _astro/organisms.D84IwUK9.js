const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/YoutubePlayer.Be_LmD2Q.js","_astro/web.DcA5ypnZ.js","_astro/index.browser.SB4vPn2U.js","_astro/CheckButton.By-aBsoP.js","_astro/stop.BBEMwMoj.js","_astro/delay.2S0BUUWF.js","_astro/_commonjsHelpers.C4iS2aBk.js","_astro/usePersistentStore.CXrbfne9.js"])))=>i.map(i=>d[i]);
import{g as A,s as _r,a as me,t as C,z as Qr,e as x,i as g,c as v,b as he,M as je,A as et,F as rt,B as tt,o as $r,y as pr,d as at,m as j,l as Le,f as Fe,C as nt,j as it,k as De,D as st}from"./web.DcA5ypnZ.js";import{t as b,u as ot,y as ut,_ as ct,c as Re,a as lt}from"./usePersistentStore.CXrbfne9.js";import{S as Ge,c as ft}from"./techniqueStore.DBI2WB0g.js";import{F as Y,I as vt,L as dt}from"./ForEntries.OwYpHtoU.js";import{C as Se}from"./CheckButton.By-aBsoP.js";import{n as ht,S as ge}from"./index.browser.SB4vPn2U.js";import{c as K,a as yr}from"./_commonjsHelpers.C4iS2aBk.js";var gt=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z">');const _t=(e={})=>(()=>{var r=A(gt);return _r(r,e,!0,!0),me(),r})();var $t=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM15.08 7.05c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14">');const pt=(e={})=>(()=>{var r=A($t);return _r(r,e,!0,!0),me(),r})(),yt=["suwari waza","hanmi handachi waza","tachi waza","tanto dori","jo nage","jo dori","tachi dori"];function bt(e){const r={};for(const t of e)mt(r,t);return r}function mt(e,r){const t=oe(e,r.execution,ue),a=oe(t,r.attack,ue),n=oe(a,r.defence,ue);n[r.direction]=r.metadata}function oe(e,r,t){const a=e[r];if(a!=null)return a;const n=t();return e[r]=n,n}function ue(){return{}}var St=C('<div><!$><!/><div class="mt-8 border-secondary border-t text-sm hidden print:block">'),At=C('<div><h2 class="border-b border-1 border-secondary break-after-avoid"></h2><div>'),Ct=C('<div class="grid grid-cols-3 mt-4 break-inside-avoid"><div></div><div class="col-span-2 md:flex flex-wrap">'),xt=C("<div class=md:me-6><span></span>&nbsp;<!$><!/>"),Tt=C("<span><!$><!/><!$><!/>"),wt=C("<span class=print:hidden>");const Ot=Qr(()=>ct(async()=>{const{YoutubePlayer:e}=await import("./YoutubePlayer.Be_LmD2Q.js");return{YoutubePlayer:e}},__vite__mapDeps([0,1,2,3,4,5,6,7])).then(({YoutubePlayer:e})=>({default:e}))),Pt=e=>(()=>{var r=A(St),t=r.firstChild,[a,n]=x(t.nextSibling),i=a.nextSibling;return g(r,v(Y,{get object(){return bt(e.techniques)},children:(s,o)=>(()=>{var u=A(At),c=u.firstChild,f=c.nextSibling;return g(c,s),g(f,v(Y,{object:o,children:(h,l)=>(()=>{var $=A(Ct),_=$.firstChild,p=_.nextSibling;return g(_,h),g(p,v(Y,{object:l,children:(m,S)=>(()=>{var y=A(xt),E=y.firstChild,w=E.nextSibling,P=w.nextSibling,[ne,ie]=x(P.nextSibling);return g(E,m),g(y,v(Et,{directions:S}),ne,ie),y})()})),$})()})),u})()}),a,n),g(i,()=>b("examChooser.created-by",{url:window.location.origin})),r})(),Et=e=>{const r=he(()=>Object.keys(e.directions)),t=he(()=>r().length===1&&r()[0]===Ge);return v(et,{get children(){return[v(je,{get when(){return t()},get children(){return v(Ne,{get metadata(){return e.directions[Ge]}})}}),v(je,{get when(){return!t()},get children(){return v(Y,{get object(){return e.directions},separator:",",children:(a,n)=>(()=>{var i=A(Tt),s=i.firstChild,[o,u]=x(s.nextSibling),c=o.nextSibling,[f,h]=x(c.nextSibling);return g(i,a,o,u),g(i,v(Ne,{metadata:n}),f,h),i})()})}})]}})},Ne=e=>{const r=ot(ut,!1),t=e.metadata.youtube==null?[]:Array.isArray(e.metadata.youtube)?e.metadata.youtube:[e.metadata.youtube];return v(tt,{get when(){return r()},get children(){var a=A(wt);return g(a,v(rt,{each:t,children:n=>v(Ot,{type:"icon",class:"inline mx-2",link:n})})),a}})},It=e=>{function r(t,a){const n=new Set(e.value);a?n.add(t):n.delete(t),e.onChange(n)}return e.options.map(({id:t,label:a,wide:n})=>v(Se,{class:n?"col-span-2":"",get value(){return e.value.has(t)},label:a,onChange:i=>r(t,i)}))};function ce([e,r],{name:t,storage:a,serialize:n=JSON.stringify,deserialize:i=JSON.parse}){const s=a??localStorage,o=s.getItem(t);return setTimeout(()=>{o!=null&&r(i(o))}),$r(()=>{pr(()=>{s.setItem(t,n(e()))})}),[e,r]}var Mt=C('<div><header class="text-sm font-bold flex items-center pb-4 rounded gap-4"><div class="border-t border-secondary flex-1"></div><div class=""></div><div class="border-t flex-1 border-secondary"></div></header><div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 gap-4 mb-4">');const le=e=>(()=>{var r=A(Mt),t=r.firstChild,a=t.firstChild,n=a.nextSibling,i=t.nextSibling;return g(n,()=>e.headerLabel),g(i,()=>e.children),r})(),jt=e=>v(Se,{get label(){return b("examChooser.filters.kneeFriendly")},get value(){return e.value.kneeFriendly??!1},onChange:r=>e.onChange({kneeFriendly:r})});var Lt=C("<div><input type=range min=1 max=100><label>");const Ft=e=>{function r(o,u){e.onChange({...e.value,[o]:u})}const t=ht(),[a,n]=j(!1),[i,s]=j(e.value.includePercent);return pr(()=>s(e.value.includePercent)),$r(()=>{n(!0)}),[v(Se,{get label(){return b("examChooser.order.randomize")},get value(){return e.value.randomize},onChange:o=>r("randomize",o)}),v(ge,{color:"secondary",icon:_t,get label(){return b("examChooser.order.shuffle")},get disabled(){return!e.value.randomize},get onClick(){return e.onForceRefresh}}),(()=>{var o=A(Lt),u=o.firstChild,c=u.nextSibling;return u.addEventListener("change",f=>r("includePercent",Number(f.target.value))),u.$$input=f=>s(Number(f.target.value)),Le(u,"id",t),Le(c,"for",t),g(c,()=>b("examChooser.order.includePercent",{percent:i()})),Fe(f=>{var h={"flex flex-col justify-center col-span-2 items-center transition-opacity duration-200":!0,"text-secondary-light":!e.value.randomize,"opacity-0":!a(),"opacity-100":a()},l=`w-2/3 ${a()?"opacity-100":"opacity-0"} accent-primary`,$=!a||!e.value.randomize;return f.e=nt(o,h,f.e),l!==f.t&&it(u,f.t=l),$!==f.a&&De(u,"disabled",f.a=$),f},{e:void 0,t:void 0,a:void 0}),Fe(()=>De(u,"value",i())),me(),o})()]};at(["input"]);function Dt(e){const r=[];for(const t of e)for(const[a,n]of k(t.techniques))for(const[i,s]of k(n))for(const[o,u]of k(s))for(const[c,f]of k(u))r.push({execution:a,attack:i,defence:o,direction:c,metadata:f});return r}const k=Object.entries,Rt={kneeFriendly:{filter:e=>e.execution!=="suwari waza"&&e.execution!=="hanmi handachi waza"}};function Gt(e){return r=>!e.kneeFriendly||Rt.kneeFriendly.filter(r)}function Nt(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var zt=Nt,Bt=Math.floor,Ht=Math.random;function Kt(e,r){return e+Bt(Ht()*(r-e+1))}var kt=Kt,qt=kt;function Ut(e,r){var t=-1,a=e.length,n=a-1;for(r=r===void 0?a:r;++t<r;){var i=qt(t,n),s=e[i];e[i]=e[t],e[t]=s}return e.length=r,e}var br=Ut,Yt=zt,Jt=br;function Wt(e){return Jt(Yt(e))}var Xt=Wt;function Vt(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var mr=Vt,Zt=mr;function Qt(e,r){return Zt(r,function(t){return e[t]})}var ea=Qt;function ra(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var ta=ra,aa=typeof K=="object"&&K&&K.Object===Object&&K,Sr=aa,na=Sr,ia=typeof self=="object"&&self&&self.Object===Object&&self,sa=na||ia||Function("return this")(),O=sa,oa=O,ua=oa.Symbol,V=ua,ze=V,Ar=Object.prototype,ca=Ar.hasOwnProperty,la=Ar.toString,N=ze?ze.toStringTag:void 0;function fa(e){var r=ca.call(e,N),t=e[N];try{e[N]=void 0;var a=!0}catch{}var n=la.call(e);return a&&(r?e[N]=t:delete e[N]),n}var va=fa,da=Object.prototype,ha=da.toString;function ga(e){return ha.call(e)}var _a=ga,Be=V,$a=va,pa=_a,ya="[object Null]",ba="[object Undefined]",He=Be?Be.toStringTag:void 0;function ma(e){return e==null?e===void 0?ba:ya:He&&He in Object(e)?$a(e):pa(e)}var z=ma;function Sa(e){return e!=null&&typeof e=="object"}var B=Sa,Aa=z,Ca=B,xa="[object Arguments]";function Ta(e){return Ca(e)&&Aa(e)==xa}var wa=Ta,Ke=wa,Oa=B,Cr=Object.prototype,Pa=Cr.hasOwnProperty,Ea=Cr.propertyIsEnumerable,Ia=Ke(function(){return arguments}())?Ke:function(e){return Oa(e)&&Pa.call(e,"callee")&&!Ea.call(e,"callee")},xr=Ia,Ma=Array.isArray,T=Ma,J={exports:{}};function ja(){return!1}var La=ja;J.exports;(function(e,r){var t=O,a=La,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||a;e.exports=c})(J,J.exports);var Tr=J.exports,Fa=9007199254740991,Da=/^(?:0|[1-9]\d*)$/;function Ra(e,r){var t=typeof e;return r=r??Fa,!!r&&(t=="number"||t!="symbol"&&Da.test(e))&&e>-1&&e%1==0&&e<r}var wr=Ra,Ga=9007199254740991;function Na(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ga}var Ae=Na,za=z,Ba=Ae,Ha=B,Ka="[object Arguments]",ka="[object Array]",qa="[object Boolean]",Ua="[object Date]",Ya="[object Error]",Ja="[object Function]",Wa="[object Map]",Xa="[object Number]",Va="[object Object]",Za="[object RegExp]",Qa="[object Set]",en="[object String]",rn="[object WeakMap]",tn="[object ArrayBuffer]",an="[object DataView]",nn="[object Float32Array]",sn="[object Float64Array]",on="[object Int8Array]",un="[object Int16Array]",cn="[object Int32Array]",ln="[object Uint8Array]",fn="[object Uint8ClampedArray]",vn="[object Uint16Array]",dn="[object Uint32Array]",d={};d[nn]=d[sn]=d[on]=d[un]=d[cn]=d[ln]=d[fn]=d[vn]=d[dn]=!0;d[Ka]=d[ka]=d[tn]=d[qa]=d[an]=d[Ua]=d[Ya]=d[Ja]=d[Wa]=d[Xa]=d[Va]=d[Za]=d[Qa]=d[en]=d[rn]=!1;function hn(e){return Ha(e)&&Ba(e.length)&&!!d[za(e)]}var gn=hn;function _n(e){return function(r){return e(r)}}var $n=_n,W={exports:{}};W.exports;(function(e,r){var t=Sr,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var u=n&&n.require&&n.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(W,W.exports);var pn=W.exports,yn=gn,bn=$n,ke=pn,qe=ke&&ke.isTypedArray,mn=qe?bn(qe):yn,Or=mn,Sn=ta,An=xr,Cn=T,xn=Tr,Tn=wr,wn=Or,On=Object.prototype,Pn=On.hasOwnProperty;function En(e,r){var t=Cn(e),a=!t&&An(e),n=!t&&!a&&xn(e),i=!t&&!a&&!n&&wn(e),s=t||a||n||i,o=s?Sn(e.length,String):[],u=o.length;for(var c in e)(r||Pn.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Tn(c,u)))&&o.push(c);return o}var In=En,Mn=Object.prototype;function jn(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Mn;return e===t}var Ln=jn;function Fn(e,r){return function(t){return e(r(t))}}var Dn=Fn,Rn=Dn,Gn=Rn(Object.keys,Object),Nn=Gn,zn=Ln,Bn=Nn,Hn=Object.prototype,Kn=Hn.hasOwnProperty;function kn(e){if(!zn(e))return Bn(e);var r=[];for(var t in Object(e))Kn.call(e,t)&&t!="constructor"&&r.push(t);return r}var qn=kn;function Un(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Ce=Un,Yn=z,Jn=Ce,Wn="[object AsyncFunction]",Xn="[object Function]",Vn="[object GeneratorFunction]",Zn="[object Proxy]";function Qn(e){if(!Jn(e))return!1;var r=Yn(e);return r==Xn||r==Vn||r==Wn||r==Zn}var Pr=Qn,ei=Pr,ri=Ae;function ti(e){return e!=null&&ri(e.length)&&!ei(e)}var Er=ti,ai=In,ni=qn,ii=Er;function si(e){return ii(e)?ai(e):ni(e)}var Z=si,oi=ea,ui=Z;function ci(e){return e==null?[]:oi(e,ui(e))}var li=ci,fi=br,vi=li;function di(e){return fi(vi(e))}var hi=di,gi=Xt,_i=hi,$i=T;function pi(e){var r=$i(e)?gi:_i;return r(e)}var yi=pi;const bi=yr(yi);function mi(e){return bi(e)}function Si(e,{includePercent:r=100}={}){const t=mi(e),a=Math.ceil(r*e.length/100);return t.slice(0,a)}var Ai=O,Ci=Ai["__core-js_shared__"],xi=Ci,fe=xi,Ue=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ti(e){return!!Ue&&Ue in e}var wi=Ti,Oi=Function.prototype,Pi=Oi.toString;function Ei(e){if(e!=null){try{return Pi.call(e)}catch{}try{return e+""}catch{}}return""}var Ir=Ei,Ii=Pr,Mi=wi,ji=Ce,Li=Ir,Fi=/[\\^$.*+?()[\]{}|]/g,Di=/^\[object .+?Constructor\]$/,Ri=Function.prototype,Gi=Object.prototype,Ni=Ri.toString,zi=Gi.hasOwnProperty,Bi=RegExp("^"+Ni.call(zi).replace(Fi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hi(e){if(!ji(e)||Mi(e))return!1;var r=Ii(e)?Bi:Di;return r.test(Li(e))}var Ki=Hi;function ki(e,r){return e?.[r]}var qi=ki,Ui=Ki,Yi=qi;function Ji(e,r){var t=Yi(e,r);return Ui(t)?t:void 0}var M=Ji,Wi=M,Xi=function(){try{var e=Wi(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Vi=Xi,Ye=Vi;function Zi(e,r,t){r=="__proto__"&&Ye?Ye(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Qi=Zi;function es(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var rs=es;function ts(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var u=s[e?o:++n];if(t(i[u],u,i)===!1)break}return r}}var as=ts,ns=as,is=ns(),ss=is,os=ss,us=Z;function cs(e,r){return e&&os(e,r,us)}var ls=cs,fs=Er;function vs(e,r){return function(t,a){if(t==null)return t;if(!fs(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var ds=vs,hs=ls,gs=ds,_s=gs(hs),$s=_s,ps=$s;function ys(e,r,t,a){return ps(e,function(n,i,s){r(a,n,t(n),s)}),a}var bs=ys;function ms(){this.__data__=[],this.size=0}var Ss=ms;function As(e,r){return e===r||e!==e&&r!==r}var Mr=As,Cs=Mr;function xs(e,r){for(var t=e.length;t--;)if(Cs(e[t][0],r))return t;return-1}var Q=xs,Ts=Q,ws=Array.prototype,Os=ws.splice;function Ps(e){var r=this.__data__,t=Ts(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():Os.call(r,t,1),--this.size,!0}var Es=Ps,Is=Q;function Ms(e){var r=this.__data__,t=Is(r,e);return t<0?void 0:r[t][1]}var js=Ms,Ls=Q;function Fs(e){return Ls(this.__data__,e)>-1}var Ds=Fs,Rs=Q;function Gs(e,r){var t=this.__data__,a=Rs(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Ns=Gs,zs=Ss,Bs=Es,Hs=js,Ks=Ds,ks=Ns;function L(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}L.prototype.clear=zs;L.prototype.delete=Bs;L.prototype.get=Hs;L.prototype.has=Ks;L.prototype.set=ks;var ee=L,qs=ee;function Us(){this.__data__=new qs,this.size=0}var Ys=Us;function Js(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Ws=Js;function Xs(e){return this.__data__.get(e)}var Vs=Xs;function Zs(e){return this.__data__.has(e)}var Qs=Zs,eo=M,ro=O,to=eo(ro,"Map"),xe=to,ao=M,no=ao(Object,"create"),re=no,Je=re;function io(){this.__data__=Je?Je(null):{},this.size=0}var so=io;function oo(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var uo=oo,co=re,lo="__lodash_hash_undefined__",fo=Object.prototype,vo=fo.hasOwnProperty;function ho(e){var r=this.__data__;if(co){var t=r[e];return t===lo?void 0:t}return vo.call(r,e)?r[e]:void 0}var go=ho,_o=re,$o=Object.prototype,po=$o.hasOwnProperty;function yo(e){var r=this.__data__;return _o?r[e]!==void 0:po.call(r,e)}var bo=yo,mo=re,So="__lodash_hash_undefined__";function Ao(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=mo&&r===void 0?So:r,this}var Co=Ao,xo=so,To=uo,wo=go,Oo=bo,Po=Co;function F(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}F.prototype.clear=xo;F.prototype.delete=To;F.prototype.get=wo;F.prototype.has=Oo;F.prototype.set=Po;var Eo=F,We=Eo,Io=ee,Mo=xe;function jo(){this.size=0,this.__data__={hash:new We,map:new(Mo||Io),string:new We}}var Lo=jo;function Fo(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Do=Fo,Ro=Do;function Go(e,r){var t=e.__data__;return Ro(r)?t[typeof r=="string"?"string":"hash"]:t.map}var te=Go,No=te;function zo(e){var r=No(this,e).delete(e);return this.size-=r?1:0,r}var Bo=zo,Ho=te;function Ko(e){return Ho(this,e).get(e)}var ko=Ko,qo=te;function Uo(e){return qo(this,e).has(e)}var Yo=Uo,Jo=te;function Wo(e,r){var t=Jo(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Xo=Wo,Vo=Lo,Zo=Bo,Qo=ko,eu=Yo,ru=Xo;function D(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}D.prototype.clear=Vo;D.prototype.delete=Zo;D.prototype.get=Qo;D.prototype.has=eu;D.prototype.set=ru;var Te=D,tu=ee,au=xe,nu=Te,iu=200;function su(e,r){var t=this.__data__;if(t instanceof tu){var a=t.__data__;if(!au||a.length<iu-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new nu(a)}return t.set(e,r),this.size=t.size,this}var ou=su,uu=ee,cu=Ys,lu=Ws,fu=Vs,vu=Qs,du=ou;function R(e){var r=this.__data__=new uu(e);this.size=r.size}R.prototype.clear=cu;R.prototype.delete=lu;R.prototype.get=fu;R.prototype.has=vu;R.prototype.set=du;var jr=R,hu="__lodash_hash_undefined__";function gu(e){return this.__data__.set(e,hu),this}var _u=gu;function $u(e){return this.__data__.has(e)}var pu=$u,yu=Te,bu=_u,mu=pu;function X(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new yu;++r<t;)this.add(e[r])}X.prototype.add=X.prototype.push=bu;X.prototype.has=mu;var Su=X;function Au(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var Cu=Au;function xu(e,r){return e.has(r)}var Tu=xu,wu=Su,Ou=Cu,Pu=Tu,Eu=1,Iu=2;function Mu(e,r,t,a,n,i){var s=t&Eu,o=e.length,u=r.length;if(o!=u&&!(s&&u>o))return!1;var c=i.get(e),f=i.get(r);if(c&&f)return c==r&&f==e;var h=-1,l=!0,$=t&Iu?new wu:void 0;for(i.set(e,r),i.set(r,e);++h<o;){var _=e[h],p=r[h];if(a)var m=s?a(p,_,h,r,e,i):a(_,p,h,e,r,i);if(m!==void 0){if(m)continue;l=!1;break}if($){if(!Ou(r,function(S,y){if(!Pu($,y)&&(_===S||n(_,S,t,a,i)))return $.push(y)})){l=!1;break}}else if(!(_===p||n(_,p,t,a,i))){l=!1;break}}return i.delete(e),i.delete(r),l}var Lr=Mu,ju=O,Lu=ju.Uint8Array,Fu=Lu;function Du(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var Ru=Du;function Gu(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Nu=Gu,Xe=V,Ve=Fu,zu=Mr,Bu=Lr,Hu=Ru,Ku=Nu,ku=1,qu=2,Uu="[object Boolean]",Yu="[object Date]",Ju="[object Error]",Wu="[object Map]",Xu="[object Number]",Vu="[object RegExp]",Zu="[object Set]",Qu="[object String]",ec="[object Symbol]",rc="[object ArrayBuffer]",tc="[object DataView]",Ze=Xe?Xe.prototype:void 0,ve=Ze?Ze.valueOf:void 0;function ac(e,r,t,a,n,i,s){switch(t){case tc:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case rc:return!(e.byteLength!=r.byteLength||!i(new Ve(e),new Ve(r)));case Uu:case Yu:case Xu:return zu(+e,+r);case Ju:return e.name==r.name&&e.message==r.message;case Vu:case Qu:return e==r+"";case Wu:var o=Hu;case Zu:var u=a&ku;if(o||(o=Ku),e.size!=r.size&&!u)return!1;var c=s.get(e);if(c)return c==r;a|=qu,s.set(e,r);var f=Bu(o(e),o(r),a,n,i,s);return s.delete(e),f;case ec:if(ve)return ve.call(e)==ve.call(r)}return!1}var nc=ac;function ic(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var sc=ic,oc=sc,uc=T;function cc(e,r,t){var a=r(e);return uc(e)?a:oc(a,t(e))}var lc=cc;function fc(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var vc=fc;function dc(){return[]}var hc=dc,gc=vc,_c=hc,$c=Object.prototype,pc=$c.propertyIsEnumerable,Qe=Object.getOwnPropertySymbols,yc=Qe?function(e){return e==null?[]:(e=Object(e),gc(Qe(e),function(r){return pc.call(e,r)}))}:_c,bc=yc,mc=lc,Sc=bc,Ac=Z;function Cc(e){return mc(e,Ac,Sc)}var xc=Cc,er=xc,Tc=1,wc=Object.prototype,Oc=wc.hasOwnProperty;function Pc(e,r,t,a,n,i){var s=t&Tc,o=er(e),u=o.length,c=er(r),f=c.length;if(u!=f&&!s)return!1;for(var h=u;h--;){var l=o[h];if(!(s?l in r:Oc.call(r,l)))return!1}var $=i.get(e),_=i.get(r);if($&&_)return $==r&&_==e;var p=!0;i.set(e,r),i.set(r,e);for(var m=s;++h<u;){l=o[h];var S=e[l],y=r[l];if(a)var E=s?a(y,S,l,r,e,i):a(S,y,l,e,r,i);if(!(E===void 0?S===y||n(S,y,t,a,i):E)){p=!1;break}m||(m=l=="constructor")}if(p&&!m){var w=e.constructor,P=r.constructor;w!=P&&"constructor"in e&&"constructor"in r&&!(typeof w=="function"&&w instanceof w&&typeof P=="function"&&P instanceof P)&&(p=!1)}return i.delete(e),i.delete(r),p}var Ec=Pc,Ic=M,Mc=O,jc=Ic(Mc,"DataView"),Lc=jc,Fc=M,Dc=O,Rc=Fc(Dc,"Promise"),Gc=Rc,Nc=M,zc=O,Bc=Nc(zc,"Set"),Hc=Bc,Kc=M,kc=O,qc=Kc(kc,"WeakMap"),Uc=qc,_e=Lc,$e=xe,pe=Gc,ye=Hc,be=Uc,Fr=z,G=Ir,rr="[object Map]",Yc="[object Object]",tr="[object Promise]",ar="[object Set]",nr="[object WeakMap]",ir="[object DataView]",Jc=G(_e),Wc=G($e),Xc=G(pe),Vc=G(ye),Zc=G(be),I=Fr;(_e&&I(new _e(new ArrayBuffer(1)))!=ir||$e&&I(new $e)!=rr||pe&&I(pe.resolve())!=tr||ye&&I(new ye)!=ar||be&&I(new be)!=nr)&&(I=function(e){var r=Fr(e),t=r==Yc?e.constructor:void 0,a=t?G(t):"";if(a)switch(a){case Jc:return ir;case Wc:return rr;case Xc:return tr;case Vc:return ar;case Zc:return nr}return r});var Qc=I,de=jr,el=Lr,rl=nc,tl=Ec,sr=Qc,or=T,ur=Tr,al=Or,nl=1,cr="[object Arguments]",lr="[object Array]",q="[object Object]",il=Object.prototype,fr=il.hasOwnProperty;function sl(e,r,t,a,n,i){var s=or(e),o=or(r),u=s?lr:sr(e),c=o?lr:sr(r);u=u==cr?q:u,c=c==cr?q:c;var f=u==q,h=c==q,l=u==c;if(l&&ur(e)){if(!ur(r))return!1;s=!0,f=!1}if(l&&!f)return i||(i=new de),s||al(e)?el(e,r,t,a,n,i):rl(e,r,u,t,a,n,i);if(!(t&nl)){var $=f&&fr.call(e,"__wrapped__"),_=h&&fr.call(r,"__wrapped__");if($||_){var p=$?e.value():e,m=_?r.value():r;return i||(i=new de),n(p,m,t,a,i)}}return l?(i||(i=new de),tl(e,r,t,a,n,i)):!1}var ol=sl,ul=ol,vr=B;function Dr(e,r,t,a,n){return e===r?!0:e==null||r==null||!vr(e)&&!vr(r)?e!==e&&r!==r:ul(e,r,t,a,Dr,n)}var Rr=Dr,cl=jr,ll=Rr,fl=1,vl=2;function dl(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var u=o[0],c=e[u],f=o[1];if(s&&o[2]){if(c===void 0&&!(u in e))return!1}else{var h=new cl;if(a)var l=a(c,f,u,e,r,h);if(!(l===void 0?ll(f,c,fl|vl,a,h):l))return!1}}return!0}var hl=dl,gl=Ce;function _l(e){return e===e&&!gl(e)}var Gr=_l,$l=Gr,pl=Z;function yl(e){for(var r=pl(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,$l(n)]}return r}var bl=yl;function ml(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Nr=ml,Sl=hl,Al=bl,Cl=Nr;function xl(e){var r=Al(e);return r.length==1&&r[0][2]?Cl(r[0][0],r[0][1]):function(t){return t===e||Sl(t,e,r)}}var Tl=xl,wl=z,Ol=B,Pl="[object Symbol]";function El(e){return typeof e=="symbol"||Ol(e)&&wl(e)==Pl}var we=El,Il=T,Ml=we,jl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ll=/^\w*$/;function Fl(e,r){if(Il(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ml(e)?!0:Ll.test(e)||!jl.test(e)||r!=null&&e in Object(r)}var Oe=Fl,zr=Te,Dl="Expected a function";function Pe(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Dl);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(Pe.Cache||zr),t}Pe.Cache=zr;var Rl=Pe,Gl=Rl,Nl=500;function zl(e){var r=Gl(e,function(a){return t.size===Nl&&t.clear(),a}),t=r.cache;return r}var Bl=zl,Hl=Bl,Kl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kl=/\\(\\)?/g,ql=Hl(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Kl,function(t,a,n,i){r.push(n?i.replace(kl,"$1"):a||t)}),r}),Ul=ql,dr=V,Yl=mr,Jl=T,Wl=we,Xl=1/0,hr=dr?dr.prototype:void 0,gr=hr?hr.toString:void 0;function Br(e){if(typeof e=="string")return e;if(Jl(e))return Yl(e,Br)+"";if(Wl(e))return gr?gr.call(e):"";var r=e+"";return r=="0"&&1/e==-Xl?"-0":r}var Vl=Br,Zl=Vl;function Ql(e){return e==null?"":Zl(e)}var ef=Ql,rf=T,tf=Oe,af=Ul,nf=ef;function sf(e,r){return rf(e)?e:tf(e,r)?[e]:af(nf(e))}var Hr=sf,of=we,uf=1/0;function cf(e){if(typeof e=="string"||of(e))return e;var r=e+"";return r=="0"&&1/e==-uf?"-0":r}var ae=cf,lf=Hr,ff=ae;function vf(e,r){r=lf(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[ff(r[t++])];return t&&t==a?e:void 0}var Kr=vf,df=Kr;function hf(e,r,t){var a=e==null?void 0:df(e,r);return a===void 0?t:a}var gf=hf;function _f(e,r){return e!=null&&r in Object(e)}var $f=_f,pf=Hr,yf=xr,bf=T,mf=wr,Sf=Ae,Af=ae;function Cf(e,r,t){r=pf(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=Af(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&Sf(n)&&mf(s,n)&&(bf(e)||yf(e)))}var xf=Cf,Tf=$f,wf=xf;function Of(e,r){return e!=null&&wf(e,r,Tf)}var Pf=Of,Ef=Rr,If=gf,Mf=Pf,jf=Oe,Lf=Gr,Ff=Nr,Df=ae,Rf=1,Gf=2;function Nf(e,r){return jf(e)&&Lf(r)?Ff(Df(e),r):function(t){var a=If(t,e);return a===void 0&&a===r?Mf(t,e):Ef(r,a,Rf|Gf)}}var zf=Nf;function Bf(e){return e}var Hf=Bf;function Kf(e){return function(r){return r?.[e]}}var kf=Kf,qf=Kr;function Uf(e){return function(r){return qf(r,e)}}var Yf=Uf,Jf=kf,Wf=Yf,Xf=Oe,Vf=ae;function Zf(e){return Xf(e)?Jf(Vf(e)):Wf(e)}var Qf=Zf,ev=Tl,rv=zf,tv=Hf,av=T,nv=Qf;function iv(e){return typeof e=="function"?e:e==null?tv:typeof e=="object"?av(e)?rv(e[0],e[1]):ev(e):nv(e)}var sv=iv,ov=rs,uv=bs,cv=sv,lv=T;function fv(e,r){return function(t,a){var n=lv(t)?ov:uv,i=r?r():{};return n(t,e,cv(a),i)}}var vv=fv,dv=Qi,hv=vv,gv=Object.prototype,_v=gv.hasOwnProperty,$v=hv(function(e,r,t){_v.call(e,t)?e[t].push(r):dv(e,t,[r])}),pv=$v;const yv=yr(pv);function bv(e,{orderExecutions:r=!1}={}){return U(e,"execution",r?yt:null,a=>U(a,"attack",null,n=>U(n,"defence",null,i=>U(i,"direction",null,s=>s))))}function U(e,r,t,a){const n=mv(e,r);return t!=null?t.flatMap(i=>a(n[i]??[])):Object.values(n).flatMap(a)}function mv(e,r){return yv(e,r)}function Sv(e,r){const t=r.selectedExams??new Set,a=r.filters??{},n=r.order?.randomize??!1,i=r.order?.includePercent??100,s=r.order?.orderExecutions??!1;let o=Dt(e.filter(u=>t.has(u.id)));return o=o.filter(Gt(a)),n&&(o=Si(o,{includePercent:i})),bv(o,{orderExecutions:s})}var Av=C("<div><!$><!/><!$><!/><!$><!/><div>"),Cv=C('<div class=my-10><div class="flex justify-end gap-4 sticky top-0 py-2 bg-white"><!$><!/><!$><!/></div><!$><!/><div class="flex items-center justify-end mt-16 gap-4"><span></span><span>');const Fv=e=>{const[r,t]=ce(j(new Set),{name:"examSelection:"+e.dojo.info.id,storage:sessionStorage,serialize:l=>JSON.stringify(Array.from(l)),deserialize:l=>new Set(JSON.parse(l))}),[a,n]=ce(j({kneeFriendly:!1}),{name:"techniqueFilters:"+e.dojo.info.id,storage:sessionStorage}),[i,s]=ce(j({randomize:!0,includePercent:80}),{name:"orderOptions:"+e.dojo.info.id,storage:sessionStorage}),[o,u]=j(!1);function c(){u(l=>!l)}const f=st(()=>(o(),Sv(e.dojo.details.exams,{order:{...i(),orderExecutions:!0},selectedExams:r(),filters:a()}))),h=async()=>{const{save:l}=ft(e.dojo.info.id);await l(f()),document.location.href=Re(`/${e.dojo.info.id}/reader`)};return(()=>{var l=A(Av),$=l.firstChild,[_,p]=x($.nextSibling),m=_.nextSibling,[S,y]=x(m.nextSibling),E=S.nextSibling,[w,P]=x(E.nextSibling),ne=w.nextSibling;return g(l,v(le,{get headerLabel(){return b("examChooser.exams.header")},get children(){return v(It,{get options(){return xv(e.dojo.details.exams)},get value(){return r()},onChange:t})}}),_,p),g(l,v(le,{get headerLabel(){return b("examChooser.filters.header")},get children(){return v(jt,{get value(){return a()},onChange:n})}}),S,y),g(l,v(le,{get headerLabel(){return b("examChooser.order.header")},get children(){return v(Ft,{get value(){return i()},onChange:s,onForceRefresh:c})}}),w,P),g(ne,(()=>{var ie=he(()=>r().size>0);return()=>ie()&&(()=>{var se=A(Cv),H=se.firstChild,kr=H.firstChild,[Ee,qr]=x(kr.nextSibling),Ur=Ee.nextSibling,[Yr,Jr]=x(Ur.nextSibling),Wr=H.nextSibling,[Ie,Xr]=x(Wr.nextSibling),Vr=Ie.nextSibling,Me=Vr.firstChild,Zr=Me.nextSibling;return g(H,v(ge,{size:"small",color:"primary",icon:pt,get label(){return b("examChooser.read")},onClick:h}),Ee,qr),g(H,v(ge,{size:"small",color:"secondary",icon:vt,get label(){return b("examChooser.print")},onClick:()=>window.print()}),Yr,Jr),g(se,v(Pt,{get techniques(){return f()}}),Ie,Xr),g(Me,()=>b("donations.question")),g(Zr,v(dt,{size:"small",get label(){return b("donations.action")},get href(){return Re("/donations")}})),se})()})()),l})()};function xv(e){return e.map(r=>({id:r.id,label:wv(r.label)}))}const Tv={kyu5:"chooser.button.kyu5",kyu4:"chooser.button.kyu4",kyu3:"chooser.button.kyu3",kyu2:"chooser.button.kyu2",kyu1:"chooser.button.kyu1",dan1:"chooser.button.dan1",dan2:"chooser.button.dan2",dan3:"chooser.button.dan3",dan4:"chooser.button.dan4"};function wv(e){switch(e.type){case"wellknown":return b(Tv[e.key]);case"free":return lt(e.text)}}export{Fv as TechniqueChooser};
